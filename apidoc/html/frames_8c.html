<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta charset="utf-8"/>
<meta name="description" content="SuperNOVAS C/C++ astrometry library"/>
<meta name="keywords" content="astronomy, astrometry, C, C++, C99, software library, open source, NOVAS"/>
<meta name="author" content="Attila Kovacs"/>
<meta name="copyright" content="(C)2024 Attila Kovacs" />
<meta name="robots" content="index,follow"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HLFWKSM8V9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HLFWKSM8V9');
</script>
<link rel="shortcut icon" type="image/x-icon" href="/SuperNOVAS/resources/favicon.ico" />
<link rel="icon" type="image/png" sizes="192x192" href="/SuperNOVAS/resources/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="/SuperNOVAS/resources/android-chrome-512x512.png" />
<link rel="apple-touch-icon" type="image/png" href="/SuperNOVAS/resources/apple-touch-icon.png" />
<title>SuperNOVAS: src/frames.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="smithsonian-logo-55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">SuperNOVAS<span id="projectnumber">&#160;v1.2</span>
   </div>
   <div id="projectbrief">The NOVAS C library, made better</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('frames_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">frames.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a850d4988b6e1ee4e16274b2c723f93c4" id="r_a850d4988b6e1ee4e16274b2c723f93c4"><td class="memItemLeft" align="right" valign="top"><a id="a850d4988b6e1ee4e16274b2c723f93c4" name="a850d4988b6e1ee4e16274b2c723f93c4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DA0</b>&#160;&#160;&#160;(-0.01460 * ARCSEC)</td></tr>
<tr class="memdesc:a850d4988b6e1ee4e16274b2c723f93c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame bias term da<sub>0</sub> <br /></td></tr>
<tr class="separator:a850d4988b6e1ee4e16274b2c723f93c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3263879bdfa579845d9bf404ab20208" id="r_ac3263879bdfa579845d9bf404ab20208"><td class="memItemLeft" align="right" valign="top"><a id="ac3263879bdfa579845d9bf404ab20208" name="ac3263879bdfa579845d9bf404ab20208"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ETA0</b>&#160;&#160;&#160;(-0.0068192 * ARCSEC)</td></tr>
<tr class="memdesc:ac3263879bdfa579845d9bf404ab20208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame bias term &eta;<sub>0</sub> <br /></td></tr>
<tr class="separator:ac3263879bdfa579845d9bf404ab20208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e131aa097cc3b5dd7d66533780aff3e" id="r_a9e131aa097cc3b5dd7d66533780aff3e"><td class="memItemLeft" align="right" valign="top"><a id="a9e131aa097cc3b5dd7d66533780aff3e" name="a9e131aa097cc3b5dd7d66533780aff3e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>XI0</b>&#160;&#160;&#160;(-0.0166170 * ARCSEC)</td></tr>
<tr class="memdesc:a9e131aa097cc3b5dd7d66533780aff3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame bias term &xi;<sub>0</sub> <br /></td></tr>
<tr class="separator:a9e131aa097cc3b5dd7d66533780aff3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a83db7db5a0ed0311610391f199b9f66c" id="r_a83db7db5a0ed0311610391f199b9f66c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#a83db7db5a0ed0311610391f199b9f66c">novas_app_to_geom</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *frame, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double ra, double dec, double dist, double *geom_icrs)</td></tr>
<tr class="separator:a83db7db5a0ed0311610391f199b9f66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae84debf8ab4d3b16feaaefdcb0ebbd08" id="r_ae84debf8ab4d3b16feaaefdcb0ebbd08"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#ae84debf8ab4d3b16feaaefdcb0ebbd08">novas_app_to_hor</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *frame, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double ra, double dec, <a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model, double *az, double *el)</td></tr>
<tr class="separator:ae84debf8ab4d3b16feaaefdcb0ebbd08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2972b3eafa2d7f6c29cff34bad9fcf0d" id="r_a2972b3eafa2d7f6c29cff34bad9fcf0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#a2972b3eafa2d7f6c29cff34bad9fcf0d">novas_change_observer</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *orig, const <a class="el" href="structobserver.html">observer</a> *obs, <a class="el" href="structnovas__frame.html">novas_frame</a> *out)</td></tr>
<tr class="separator:a2972b3eafa2d7f6c29cff34bad9fcf0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f4d3710a277c8b284487fe175e4d49" id="r_ae6f4d3710a277c8b284487fe175e4d49"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#ae6f4d3710a277c8b284487fe175e4d49">novas_geom_posvel</a> (const <a class="el" href="structobject.html">object</a> *source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *frame, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double *pos, double *vel)</td></tr>
<tr class="separator:ae6f4d3710a277c8b284487fe175e4d49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad412ac774327a4120237dc3b3110f9a0" id="r_ad412ac774327a4120237dc3b3110f9a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#ad412ac774327a4120237dc3b3110f9a0">novas_geom_to_app</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *frame, const double *pos, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, <a class="el" href="structsky__pos.html">sky_pos</a> *out)</td></tr>
<tr class="separator:ad412ac774327a4120237dc3b3110f9a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4849c7fca260cfb7c1d716566f4170ac" id="r_a4849c7fca260cfb7c1d716566f4170ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#a4849c7fca260cfb7c1d716566f4170ac">novas_hor_to_app</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *frame, double az, double el, <a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double *ra, double *dec)</td></tr>
<tr class="separator:a4849c7fca260cfb7c1d716566f4170ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2081e123024609d3071b33b183502b7" id="r_ad2081e123024609d3071b33b183502b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#ad2081e123024609d3071b33b183502b7">novas_invert_transform</a> (const <a class="el" href="structnovas__transform.html">novas_transform</a> *transform, <a class="el" href="structnovas__transform.html">novas_transform</a> *inverse)</td></tr>
<tr class="separator:ad2081e123024609d3071b33b183502b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfee69517c7432733c8382c88371c983" id="r_abfee69517c7432733c8382c88371c983"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#abfee69517c7432733c8382c88371c983">novas_make_frame</a> (enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> accuracy, const <a class="el" href="structobserver.html">observer</a> *obs, const <a class="el" href="structnovas__timespec.html">novas_timespec</a> *time, double dx, double dy, <a class="el" href="structnovas__frame.html">novas_frame</a> *frame)</td></tr>
<tr class="separator:abfee69517c7432733c8382c88371c983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d179c8573319fc25c775ce56ba055dc" id="r_a4d179c8573319fc25c775ce56ba055dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *frame, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> from_system, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> to_system, <a class="el" href="structnovas__transform.html">novas_transform</a> *transform)</td></tr>
<tr class="separator:a4d179c8573319fc25c775ce56ba055dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e894a83f3065bbb706212d1267dd2ab" id="r_a4e894a83f3065bbb706212d1267dd2ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#a4e894a83f3065bbb706212d1267dd2ab">novas_sky_pos</a> (const <a class="el" href="structobject.html">object</a> *<a class="el" href="structobject.html">object</a>, const <a class="el" href="structnovas__frame.html">novas_frame</a> *frame, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, <a class="el" href="structsky__pos.html">sky_pos</a> *out)</td></tr>
<tr class="separator:a4e894a83f3065bbb706212d1267dd2ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88972e93665bb1903795bfff264c14f6" id="r_a88972e93665bb1903795bfff264c14f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#a88972e93665bb1903795bfff264c14f6">novas_transform_sky_pos</a> (const <a class="el" href="structsky__pos.html">sky_pos</a> *in, const <a class="el" href="structnovas__transform.html">novas_transform</a> *transform, <a class="el" href="structsky__pos.html">sky_pos</a> *out)</td></tr>
<tr class="separator:a88972e93665bb1903795bfff264c14f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb7bc88119eed4ea54373a42e22a0d4" id="r_aadb7bc88119eed4ea54373a42e22a0d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frames_8c.html#aadb7bc88119eed4ea54373a42e22a0d4">novas_transform_vector</a> (const double *in, const <a class="el" href="structnovas__transform.html">novas_transform</a> *transform, double *out)</td></tr>
<tr class="separator:aadb7bc88119eed4ea54373a42e22a0d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>Created on Jun 23, 2024 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1</dd></dl>
<p>SuperNOVAS routines for higher-level and efficient repeat coordinate transformations using observer frames. Observer frames represent an observer location at a specific astronomical time (instant), which can be re-used again and again to calculate or transform positions of celestial sources in a a range of astronomical coordinate systems.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="timescale_8c.html">timescale.c</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a83db7db5a0ed0311610391f199b9f66c" name="a83db7db5a0ed0311610391f199b9f66c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83db7db5a0ed0311610391f199b9f66c">&#9670;&#160;</a></span>novas_app_to_geom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_app_to_geom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a>&#160;</td>
          <td class="paramname"><em>sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>geom_icrs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts an observed apparent sky position of a source to an ICRS geometric position, by undoing the gravitational deflection and aberration corrections.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>The observer frame, defining the location and time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>The reference system in which the observed position is specified. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ra</td><td>[h] Observed ICRS right-ascension of the source </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dec</td><td>[deg] Observed ICRS declination of the source </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dist</td><td>[AU] Observed distance from observer. A value of &lt;=0 will translate to 10<sup>15</sup> AU (around 5 Gpc). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">geom_icrs</td><td>[AU] The corresponding geometric position for the source, in ICRS. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else an error from grav_undef2(), or -1 (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#ad412ac774327a4120237dc3b3110f9a0">novas_geom_to_app()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#a4849c7fca260cfb7c1d716566f4170ac">novas_hor_to_app()</a> </dd>
<dd>
novas_geom_to_hor() </dd>
<dd>
<a class="el" href="frames_8c.html#aadb7bc88119eed4ea54373a42e22a0d4">novas_transform_vector()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#ab0781cc6d1fa84411eeca631bb39d615">novas_frame::gcrs_to_cirs</a>, <a class="el" href="super_8c.html#ae68d01655c4b37b5a3e1422f0062f94c">grav_undo_planets()</a>, <a class="el" href="structnovas__frame.html#aae2b172beac21d0c2a5f256bc8ad40bc">novas_frame::icrs_to_j2000</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eacbee2de517939c156e61fb5f9631e044">NOVAS_CIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ead110200de7f232d9110467c0862733d9">NOVAS_J2000</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5a2a55ff66f97310a9641d7ffa60b8dd">NOVAS_MOD</a>, <a class="el" href="novas_8h.html#ae55994629ca97e634b1bb97aafb3f49b">NOVAS_REFERENCE_SYSTEMS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="el" href="structnovas__frame.html#ac143b7ebb821de32278d5d4f3a4e75c3">novas_frame::nutation</a>, <a class="el" href="structnovas__frame.html#ac2558d2b29171b29bad2599c75d3cc6c">novas_frame::obs_pos</a>, <a class="el" href="structnovas__frame.html#a78ace4b8a99aace5313f4011a842d199">novas_frame::planets</a>, <a class="el" href="structnovas__frame.html#a1768e94e9ee04287bc18b3eb6a79f36c">novas_frame::precession</a>, and <a class="el" href="novas_8c.html#acf86ce700b3d3509ebba13e5f16a4327">radec2vector()</a>.</p>

</div>
</div>
<a id="ae84debf8ab4d3b16feaaefdcb0ebbd08" name="ae84debf8ab4d3b16feaaefdcb0ebbd08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae84debf8ab4d3b16feaaefdcb0ebbd08">&#9670;&#160;</a></span>novas_app_to_hor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_app_to_hor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a>&#160;</td>
          <td class="paramname"><em>sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a>&#160;</td>
          <td class="paramname"><em>ref_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>az</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>el</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts an observed apparent position vector in the specified coordinate system to local horizontal coordinates in the specified observer frame. The observer must be located on the surface of Earth, or else the call will return with an error. The caller may optionally supply a refraction model of choice to calculate an appropriate elevation angle that includes a refraction correction for Earth's atmosphere. If no such model is provided the calculated elevation will be the astrometric elevation without a refraction correction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>Observer frame, defining the time and place of observation (on Earth). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>Astronomical coordinate system in which the observed position is given. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ra</td><td>[h] Observed apparent right ascension (R.A.) coordinate </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dec</td><td>[deg] Observed apparent declination coordinate </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ref_model</td><td>An appropriate refraction model, or NULL to calculate unrefracted elevation. Depending on the refraction model, you might want to make sure that the weather parameters were set when the observing frame was defined. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">az</td><td>[deg] Calculated azimuth angle. It may be NULL if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">el</td><td>[deg] Calculated elevation angle. It may be NULL if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else an error from <a class="el" href="super_8c.html#a4551e2ac083e34c1b2b61b3805efb9a3">tod_to_itrs()</a> or <a class="el" href="super_8c.html#aa2768d89d499a7155f90a6fd8c176d8d">cirs_to_itrs()</a>, or -1 (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#a4849c7fca260cfb7c1d716566f4170ac">novas_hor_to_app()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#a83db7db5a0ed0311610391f199b9f66c">novas_app_to_geom()</a> </dd>
<dd>
<a class="el" href="refract_8c.html#ab04bff3b97c132e358e11c3a5b7a3081">novas_standard_refraction()</a> </dd>
<dd>
<a class="el" href="refract_8c.html#ae4511a80a1defbb1e1fdc29c289e7de4">novas_optical_refraction()</a> </dd>
<dd>
<a class="el" href="refract_8c.html#a6b49f92f8f818f2272613e3432185a39">novas_radio_refraction()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#aa7f218ad801848e38dc25323b8f0197b">novas_frame::era</a>, <a class="el" href="structnovas__timespec.html#a696e598955615f729a92870c8213a10c">novas_timespec::fjd_tt</a>, <a class="el" href="structnovas__frame.html#ab0781cc6d1fa84411eeca631bb39d615">novas_frame::gcrs_to_cirs</a>, <a class="el" href="structnovas__frame.html#aef07d7946615098b170225edc81bd4a7">novas_frame::gst</a>, <a class="el" href="structnovas__timespec.html#ab1b769234049ec8d7cdbb22800116184">novas_timespec::ijd_tt</a>, <a class="el" href="super_8c.html#a296fcf0239f66eb19732f5072fed6d6e">itrs_to_hor()</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a1665bf146ca1a4d11380bf4d7d9d7058">NOVAS_AIRBORNE_OBSERVER</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eacbee2de517939c156e61fb5f9631e044">NOVAS_CIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea8c3e21e3d68b39b0b0ca28f99b8cacf4">NOVAS_GCRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ead110200de7f232d9110467c0862733d9">NOVAS_J2000</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5a2a55ff66f97310a9641d7ffa60b8dd">NOVAS_MOD</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aadb64b75d1bf5344760b942f241e52e8">NOVAS_OBSERVER_ON_EARTH</a>, <a class="el" href="novas_8h.html#a8c77758e10b1d3dc8dbd3ab0b694e468a4255a64975ec93df2f228c63c38096a0">NOVAS_REFRACT_ASTROMETRIC</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="el" href="structnovas__frame.html#ac143b7ebb821de32278d5d4f3a4e75c3">novas_frame::nutation</a>, <a class="el" href="structnovas__frame.html#aa792216b0b2601bb9af3b882c87274f8">novas_frame::observer</a>, <a class="el" href="structobserver.html#a0ed422bd2a08c6b3870b545e16484501">observer::on_surf</a>, <a class="el" href="structnovas__frame.html#a1768e94e9ee04287bc18b3eb6a79f36c">novas_frame::precession</a>, <a class="el" href="novas_8c.html#acf86ce700b3d3509ebba13e5f16a4327">radec2vector()</a>, <a class="el" href="novas_8c.html#af4090e519d7ce7ab1fcdb24b10126eb4">spin()</a>, <a class="el" href="structnovas__frame.html#a430880330b471a12c587f77d1c73b49a">novas_frame::time</a>, and <a class="el" href="structobserver.html#a11f2eb69df64b674d938b34bbb842ab1">observer::where</a>.</p>

</div>
</div>
<a id="a2972b3eafa2d7f6c29cff34bad9fcf0d" name="a2972b3eafa2d7f6c29cff34bad9fcf0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2972b3eafa2d7f6c29cff34bad9fcf0d">&#9670;&#160;</a></span>novas_change_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_change_observer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *&#160;</td>
          <td class="paramname"><em>orig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobserver.html">observer</a> *&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__frame.html">novas_frame</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change the observer location for an observing frame.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">orig</td><td>Pointer to original observing frame </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">obs</td><td>New observer location </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Observing frame to populate with a original frame data and new observer location. It can be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successfule or else an an error code from <a class="el" href="novas_8c.html#a581ef7bb3d2261a105d7086fc1768c97">geo_posvel()</a> (errno will also indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#abfee69517c7432733c8382c88371c983">novas_make_frame()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#ad9a827bf90bce73ad42f04ed2dd13a9c">novas_frame::accuracy</a>, <a class="el" href="novas_8c.html#a18647d39520d1a15a137661f698cb12a">grav_bodies_full_accuracy</a>, <a class="el" href="novas_8c.html#a03a4df8961a0cd05f89aca478d2dcd24">grav_bodies_reduced_accuracy</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660">NOVAS_FULL_ACCURACY</a>, <a class="el" href="timescale_8c.html#aa65f86f70b2ea6e77bf0799d6859ca05">novas_get_time()</a>, <a class="el" href="novas_8h.html#aa642c4ccc7195dc62fd0dc56567ebd0baf5d992bdf01b4f3fd7b22e3e24c6974d">NOVAS_TDB</a>, <a class="el" href="novas_8c.html#acbc29fe86915ef8a3701795dc9fd9b34">obs_planets()</a>, <a class="el" href="structnovas__frame.html#ac2558d2b29171b29bad2599c75d3cc6c">novas_frame::obs_pos</a>, <a class="el" href="structnovas__frame.html#aa792216b0b2601bb9af3b882c87274f8">novas_frame::observer</a>, <a class="el" href="structnovas__frame.html#a78ace4b8a99aace5313f4011a842d199">novas_frame::planets</a>, <a class="el" href="structnovas__frame.html#ac8ddcc571efb6061ddf9dfbcfffb4cd1">novas_frame::state</a>, and <a class="el" href="structnovas__frame.html#a430880330b471a12c587f77d1c73b49a">novas_frame::time</a>.</p>

</div>
</div>
<a id="ae6f4d3710a277c8b284487fe175e4d49" name="ae6f4d3710a277c8b284487fe175e4d49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6f4d3710a277c8b284487fe175e4d49">&#9670;&#160;</a></span>novas_geom_posvel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_geom_posvel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a>&#160;</td>
          <td class="paramname"><em>sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>vel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the geometric position and velocity vectors, relative to the observer, for a source in the given observing frame, in the specified coordinate system of choice. The geometric position includes proper motion, and for solar-system bodies it is antedated for light travel time, so it effectively represents the geometric position as seen by the observer. However, the geometric does not include aberration correction, nor gravitational deflection.</p>
<p>If you want apparent positions, which account for aberration and gravitational deflection, use novas_skypos() instead.</p>
<p>You can also use <a class="el" href="frames_8c.html#aadb7bc88119eed4ea54373a42e22a0d4">novas_transform_vector()</a> to convert the output position and velocity vectors to a dfferent coordinate system of choice afterwards if you want the results expressed in more than one coordinate system.</p>
<p>It implements the same geometric transformations as <code><a class="el" href="novas_8c.html#a263de1618d80fcc737984951fa97c5a3">place()</a></code> but at a reduced computational cost. See <code><a class="el" href="novas_8c.html#a263de1618d80fcc737984951fa97c5a3">place()</a></code> for references.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">source</td><td>Pointer to a celestial source data structure that is observed </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>Observer frame, defining the location and time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>The coordinate system in which to return positions and velocities. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pos</td><td>[AU] Calculated geometric position vector of the source relative to the observer location, in the designated coordinate system. It may be NULL if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">vel</td><td>[AU/day] The calculated velocity vector of the source relative to the observer in the designated coordinate system. It must be distinct from the pos output vector, and may be NULL if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if any of the arguments is invalid, 50&ndash;70 error is 50 + error from <a class="el" href="novas_8c.html#a8a93137b6201bedd8d47cc954684ebe3">light_time2()</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#ad412ac774327a4120237dc3b3110f9a0">novas_geom_to_app()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#a4e894a83f3065bbb706212d1267dd2ab">novas_sky_pos()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#aadb7bc88119eed4ea54373a42e22a0d4">novas_transform_vector()</a> </dd>
<dd>
<a class="el" href="novas_8c.html#a263de1618d80fcc737984951fa97c5a3">place()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#ad9a827bf90bce73ad42f04ed2dd13a9c">novas_frame::accuracy</a>, <a class="el" href="novas_8c.html#aada778ddcc75a355b6753f5372775094">bary2obs()</a>, <a class="el" href="novas_8c.html#ad799864f637c483fb49491bde5a93e25">d_light()</a>, <a class="el" href="novas_8c.html#a8a93137b6201bedd8d47cc954684ebe3">light_time2()</a>, <a class="el" href="structnovas__planet__bundle.html#ab77cc972f3ee899689ba053015472ccd">novas_planet_bundle::mask</a>, <a class="el" href="novas_8h.html#a1eecb357eeea0de4759e9c8d55af238fa4f9ab9cec85498c41f90c33794d032e5">NOVAS_CATALOG_OBJECT</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660">NOVAS_FULL_ACCURACY</a>, <a class="el" href="timescale_8c.html#aa65f86f70b2ea6e77bf0799d6859ca05">novas_get_time()</a>, <a class="el" href="novas_8h.html#a31bf4a08940bfa3e97ae6a1abee80422">NOVAS_JD_J2000</a>, <a class="el" href="novas_8h.html#a1eecb357eeea0de4759e9c8d55af238fad1eeaddaa96b028742a8ba424e311aa8">NOVAS_PLANET</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>, <a class="el" href="novas_8h.html#aa642c4ccc7195dc62fd0dc56567ebd0baf5d992bdf01b4f3fd7b22e3e24c6974d">NOVAS_TDB</a>, <a class="el" href="structobject.html#a7d578acc2a3e88ef2435fe0e88d01a74">object::number</a>, <a class="el" href="structnovas__frame.html#ac2558d2b29171b29bad2599c75d3cc6c">novas_frame::obs_pos</a>, <a class="el" href="structnovas__frame.html#a78ace4b8a99aace5313f4011a842d199">novas_frame::planets</a>, <a class="el" href="structnovas__planet__bundle.html#afa2104ef635031a82766fd018c9ee9dd">novas_planet_bundle::pos</a>, <a class="el" href="novas_8c.html#ade8207981b6f840d1f0a79dd0c72beb2">proper_motion()</a>, <a class="el" href="structobject.html#a0ead8b30742e9c76887f5ff76cabae7c">object::star</a>, <a class="el" href="novas_8c.html#a2b801c7f5f2ba483776ab60ef2a0f06d">starvectors()</a>, <a class="el" href="structnovas__frame.html#a430880330b471a12c587f77d1c73b49a">novas_frame::time</a>, <a class="el" href="structobject.html#a2cc80aad5c0303449e2412b122504a10">object::type</a>, and <a class="el" href="structnovas__planet__bundle.html#af2bad6c1e0659e0e508492669eb67035">novas_planet_bundle::vel</a>.</p>

</div>
</div>
<a id="ad412ac774327a4120237dc3b3110f9a0" name="ad412ac774327a4120237dc3b3110f9a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad412ac774327a4120237dc3b3110f9a0">&#9670;&#160;</a></span>novas_geom_to_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_geom_to_app </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a>&#160;</td>
          <td class="paramname"><em>sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsky__pos.html">sky_pos</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts an geometric position in ICRS to an apparent position on sky, by applying appropriate corrections for aberration and gravitational deflection for the observer's frame. Unlike <code><a class="el" href="novas_8c.html#a263de1618d80fcc737984951fa97c5a3">place()</a></code> the output reports the distance calculated from the parallax for sidereal sources. The radial velocity of the output is set to NAN (if needed use <a class="el" href="frames_8c.html#a4e894a83f3065bbb706212d1267dd2ab">novas_sky_pos()</a> instead).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>The observer frame, defining the location and time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pos</td><td>[AU] Geometric position of source in ICRS coordinates </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>The coordinate system in which to return the apparent sky location </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Pointer to the data structure which is populated with the calculated apparent location in the designated coordinate system. It may be the same pounter as the input position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or an error from grav_def2(), or else -1 (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#a4e894a83f3065bbb706212d1267dd2ab">novas_sky_pos()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#a83db7db5a0ed0311610391f199b9f66c">novas_app_to_geom()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#ae84debf8ab4d3b16feaaefdcb0ebbd08">novas_app_to_hor()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#ae6f4d3710a277c8b284487fe175e4d49">novas_geom_posvel()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#ad9a827bf90bce73ad42f04ed2dd13a9c">novas_frame::accuracy</a>, <a class="el" href="structsky__pos.html#ac4ae7989694321b540abb75c30eec690">sky_pos::dec</a>, <a class="el" href="structsky__pos.html#aeedff25e8c80502a891e8af33d35b3c0">sky_pos::dis</a>, <a class="el" href="novas_8c.html#aa798460894aa44f8564569d9ea4bf1ef">grav_planets()</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660">NOVAS_FULL_ACCURACY</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>, <a class="el" href="structnovas__frame.html#ac2558d2b29171b29bad2599c75d3cc6c">novas_frame::obs_pos</a>, <a class="el" href="structnovas__frame.html#a78ace4b8a99aace5313f4011a842d199">novas_frame::planets</a>, <a class="el" href="structsky__pos.html#a5fd669be4d5224aa192afa368a6e3173">sky_pos::r_hat</a>, <a class="el" href="structsky__pos.html#a713a0c71a86d92fa6892fdb2cb7c9422">sky_pos::ra</a>, <a class="el" href="structsky__pos.html#ad9e8b5daff39072d109a6f4f1fa61f55">sky_pos::rv</a>, and <a class="el" href="novas_8c.html#a882279981a7d5a67ed596fa0937a12c1">vector2radec()</a>.</p>

</div>
</div>
<a id="a4849c7fca260cfb7c1d716566f4170ac" name="a4849c7fca260cfb7c1d716566f4170ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4849c7fca260cfb7c1d716566f4170ac">&#9670;&#160;</a></span>novas_hor_to_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_hor_to_app </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>az</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a>&#160;</td>
          <td class="paramname"><em>ref_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a>&#160;</td>
          <td class="paramname"><em>sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>ra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>dec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts an observed azimuth and elevation coordinate to right ascension (R.A.) and declination coordinates expressed in the coordinate system of choice. The observer must be located on the surface of Earth, or else the call will return with an error. The caller may optionally supply a refraction model of choice to calculate an appropriate elevation angle that includes a refraction correction for Earth's atmosphere. If no such model is provided, the provided elevation value will be assumed to be an astrometric elevation without a refraction correction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>Observer frame, defining the time and place of observation (on Earth). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">az</td><td>[deg] Observed azimuth angle. It may be NULL if not required. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">el</td><td>[deg] Observed elevation angle. It may be NULL if not required. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ref_model</td><td>An appropriate refraction model, or NULL to assume unrefracted elevation. Depending on the refraction model, you might want to make sure that the weather parameters were set when the observing frame was defined. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>Astronomical coordinate system in which the output is R.A. and declination values are to be calculated. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ra</td><td>[h] Calculated apparent right ascension (R.A.) coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dec</td><td>[deg] Calculated apparent declination coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else an error from <a class="el" href="super_8c.html#a3f6ae564cfac3766a21e0754905e5f7c">itrs_to_tod()</a> or <a class="el" href="super_8c.html#a12953f66c0f774284f0700ae785784d0">itrs_to_cirs()</a>, or -1 (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#ae84debf8ab4d3b16feaaefdcb0ebbd08">novas_app_to_hor()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#a83db7db5a0ed0311610391f199b9f66c">novas_app_to_geom()</a> </dd>
<dd>
<a class="el" href="refract_8c.html#ab04bff3b97c132e358e11c3a5b7a3081">novas_standard_refraction()</a> </dd>
<dd>
<a class="el" href="refract_8c.html#ae4511a80a1defbb1e1fdc29c289e7de4">novas_optical_refraction()</a> </dd>
<dd>
<a class="el" href="refract_8c.html#a6b49f92f8f818f2272613e3432185a39">novas_radio_refraction()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#aa7f218ad801848e38dc25323b8f0197b">novas_frame::era</a>, <a class="el" href="structnovas__timespec.html#a696e598955615f729a92870c8213a10c">novas_timespec::fjd_tt</a>, <a class="el" href="structnovas__frame.html#ab0781cc6d1fa84411eeca631bb39d615">novas_frame::gcrs_to_cirs</a>, <a class="el" href="structnovas__frame.html#aef07d7946615098b170225edc81bd4a7">novas_frame::gst</a>, <a class="el" href="super_8c.html#ad290005b13558de3927e455775b32e0f">hor_to_itrs()</a>, <a class="el" href="structnovas__timespec.html#ab1b769234049ec8d7cdbb22800116184">novas_timespec::ijd_tt</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a1665bf146ca1a4d11380bf4d7d9d7058">NOVAS_AIRBORNE_OBSERVER</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eacbee2de517939c156e61fb5f9631e044">NOVAS_CIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea8c3e21e3d68b39b0b0ca28f99b8cacf4">NOVAS_GCRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ead110200de7f232d9110467c0862733d9">NOVAS_J2000</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5a2a55ff66f97310a9641d7ffa60b8dd">NOVAS_MOD</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aadb64b75d1bf5344760b942f241e52e8">NOVAS_OBSERVER_ON_EARTH</a>, <a class="el" href="novas_8h.html#a8c77758e10b1d3dc8dbd3ab0b694e468a29a320ab3459dafa0d18e7ebef3ae8fe">NOVAS_REFRACT_OBSERVED</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="el" href="structnovas__frame.html#ac143b7ebb821de32278d5d4f3a4e75c3">novas_frame::nutation</a>, <a class="el" href="structnovas__frame.html#aa792216b0b2601bb9af3b882c87274f8">novas_frame::observer</a>, <a class="el" href="structobserver.html#a0ed422bd2a08c6b3870b545e16484501">observer::on_surf</a>, <a class="el" href="structnovas__frame.html#a1768e94e9ee04287bc18b3eb6a79f36c">novas_frame::precession</a>, <a class="el" href="novas_8c.html#af4090e519d7ce7ab1fcdb24b10126eb4">spin()</a>, <a class="el" href="structnovas__frame.html#a430880330b471a12c587f77d1c73b49a">novas_frame::time</a>, <a class="el" href="novas_8c.html#a882279981a7d5a67ed596fa0937a12c1">vector2radec()</a>, and <a class="el" href="structobserver.html#a11f2eb69df64b674d938b34bbb842ab1">observer::where</a>.</p>

</div>
</div>
<a id="ad2081e123024609d3071b33b183502b7" name="ad2081e123024609d3071b33b183502b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2081e123024609d3071b33b183502b7">&#9670;&#160;</a></span>novas_invert_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_invert_transform </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__transform.html">novas_transform</a> *&#160;</td>
          <td class="paramname"><em>transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__transform.html">novas_transform</a> *&#160;</td>
          <td class="paramname"><em>inverse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inverts a novas coordinate transformation matrix.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">transform</td><td>Pointer to a coordinate transformation matrix. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">inverse</td><td>Pointer to a coordinate transformation matrix to populate with the inverse transform. It may be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if the was an error (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structnovas__transform.html#a7a4a2e27593c1af2ae14cfb323ba4aba">novas_transform::matrix</a>.</p>

</div>
</div>
<a id="abfee69517c7432733c8382c88371c983" name="abfee69517c7432733c8382c88371c983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfee69517c7432733c8382c88371c983">&#9670;&#160;</a></span>novas_make_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_make_frame </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a>&#160;</td>
          <td class="paramname"><em>accuracy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobserver.html">observer</a> *&#160;</td>
          <td class="paramname"><em>obs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__timespec.html">novas_timespec</a> *&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__frame.html">novas_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets up a observing frame for a specific observer location, time of observation, and accuracy requirement. The frame is initialized using the currently configured planet ephemeris provider function (see <a class="el" href="novas_8c.html#a9904c454bc7148b42d0f927b82ea3973">set_planet_provider()</a> and <a class="el" href="novas_8c.html#a418f45a11ce7f92ba0ef817558415640">set_planet_provider_hp()</a>), and in case of reduced accuracy mode, the currently configured IAU nutation model provider (see <a class="el" href="novas_8c.html#a694288eb631d6a69ecf313b7b5b4a677">set_nutation_lp_provider()</a>).</p>
<p>Note, that to construct full accuracy frames, you will need a high-precision ephemeris provider for the major planets (not just the default Earth/Sun), as without it, gravitational bending around massive plannets cannot be accounted for, and therefore &mu;as accuracy cannot be ensured, in general. Attempting to construct a high-accuracy frame without a high-precision ephemeris provider for the major planets will result in an error in the 10&ndash;40 range from the required <a class="el" href="novas_8c.html#a3221fff69d0ca52ae4694ec3ab0368ad">ephemeris()</a> call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">accuracy</td><td>Accuracy requirement, NOVAS_FULL_ACCURACY (0) for the utmost precision or NOVAS_REDUCED_ACCURACY (1) if ~1 mas accuracy is sufficient. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">obs</td><td>Observer location </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">time</td><td>Time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dx</td><td>[mas] Earth orientation parameter, polar offset in x. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dy</td><td>[mas] Earth orientation parameter, polar offset in y. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">frame</td><td>Pointer to the observing frame to configure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, 10&ndash;40: error is 10 + the error from <a class="el" href="novas_8c.html#a3221fff69d0ca52ae4694ec3ab0368ad">ephemeris()</a>, 40&ndash;50: error is 40 + the error from <a class="el" href="novas_8c.html#a581ef7bb3d2261a105d7086fc1768c97">geo_posvel()</a>, 50&ndash;80: error is 50 + the error from <a class="el" href="novas_8c.html#a3236e72771f2c363f342547d80f5d50f">sidereal_time()</a>, 80&ndash;90 error is 80 + error from <a class="el" href="novas_8c.html#a43141f0ea4598d6c87193c3ea594dd6c">cio_location()</a>, 90&ndash;100 error is 90 + error from <a class="el" href="novas_8c.html#a07f83fbb8a57cf442c264ecdc979475e">cio_basis()</a>. or else -1 if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#a2972b3eafa2d7f6c29cff34bad9fcf0d">novas_change_observer()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#a4e894a83f3065bbb706212d1267dd2ab">novas_sky_pos()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#ae6f4d3710a277c8b284487fe175e4d49">novas_geom_posvel()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform()</a> </dd>
<dd>
<a class="el" href="novas_8c.html#a9904c454bc7148b42d0f927b82ea3973">set_planet_provider()</a> </dd>
<dd>
<a class="el" href="novas_8c.html#a418f45a11ce7f92ba0ef817558415640">set_planet_provider_hp()</a> </dd>
<dd>
<a class="el" href="novas_8c.html#a694288eb631d6a69ecf313b7b5b4a677">set_nutation_lp_provider()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#ad9a827bf90bce73ad42f04ed2dd13a9c">novas_frame::accuracy</a>, <a class="el" href="novas_8h.html#a0a185da3a347343e5dd21d41a598d0fa">CAT_ENTRY_INIT</a>, <a class="el" href="structnovas__frame.html#afb1bb47af5a00647759b897f72a68b58">novas_frame::deps0</a>, <a class="el" href="structnovas__frame.html#a4445e3f8a201b14a5a7068c87507de72">novas_frame::dpsi0</a>, <a class="el" href="structnovas__frame.html#a229d11aff11a7482259d1296b9b70b8a">novas_frame::dx</a>, <a class="el" href="structnovas__frame.html#a9deb6f886b19d50e714d890c3c268efc">novas_frame::dy</a>, <a class="el" href="novas_8c.html#a6408979487e7fdf65fe7902b0400ce87">e_tilt()</a>, <a class="el" href="structnovas__frame.html#aa3a3023bf2e8babb456b88391441c3dc">novas_frame::earth_pos</a>, <a class="el" href="structnovas__frame.html#a099283b966b6937d7e59e10c6ff69760">novas_frame::earth_vel</a>, <a class="el" href="structnovas__frame.html#a622800443dfc347bd82d3752ec60c771">novas_frame::ee</a>, <a class="el" href="novas_8c.html#a3221fff69d0ca52ae4694ec3ab0368ad">ephemeris()</a>, <a class="el" href="structnovas__frame.html#aa7f218ad801848e38dc25323b8f0197b">novas_frame::era</a>, <a class="el" href="novas_8c.html#aef1f8daaad470353648de90576aefc66">era()</a>, <a class="el" href="novas_8h.html#a9e882d9c9055f187d3a8dc9b019f0609a1d56a4fb59b567049ed1937bfcdf0f62">EROT_GST</a>, <a class="el" href="structnovas__timespec.html#a696e598955615f729a92870c8213a10c">novas_timespec::fjd_tt</a>, <a class="el" href="structnovas__frame.html#aef07d7946615098b170225edc81bd4a7">novas_frame::gst</a>, <a class="el" href="structnovas__timespec.html#ab1b769234049ec8d7cdbb22800116184">novas_timespec::ijd_tt</a>, <a class="el" href="structnovas__frame.html#adcbb032bae5aa01bff2501f40527943e">novas_frame::mobl</a>, <a class="el" href="novas_8h.html#a208120c5fa3e12853eb37cb99d3e27beade504a1c5ccf790ce9d8ad52797bb94c">NOVAS_BARYCENTER</a>, <a class="el" href="frames_8c.html#a2972b3eafa2d7f6c29cff34bad9fcf0d">novas_change_observer()</a>, <a class="el" href="novas_8h.html#a219df36b21dc4476656e708d14d08045adc941f5a3613952d6d6102281e70e5c0">NOVAS_EARTH</a>, <a class="el" href="timescale_8c.html#ab4ea1b646b23a76936b2a6459b1bac6d">novas_get_split_time()</a>, <a class="el" href="novas_8h.html#a31bf4a08940bfa3e97ae6a1abee80422">NOVAS_JD_J2000</a>, <a class="el" href="novas_8h.html#a7af86c48f77394688f4ad43eb20760f4">NOVAS_OBSERVER_PLACES</a>, <a class="el" href="novas_8h.html#a1eecb357eeea0de4759e9c8d55af238fad1eeaddaa96b028742a8ba424e311aa8">NOVAS_PLANET</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>, <a class="el" href="novas_8h.html#a219df36b21dc4476656e708d14d08045a170e1c704bd29c8d46f66d4d9a03d9c2">NOVAS_SUN</a>, <a class="el" href="novas_8h.html#ab970f5de5d5e04874cb31865459b0b4fa1096785746d1a9bc678ea2c51fc21055">NOVAS_TRUE_EQUINOX</a>, <a class="el" href="novas_8h.html#aa642c4ccc7195dc62fd0dc56567ebd0baa6fc4520426c4c9cbe497ab87f2ad583">NOVAS_UT1</a>, <a class="el" href="novas_8c.html#a0dc364ae1963da0b916ed5a9d0862d3e">nutation_angles()</a>, <a class="el" href="novas_8c.html#a3236e72771f2c363f342547d80f5d50f">sidereal_time()</a>, <a class="el" href="structnovas__frame.html#ac8ddcc571efb6061ddf9dfbcfffb4cd1">novas_frame::state</a>, <a class="el" href="structnovas__frame.html#a3d3fc00c5477b8f7a9b6593a748949d0">novas_frame::sun_pos</a>, <a class="el" href="structnovas__frame.html#ae949db92ce7c56e4b5ada1b8f80002d3">novas_frame::sun_vel</a>, <a class="el" href="structnovas__frame.html#a430880330b471a12c587f77d1c73b49a">novas_frame::time</a>, <a class="el" href="structnovas__frame.html#ad68cbc6741fea66373829a8f50307c8e">novas_frame::tobl</a>, <a class="el" href="novas_8c.html#a129acca41760da486e1179c93cb9e86d">tt2tdb()</a>, <a class="el" href="structnovas__timespec.html#a2b381954218c16fad4ae585fb90fddbe">novas_timespec::ut1_to_tt</a>, and <a class="el" href="structobserver.html#a11f2eb69df64b674d938b34bbb842ab1">observer::where</a>.</p>

</div>
</div>
<a id="a4d179c8573319fc25c775ce56ba055dc" name="a4d179c8573319fc25c775ce56ba055dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d179c8573319fc25c775ce56ba055dc">&#9670;&#160;</a></span>novas_make_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_make_transform </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a>&#160;</td>
          <td class="paramname"><em>from_system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a>&#160;</td>
          <td class="paramname"><em>to_system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__transform.html">novas_transform</a> *&#160;</td>
          <td class="paramname"><em>transform</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates a transformation matrix that can be used to convert positions and velocities from one coordinate reference system to another.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>Observer frame, defining the location and time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">from_system</td><td>Original coordinate reference system </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">to_system</td><td>New coordinate reference system </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">transform</td><td>Pointer to the transform data structure to populate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#aadb7bc88119eed4ea54373a42e22a0d4">novas_transform_vector()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#a88972e93665bb1903795bfff264c14f6">novas_transform_sky_pos()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#ad2081e123024609d3071b33b183502b7">novas_invert_transform()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#ae6f4d3710a277c8b284487fe175e4d49">novas_geom_posvel()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#a83db7db5a0ed0311610391f199b9f66c">novas_app_to_geom()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structnovas__transform.html#aa4ab682491bbdc54f9fbf6a26c8245a1">novas_transform::frame</a>, <a class="el" href="structnovas__transform.html#a5fe73fdfdc0f8933168a1c50df2db4ed">novas_transform::from_system</a>, <a class="el" href="structnovas__frame.html#ab0781cc6d1fa84411eeca631bb39d615">novas_frame::gcrs_to_cirs</a>, <a class="el" href="structnovas__frame.html#aae2b172beac21d0c2a5f256bc8ad40bc">novas_frame::icrs_to_j2000</a>, <a class="el" href="structnovas__matrix.html#ac842f2eec8c8b880e2aca8792d63359b">novas_matrix::M</a>, <a class="el" href="structnovas__transform.html#a7a4a2e27593c1af2ae14cfb323ba4aba">novas_transform::matrix</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eacbee2de517939c156e61fb5f9631e044">NOVAS_CIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea8c3e21e3d68b39b0b0ca28f99b8cacf4">NOVAS_GCRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ead110200de7f232d9110467c0862733d9">NOVAS_J2000</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5a2a55ff66f97310a9641d7ffa60b8dd">NOVAS_MOD</a>, <a class="el" href="novas_8h.html#ae55994629ca97e634b1bb97aafb3f49b">NOVAS_REFERENCE_SYSTEMS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="el" href="structnovas__frame.html#ac143b7ebb821de32278d5d4f3a4e75c3">novas_frame::nutation</a>, <a class="el" href="structnovas__frame.html#a1768e94e9ee04287bc18b3eb6a79f36c">novas_frame::precession</a>, and <a class="el" href="structnovas__transform.html#a8dac6a5c4bdc0e667bdc9eb7c7bb7094">novas_transform::to_system</a>.</p>

</div>
</div>
<a id="a4e894a83f3065bbb706212d1267dd2ab" name="a4e894a83f3065bbb706212d1267dd2ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e894a83f3065bbb706212d1267dd2ab">&#9670;&#160;</a></span>novas_sky_pos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_sky_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a>&#160;</td>
          <td class="paramname"><em>sys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsky__pos.html">sky_pos</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates an apparent location on sky for the source. The position takes into account the proper motion (for sidereal soure), or is antedated for light-travel time (for Solar-System bodies). It also applies an appropriate aberration correction and gravitational deflection of the light.</p>
<p>To calculate corresponding local horizontal coordinates, you can pass the output RA/Dec coordinates to <a class="el" href="frames_8c.html#ae84debf8ab4d3b16feaaefdcb0ebbd08">novas_app_to_hor()</a>. Or to calculate apparent coordinates in other systems, you may pass the result to novas_transform_sy_pos() after.</p>
<p>And if you want geometric positions instead (not corrected for aberration or gravitational deflection), you may want to use <a class="el" href="frames_8c.html#ae6f4d3710a277c8b284487fe175e4d49">novas_geom_posvel()</a> instead.</p>
<p>The approximate 'inverse' of this function is <a class="el" href="frames_8c.html#a83db7db5a0ed0311610391f199b9f66c">novas_app_to_geom()</a>.</p>
<p>This function implements the same aberration and gravitational deflection corrections as <code><a class="el" href="novas_8c.html#a263de1618d80fcc737984951fa97c5a3">place()</a></code>, but at reduced computational cost. See <code><a class="el" href="novas_8c.html#a263de1618d80fcc737984951fa97c5a3">place()</a></code> for references. Unlike <code><a class="el" href="novas_8c.html#a263de1618d80fcc737984951fa97c5a3">place()</a></code>, however, the output always reports the distance calculated from the parallax for sidereal sources. Note also, that while <code><a class="el" href="novas_8c.html#a263de1618d80fcc737984951fa97c5a3">place()</a></code> does not apply aberration and gravitational deflection corrections when <code>sys</code> is NOVAS_ICRS (3), this routine will apply those corrections consistently for all coordinate systems (and you can use <a class="el" href="frames_8c.html#ae6f4d3710a277c8b284487fe175e4d49">novas_geom_posvel()</a> instead to get positions without aberration or deflection in any system).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">object</td><td>Pointer to a celestial object data structure that is observed </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>The observer frame, defining the location and time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>The coordinate system in which to return the apparent sky location </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Pointer to the data structure which is populated with the calculated apparent location in the designated coordinate system. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, 50&ndash;70 error is 50 + error from <a class="el" href="novas_8c.html#a8a93137b6201bedd8d47cc954684ebe3">light_time2()</a>, 70&ndash;80 error is 70 + error from <a class="el" href="novas_8c.html#a48f90ac20950507fad9b880a7f7f2383">grav_def()</a>, or else -1 (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#ad412ac774327a4120237dc3b3110f9a0">novas_geom_to_app()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#ae84debf8ab4d3b16feaaefdcb0ebbd08">novas_app_to_hor()</a> </dd>
<dd>
<a class="el" href="novas_8c.html#a263de1618d80fcc737984951fa97c5a3">place()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#ad9a827bf90bce73ad42f04ed2dd13a9c">novas_frame::accuracy</a>, <a class="el" href="structsky__pos.html#aeedff25e8c80502a891e8af33d35b3c0">sky_pos::dis</a>, <a class="el" href="structnovas__frame.html#aa3a3023bf2e8babb456b88391441c3dc">novas_frame::earth_pos</a>, <a class="el" href="novas_8c.html#aa798460894aa44f8564569d9ea4bf1ef">grav_planets()</a>, <a class="el" href="novas_8h.html#a1eecb357eeea0de4759e9c8d55af238fa4f9ab9cec85498c41f90c33794d032e5">NOVAS_CATALOG_OBJECT</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660">NOVAS_FULL_ACCURACY</a>, <a class="el" href="frames_8c.html#ae6f4d3710a277c8b284487fe175e4d49">novas_geom_posvel()</a>, <a class="el" href="frames_8c.html#ad412ac774327a4120237dc3b3110f9a0">novas_geom_to_app()</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>, <a class="el" href="structnovas__frame.html#ac2558d2b29171b29bad2599c75d3cc6c">novas_frame::obs_pos</a>, <a class="el" href="structnovas__frame.html#a66f1e86da27c96c1c920dce442ce78c8">novas_frame::obs_vel</a>, <a class="el" href="structnovas__frame.html#a78ace4b8a99aace5313f4011a842d199">novas_frame::planets</a>, <a class="el" href="novas_8c.html#a191dcbb360afb9b6bf123d46858156d0">rad_vel2()</a>, <a class="el" href="structsky__pos.html#ad9e8b5daff39072d109a6f4f1fa61f55">sky_pos::rv</a>, <a class="el" href="structnovas__frame.html#a3d3fc00c5477b8f7a9b6593a748949d0">novas_frame::sun_pos</a>, and <a class="el" href="structobject.html#a2cc80aad5c0303449e2412b122504a10">object::type</a>.</p>

</div>
</div>
<a id="a88972e93665bb1903795bfff264c14f6" name="a88972e93665bb1903795bfff264c14f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88972e93665bb1903795bfff264c14f6">&#9670;&#160;</a></span>novas_transform_sky_pos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_transform_sky_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsky__pos.html">sky_pos</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__transform.html">novas_transform</a> *&#160;</td>
          <td class="paramname"><em>transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsky__pos.html">sky_pos</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transforms a position or velocity 3-vector from one coordinate reference system to another.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">in</td><td>Input apparent position on sky in the original coordinate reference system </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">transform</td><td>Pointer to a coordinate transformation matrix </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Output apparent position on sky in the new coordinate reference system. It may be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#aadb7bc88119eed4ea54373a42e22a0d4">novas_transform_vector()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structsky__pos.html#ac4ae7989694321b540abb75c30eec690">sky_pos::dec</a>, <a class="el" href="structnovas__transform.html#a7a4a2e27593c1af2ae14cfb323ba4aba">novas_transform::matrix</a>, <a class="el" href="structsky__pos.html#a5fd669be4d5224aa192afa368a6e3173">sky_pos::r_hat</a>, <a class="el" href="structsky__pos.html#a713a0c71a86d92fa6892fdb2cb7c9422">sky_pos::ra</a>, and <a class="el" href="novas_8c.html#a882279981a7d5a67ed596fa0937a12c1">vector2radec()</a>.</p>

</div>
</div>
<a id="aadb7bc88119eed4ea54373a42e22a0d4" name="aadb7bc88119eed4ea54373a42e22a0d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadb7bc88119eed4ea54373a42e22a0d4">&#9670;&#160;</a></span>novas_transform_vector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_transform_vector </td>
          <td>(</td>
          <td class="paramtype">const double *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__transform.html">novas_transform</a> *&#160;</td>
          <td class="paramname"><em>transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transforms a position or velocity 3-vector from one coordinate reference system to another.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">in</td><td>Input 3-vector in the original coordinate reference system </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">transform</td><td>Pointer to a coordinate transformation matrix </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Output 3-vector in the new coordinate reference system. It may be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform()</a> </dd>
<dd>
novas_transform_skypos()</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="structnovas__transform.html#a7a4a2e27593c1af2ae14cfb323ba4aba">novas_transform::matrix</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="frames_8c.html">frames.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
