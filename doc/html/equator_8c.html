<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuperNOVAS: /github/workspace/src/equator.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Sigmyne-logo-55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">SuperNOVAS<span id="projectnumber">&#160;v1.5</span>
   </div>
   <div id="projectbrief">The NOVAS C library, made better</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('equator_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">equator.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Various functions for calculating the equator and equinox of date, and related quatities.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad1de5b481e41cf193c199bd0dc5084bd" id="r_gad1de5b481e41cf193c199bd0dc5084bd"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__earth.html#gad1de5b481e41cf193c199bd0dc5084bd">accum_prec</a> (double t)</td></tr>
<tr class="memdesc:gad1de5b481e41cf193c199bd0dc5084bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the general precession in longitude (Simon et al.  <br /></td></tr>
<tr class="separator:gad1de5b481e41cf193c199bd0dc5084bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8937180de2ee1545d19b8fc840f35fe2" id="r_a8937180de2ee1545d19b8fc840f35fe2"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8937180de2ee1545d19b8fc840f35fe2">cel_pole</a> (double jd_tt, enum <a class="el" href="novas_8h.html#a70c3951615b1ecf42818c79893678543">novas_pole_offset_type</a> type, double dpole1, double dpole2)</td></tr>
<tr class="separator:a8937180de2ee1545d19b8fc840f35fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab75165e2d69231da10c67de025ee05d8" id="r_gab75165e2d69231da10c67de025ee05d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__earth.html#gab75165e2d69231da10c67de025ee05d8">e_tilt</a> (double jd_tdb, enum <a class="el" href="group__frame.html#ga3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> accuracy, double *restrict mobl, double *restrict tobl, double *restrict ee, double *restrict dpsi, double *restrict deps)</td></tr>
<tr class="memdesc:gab75165e2d69231da10c67de025ee05d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">(<em>primarily for internal use</em>) Computes quantities related to the orientation of the Earth's rotation axis at the specified Julian date.  <br /></td></tr>
<tr class="separator:gab75165e2d69231da10c67de025ee05d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga312b5ab1a004b179d80463a07ca7da8f" id="r_ga312b5ab1a004b179d80463a07ca7da8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__earth.html#ga312b5ab1a004b179d80463a07ca7da8f">fund_args</a> (double t, <a class="el" href="structnovas__delaunay__args.html">novas_delaunay_args</a> *restrict a)</td></tr>
<tr class="memdesc:ga312b5ab1a004b179d80463a07ca7da8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the fundamental (a.k.a.  <br /></td></tr>
<tr class="separator:ga312b5ab1a004b179d80463a07ca7da8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea0e1028baf14d16d9de800e36a17086" id="r_gaea0e1028baf14d16d9de800e36a17086"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__equatorial.html#gaea0e1028baf14d16d9de800e36a17086">ira_equinox</a> (double jd_tdb, enum <a class="el" href="group__earth.html#gab970f5de5d5e04874cb31865459b0b4f">novas_equinox_type</a> equinox, enum <a class="el" href="group__frame.html#ga3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> accuracy)</td></tr>
<tr class="memdesc:gaea0e1028baf14d16d9de800e36a17086"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the intermediate right ascension of the equinox at the input Julian date, using an analytical expression for the accumulated precession in right ascension.  <br /></td></tr>
<tr class="separator:gaea0e1028baf14d16d9de800e36a17086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf182ee8cc4239f581f746aa974827d61" id="r_gaf182ee8cc4239f581f746aa974827d61"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__earth.html#gaf182ee8cc4239f581f746aa974827d61">mean_obliq</a> (double jd_tdb)</td></tr>
<tr class="memdesc:gaf182ee8cc4239f581f746aa974827d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the mean obliquity of the ecliptic.  <br /></td></tr>
<tr class="separator:gaf182ee8cc4239f581f746aa974827d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69df5671751c09a7575963b94ad1151e" id="r_ga69df5671751c09a7575963b94ad1151e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__earth.html#ga69df5671751c09a7575963b94ad1151e">nutation</a> (double jd_tdb, enum <a class="el" href="group__nonequatorial.html#gae2d3d508d68d268bec838bdc013d0ada">novas_nutation_direction</a> direction, enum <a class="el" href="group__frame.html#ga3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> accuracy, const double *in, double *out)</td></tr>
<tr class="memdesc:ga69df5671751c09a7575963b94ad1151e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Nutates equatorial rectangular coordinates from mean equator and equinox of epoch to true equator and equinox of epoch.  <br /></td></tr>
<tr class="separator:ga69df5671751c09a7575963b94ad1151e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9178358732325399f3a5e3582080ced3" id="r_ga9178358732325399f3a5e3582080ced3"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__earth.html#ga9178358732325399f3a5e3582080ced3">precession</a> (double jd_tdb_in, const double *in, double jd_tdb_out, double *out)</td></tr>
<tr class="memdesc:ga9178358732325399f3a5e3582080ced3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Precesses equatorial rectangular coordinates from one epoch to another using the IAU2006 (P03) precession model of Capitaine et al.  <br /></td></tr>
<tr class="separator:ga9178358732325399f3a5e3582080ced3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Various functions for calculating the equator and equinox of date, and related quatities. </p>
<dl class="section date"><dt>Date</dt><dd>Created on Mar 6, 2025 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>G. Kaplan and Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="cio_8c.html" title="Functions to calculate or access the Celestial Intermediate Origin (CIO) location.">cio.c</a>, <a class="el" href="earth_8c.html" title="Various functions relating to Earth position and rotation.">earth.c</a>, <a class="el" href="frames_8c.html" title="High-level and efficient astrometric calculations using observing frames.">frames.c</a>, <a class="el" href="nutation_8c.html" title="SuperNOVAS implementations for the IAU2000 nutation series calculations, with varying trade-offs betw...">nutation.c</a>, <a class="el" href="transform_8c.html" title="Various functions to transform rectangular equatorial vectors (positions or velocities) between diffe...">transform.c</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8937180de2ee1545d19b8fc840f35fe2" name="a8937180de2ee1545d19b8fc840f35fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8937180de2ee1545d19b8fc840f35fe2">&#9670;&#160;</a></span>cel_pole()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short cel_pole </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>jd_tt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a70c3951615b1ecf42818c79893678543">novas_pole_offset_type</a></td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dpole1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dpole2</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000006">Deprecated</a></b></dt><dd>This old way of incorporating Earth orientation parameters into the true equator and equinox is now disfavored. Instead, the pole offsets should be used only to convert between the Terrestrial Intermediate Reference System (TIRS) / Pseudo Earth Fixed (PEF) and the International Terrestrial Reference System (ITRS) going forward, e.g. via <code><a class="el" href="group__apparent.html#ga3cd947f2e48d6c5cc88ad7a1bab9b8ca" title="Converts an observed apparent position vector in the specified coordinate system to local horizontal ...">novas_app_to_hor()</a></code> / <code><a class="el" href="group__nonequatorial.html#gaa57cbcae2001fece2ee4a2babfbc5f89" title="Converts an observed azimuth and elevation coordinate to right ascension (R.A.) and declination coord...">novas_hor_to_app()</a></code> or else <code><a class="el" href="group__nonequatorial.html#gaead87744eeb3029ce7d5ffb1801ee652" title="Corrects a vector in the ITRS (rotating Earth-fixed system) for polar motion, and also corrects the l...">wobble()</a></code>.</dd></dl>
<p>Specifies the unmodeled celestial pole offsets for high-precision applications to be applied to the True of Date (TOD) equator, in the old, pre IAU 2006 methodology. Nonetheless, these offsets should be specified relative to the IAU2006 precession / nutation model to provide a correction to the modeled (precessed and nutated) position of Earth's pole, such those derived from observations and published by IERS.</p>
<p>The call sets the global variables <code>PSI_COR</code> and <code>EPS_COR</code>, for subsequent calls to <code><a class="el" href="group__earth.html#gab75165e2d69231da10c67de025ee05d8" title="(primarily for internal use) Computes quantities related to the orientation of the Earth&#39;s rotation a...">e_tilt()</a></code>. As such, it should be called to specify pole offsets prior to legacy NOVAS C equinox-specific calls. The global values of <code>PSI_COR</code> and <code>EPS_COR</code> specified via this function will be effective until explicitly changed again.</p>
<p>NOTES: </p><ol>
<li>
The pole offsets et this way will affect all future TOD-based calculations, until the pole is changed or reset again. Hence, you should be extremely careful using it (if at all), as it may become an unpredictable source of inaccuracy if implicitly applied without intent to do so.  </li>
<li>
The current UT1 - UTC time difference, and polar offsets, historical data and near-term projections are published in the &lt;a href="<a href="https://www.iers.org/IERS/EN/Publications/Bulletins/bulletins.html">https://www.iers.org/IERS/EN/Publications/Bulletins/bulletins.html</a>&gt;IERS Bulletins  </li>
<li>
If &Delta;&delta;&psi;, &Delta;&delta;d&epsilon; offsets are specified, these must be the residual corrections relative to the IAU 2006 precession/nutation model (not the Lieske et al. 1977 model!). As such, they are just a rotated version of the newer <em>x</em><sub>p</sub>, <em>y</em><sub>p</sub> offsets published by IERS.  </li>
<li>
The equivalent IAU 2006 standard method, which is preferred, is to apply <em>x</em><sub>p</sub>, <em>y</em><sub>p</sub> pole offsets only for converting between TIRS and ITRS, e.g. via <code><a class="el" href="group__apparent.html#ga3cd947f2e48d6c5cc88ad7a1bab9b8ca" title="Converts an observed apparent position vector in the specified coordinate system to local horizontal ...">novas_app_to_hor()</a>,</code><a class="el" href="group__nonequatorial.html#gaa57cbcae2001fece2ee4a2babfbc5f89" title="Converts an observed azimuth and elevation coordinate to right ascension (R.A.) and declination coord...">novas_hor_to_app()</a>, or <code><a class="el" href="group__nonequatorial.html#gaead87744eeb3029ce7d5ffb1801ee652" title="Corrects a vector in the ITRS (rotating Earth-fixed system) for polar motion, and also corrects the l...">wobble()</a></code>).  </li>
<li>
There is no need to define pole offsets this way when using the newer frame-based approach introduced in SuperNOVAS. If the pole offsets are specified on a per-frame basis during the initialization of each observing frame (see <code><a class="el" href="group__frame.html#gadc72577f99a7b076b23e0e44ddbca838" title="Sets up a observing frame for a specific observer location, time of observation, and accuracy require...">novas_make_frame()</a></code>, the offsets will be applied for the TIRS / ITRS conversion only, and not to the TOD equator per se.  </li>
</ol>
<p>REFERENCES: </p><ol>
<li>
Kaplan, G. (2005), US Naval Observatory Circular 179. </li>
<li>
Kaplan, G. (2003), USNO/AA Technical Note 2003-03. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jd_tt</td><td>[day] Terrestrial Time (TT) based Julian date. Used only if 'type' is POLE_OFFSETS_X_Y (2), to transform dx and dy to the equivalent &Delta;&delta;&psi; and &Delta;&delta;&epsilon; values. </td></tr>
    <tr><td class="paramname">type</td><td>POLE_OFFSETS_DPSI_DEPS (1) if the offsets are &Delta;&delta;&psi;, &Delta;&delta;&epsilon; relative to the IAU 20006 precession/nutation model; or POLE_OFFSETS_X_Y (2) if they are dx, dy offsets relative to the IAU 2000 / 2006 precession-nutation model. </td></tr>
    <tr><td class="paramname">dpole1</td><td>[mas] Value of celestial pole offset in first coordinate, (&Delta;&delta;&psi; for or dx) in milliarcseconds, relative to the IAU2006 precession/nutation model. </td></tr>
    <tr><td class="paramname">dpole2</td><td>[mas] Value of celestial pole offset in second coordinate, (&Delta;&delta;&epsilon; or dy) in milliarcseconds, relative to the IAU2006 precession/nutation model. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else 1 if 'type' is invalid.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__frame.html#gadc72577f99a7b076b23e0e44ddbca838" title="Sets up a observing frame for a specific observer location, time of observation, and accuracy require...">novas_make_frame()</a>, <a class="el" href="group__nonequatorial.html#gaead87744eeb3029ce7d5ffb1801ee652" title="Corrects a vector in the ITRS (rotating Earth-fixed system) for polar motion, and also corrects the l...">wobble()</a> </dd></dl>

<p class="reference">References <a class="el" href="novas_8h.html#a70c3951615b1ecf42818c79893678543a2126557509f896a0aeb435795fe1da47">POLE_OFFSETS_DPSI_DEPS</a>, and <a class="el" href="novas_8h.html#a70c3951615b1ecf42818c79893678543ad304f43b1bf8becb63fc4d972f8b1f77">POLE_OFFSETS_X_Y</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="equator_8c.html">equator.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
