<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuperNOVAS: /github/workspace/src/observer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="smithsonian-logo-55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">SuperNOVAS<span id="projectnumber">&#160;v1.5</span>
   </div>
   <div id="projectbrief">The NOVAS C library, made better</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('observer_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">observer.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a033f1bf4b01e0e21a0e05e13c19c02f6" id="r_a033f1bf4b01e0e21a0e05e13c19c02f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a033f1bf4b01e0e21a0e05e13c19c02f6">aberration</a> (const double *pos, const double *vobs, double lighttime, double *out)</td></tr>
<tr class="separator:a033f1bf4b01e0e21a0e05e13c19c02f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d58fd371e7604f75df315365672941e" id="r_a1d58fd371e7604f75df315365672941e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d58fd371e7604f75df315365672941e">bary2obs</a> (const double *pos, const double *pos_obs, double *out, double *restrict lighttime)</td></tr>
<tr class="separator:a1d58fd371e7604f75df315365672941e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb2cc37c7bdcd34c5c167afe092aed68" id="r_afb2cc37c7bdcd34c5c167afe092aed68"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb2cc37c7bdcd34c5c167afe092aed68">light_time</a> (double jd_tdb, const <a class="el" href="structobject.html">object</a> *restrict body, const double *pos_obs, double tlight0, enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> accuracy, double *pos_src_obs, double *restrict tlight)</td></tr>
<tr class="separator:afb2cc37c7bdcd34c5c167afe092aed68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c940b62732d74e6c6b1c844931aaa76" id="r_a5c940b62732d74e6c6b1c844931aaa76"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c940b62732d74e6c6b1c844931aaa76">light_time2</a> (double jd_tdb, const <a class="el" href="structobject.html">object</a> *restrict body, const double *restrict pos_obs, double tlight0, enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> accuracy, double *p_src_obs, double *restrict v_ssb, double *restrict tlight)</td></tr>
<tr class="separator:a5c940b62732d74e6c6b1c844931aaa76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa423a88cd3f434642fc89d47390184f4" id="r_aa423a88cd3f434642fc89d47390184f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa423a88cd3f434642fc89d47390184f4">make_airborne_observer</a> (const <a class="el" href="structon__surface.html">on_surface</a> *location, const double *vel, <a class="el" href="structobserver.html">observer</a> *obs)</td></tr>
<tr class="separator:aa423a88cd3f434642fc89d47390184f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2f9fc986f99c1ec7092330dbf233fef" id="r_aa2f9fc986f99c1ec7092330dbf233fef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer</a> (double latitude, double longitude, double height, <a class="el" href="structobserver.html">observer</a> *obs)</td></tr>
<tr class="separator:aa2f9fc986f99c1ec7092330dbf233fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5fb62a9fb185632175ae622bce28dea" id="r_ab5fb62a9fb185632175ae622bce28dea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site</a> (double latitude, double longitude, double height, <a class="el" href="structon__surface.html">on_surface</a> *site)</td></tr>
<tr class="separator:ab5fb62a9fb185632175ae622bce28dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ca6f330e1795ce811df95986400632" id="r_ac0ca6f330e1795ce811df95986400632"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0ca6f330e1795ce811df95986400632">make_in_space</a> (const double *sc_pos, const double *sc_vel, <a class="el" href="structin__space.html">in_space</a> *loc)</td></tr>
<tr class="separator:ac0ca6f330e1795ce811df95986400632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b2d2e6ca9570f09a0ca1f82957ed48" id="r_ad8b2d2e6ca9570f09a0ca1f82957ed48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer</a> (double latitude, double longitude, double height, <a class="el" href="structobserver.html">observer</a> *obs)</td></tr>
<tr class="separator:ad8b2d2e6ca9570f09a0ca1f82957ed48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236750f494f3dcd943e71ba24aa2a55b" id="r_a236750f494f3dcd943e71ba24aa2a55b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site</a> (double latitude, double longitude, double height, <a class="el" href="structon__surface.html">on_surface</a> *site)</td></tr>
<tr class="separator:a236750f494f3dcd943e71ba24aa2a55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f2096c7954b583fe749553b956ff9d2" id="r_a0f2096c7954b583fe749553b956ff9d2"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f2096c7954b583fe749553b956ff9d2">make_observer</a> (enum <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3">novas_observer_place</a> where, const <a class="el" href="structon__surface.html">on_surface</a> *loc_surface, const <a class="el" href="structin__space.html">in_space</a> *loc_space, <a class="el" href="structobserver.html">observer</a> *obs)</td></tr>
<tr class="separator:a0f2096c7954b583fe749553b956ff9d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb3ab0d99aa6e487cdcf6b454949b75" id="r_aabb3ab0d99aa6e487cdcf6b454949b75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabb3ab0d99aa6e487cdcf6b454949b75">make_observer_at_geocenter</a> (<a class="el" href="structobserver.html">observer</a> *restrict obs)</td></tr>
<tr class="separator:aabb3ab0d99aa6e487cdcf6b454949b75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82db32ce7b115db4f0a077ca899589b" id="r_aa82db32ce7b115db4f0a077ca899589b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site</a> (const <a class="el" href="structon__surface.html">on_surface</a> *restrict site, <a class="el" href="structobserver.html">observer</a> *restrict obs)</td></tr>
<tr class="separator:aa82db32ce7b115db4f0a077ca899589b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c146e4d10152d5e1ffb978f2fc962be" id="r_a6c146e4d10152d5e1ffb978f2fc962be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c146e4d10152d5e1ffb978f2fc962be">make_observer_in_space</a> (const double *sc_pos, const double *sc_vel, <a class="el" href="structobserver.html">observer</a> *obs)</td></tr>
<tr class="separator:a6c146e4d10152d5e1ffb978f2fc962be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb76fc6e7be571e228d23aee3823cb9" id="r_a5eb76fc6e7be571e228d23aee3823cb9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5eb76fc6e7be571e228d23aee3823cb9">make_observer_on_surface</a> (double latitude, double longitude, double height, double temperature, double pressure, <a class="el" href="structobserver.html">observer</a> *restrict obs)</td></tr>
<tr class="separator:a5eb76fc6e7be571e228d23aee3823cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c084465aedee75965f74e23e6571fe" id="r_a42c084465aedee75965f74e23e6571fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42c084465aedee75965f74e23e6571fe">make_on_surface</a> (double latitude, double longitude, double height, double temperature, double pressure, <a class="el" href="structon__surface.html">on_surface</a> *restrict loc)</td></tr>
<tr class="separator:a42c084465aedee75965f74e23e6571fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3f1a1bc3fd9ac6d211806913d2d529" id="r_a9c3f1a1bc3fd9ac6d211806913d2d529"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c3f1a1bc3fd9ac6d211806913d2d529">make_solar_system_observer</a> (const double *sc_pos, const double *sc_vel, <a class="el" href="structobserver.html">observer</a> *obs)</td></tr>
<tr class="separator:a9c3f1a1bc3fd9ac6d211806913d2d529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3cbe310a40919ff94d2d530ffa74ee" id="r_a9e3cbe310a40919ff94d2d530ffa74ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e3cbe310a40919ff94d2d530ffa74ee">make_xyz_site</a> (const double *restrict xyz, <a class="el" href="structon__surface.html">on_surface</a> *restrict site)</td></tr>
<tr class="separator:a9e3cbe310a40919ff94d2d530ffa74ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13cd0b80eaa7bc682013f7e8ffbdbd6f" id="r_a13cd0b80eaa7bc682013f7e8ffbdbd6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13cd0b80eaa7bc682013f7e8ffbdbd6f">novas_e2h_offset</a> (double dra, double ddec, double pa, double *restrict daz, double *restrict del)</td></tr>
<tr class="separator:a13cd0b80eaa7bc682013f7e8ffbdbd6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a095ba0ee644dc00c11dcdc5616bc96b0" id="r_a095ba0ee644dc00c11dcdc5616bc96b0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a095ba0ee644dc00c11dcdc5616bc96b0">novas_epa</a> (double ha, double dec, double lat)</td></tr>
<tr class="separator:a095ba0ee644dc00c11dcdc5616bc96b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7977de3e3edf8120b50cbd026c155f47" id="r_a7977de3e3edf8120b50cbd026c155f47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7977de3e3edf8120b50cbd026c155f47">novas_h2e_offset</a> (double daz, double del, double pa, double *restrict dra, double *restrict ddec)</td></tr>
<tr class="separator:a7977de3e3edf8120b50cbd026c155f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73fcb54e47b2be0aa92810b5f55f7a3c" id="r_a73fcb54e47b2be0aa92810b5f55f7a3c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73fcb54e47b2be0aa92810b5f55f7a3c">novas_hpa</a> (double az, double el, double lat)</td></tr>
<tr class="separator:a73fcb54e47b2be0aa92810b5f55f7a3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a601d246673742cf72a5dbe1449c97560" id="r_a601d246673742cf72a5dbe1449c97560"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a601d246673742cf72a5dbe1449c97560">novas_los_to_xyz</a> (const double *los, double lon, double lat, double *xyz)</td></tr>
<tr class="separator:a601d246673742cf72a5dbe1449c97560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fc8f315f8606e09571ab49efb13baca" id="r_a0fc8f315f8606e09571ab49efb13baca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0fc8f315f8606e09571ab49efb13baca">novas_set_default_weather</a> (<a class="el" href="structon__surface.html">on_surface</a> *site)</td></tr>
<tr class="separator:a0fc8f315f8606e09571ab49efb13baca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c920eee105431247e9a1d9bf1c3021" id="r_a16c920eee105431247e9a1d9bf1c3021"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16c920eee105431247e9a1d9bf1c3021">novas_uvw_to_xyz</a> (const double *uvw, double ha, double dec, double *xyz)</td></tr>
<tr class="separator:a16c920eee105431247e9a1d9bf1c3021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14deb6fdce80ba213e1f1d5238306e17" id="r_a14deb6fdce80ba213e1f1d5238306e17"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14deb6fdce80ba213e1f1d5238306e17">novas_xyz_to_los</a> (const double *xyz, double lon, double lat, double *los)</td></tr>
<tr class="separator:a14deb6fdce80ba213e1f1d5238306e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87867e8e7fc7decaa44777a696465353" id="r_a87867e8e7fc7decaa44777a696465353"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87867e8e7fc7decaa44777a696465353">novas_xyz_to_uvw</a> (const double *xyz, double ha, double dec, double *uvw)</td></tr>
<tr class="separator:a87867e8e7fc7decaa44777a696465353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07490a134a685fe0842b2b4816559292" id="r_a07490a134a685fe0842b2b4816559292"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07490a134a685fe0842b2b4816559292">obs_planets</a> (double jd_tdb, enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> accuracy, const double *restrict pos_obs, int pl_mask, <a class="el" href="structnovas__planet__bundle.html">novas_planet_bundle</a> *restrict planets)</td></tr>
<tr class="separator:a07490a134a685fe0842b2b4816559292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4e5ff7c37e6521ca75ae62aaf4050e" id="r_a0e4e5ff7c37e6521ca75ae62aaf4050e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e4e5ff7c37e6521ca75ae62aaf4050e">obs_posvel</a> (double jd_tdb, double ut1_to_tt, enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> accuracy, const <a class="el" href="structobserver.html">observer</a> *restrict obs, const double *restrict geo_pos, const double *restrict geo_vel, double *restrict pos, double *restrict vel)</td></tr>
<tr class="separator:a0e4e5ff7c37e6521ca75ae62aaf4050e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>Created on Mar 6, 2025 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs and G. Kaplan</dd></dl>
<p>This module provides a set of functions that define an astronomical observer location, or ones that relate to observer location.</p>
<p>The following type of observer locations are supported:</p>
<ol type="1">
<li>Geodetic Earth-based observer locations: a. ground-based observer sites:<ul>
<li>GPS locations via <code><a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a></code></li>
<li>ITRF / GRS80 locations via <code>make_itrs_observer()</code></li>
<li>Cartesian <em>x</em>, <em>y</em>, <em>z</em> coordinates via <code><a class="el" href="#a9e3cbe310a40919ff94d2d530ffa74ee">make_xyz_site()</a></code> and <code>make_site_observer()</code> b. airborne observers, via a location (e.g. <code><a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a></code>, <code><a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a></code> or <code><a class="el" href="#a9e3cbe310a40919ff94d2d530ffa74ee">make_xyz_site()</a></code>), and a ground velocity using <code><a class="el" href="#aa423a88cd3f434642fc89d47390184f4">make_airborne_observer()</a></code>.</li>
</ul>
</li>
<li>Near Earth Orbit (NEO) locations, via <code><a class="el" href="#a6c146e4d10152d5e1ffb978f2fc962be">make_observer_in_space()</a></code> specifying momentary position and velocity w.r.t. the geocenter.</li>
<li>Virtual observer at the geocenter via <code>make_observer_at_geocecenter()</code>.</li>
<li>Solar-system locations via <code><a class="el" href="#a9c3f1a1bc3fd9ac6d211806913d2d529">make_solar_system_observer()</a></code>, specifying a momentary barycentric (that is w.r.t. the SSB) position and velocity vector.</li>
</ol>
<p>Once an observer is defined, it maybe used to set up an observing frame for a specific time of observation. Observing frames allow efficient and precise position calculations from an observer's point-of-view.</p>
<p>This module also provides functions otherwise relating to the observer locations.</p>
<p>For Earth-based geodetic locations, the module provides a set of functions to convert between various (local) coordinate systems. For example, calculating parallactic angles (a.k.a. vertical position angle or VPA), for converting between horizontal and equatorial offsets, and various functions for converting equatorial vectors to a line-of-sight, or <em>u</em>, <em>v</em>, <em>w</em> coordinate bases, and vice-versa.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="timescale_8c.html">timescale.c</a>, frame.c </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a033f1bf4b01e0e21a0e05e13c19c02f6" name="a033f1bf4b01e0e21a0e05e13c19c02f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a033f1bf4b01e0e21a0e05e13c19c02f6">&#9670;&#160;</a></span>aberration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aberration </td>
          <td>(</td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>vobs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>lighttime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Corrects position vector for aberration of light. Algorithm includes relativistic terms.</p>
<p>NOTES: </p><ol>
<li>
This function is called by <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code> to account for aberration when calculating the position of the source. </li>
</ol>
<p>REFERENCES: </p><ol>
<li>
Murray, C. A. (1981) Mon. Notices Royal Ast. Society 195, 639-648. </li>
<li>
Kaplan, G. H. et. al. (1989). Astron. Journ. 97, 1197-1210. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">pos</td><td>[AU] Position vector of source relative to observer </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">vobs</td><td>[AU/day] Velocity vector of observer, relative to the solar system barycenter. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">lighttime</td><td>[day] Light time from object to Earth (if known). Or set to 0, and this function will compute it as needed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>[AU] Position vector, referred to origin at center of mass of the Earth, corrected for aberration. It can be the same vector as one of the inputs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if any of the vector arguments are NULL.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>frame_aberration() </dd></dl>

<p class="reference">References <a class="el" href="util_8c.html#a0f41cefb8c872973b07e936b5026d143">novas_vlen()</a>.</p>

</div>
</div>
<a id="a1d58fd371e7604f75df315365672941e" name="a1d58fd371e7604f75df315365672941e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d58fd371e7604f75df315365672941e">&#9670;&#160;</a></span>bary2obs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bary2obs </td>
          <td>(</td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>pos_obs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>lighttime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the origin of coordinates from the barycenter of the solar system to the observer (or the geocenter); i.e., this function accounts for parallax (annual+geocentric or just annual).</p>
<p>REFERENCES: </p><ol>
<li>
Kaplan, G. H. et. al. (1989). Astron. Journ. 97, 1197-1210. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">pos</td><td>[AU] Position vector, referred to origin at solar system barycenter. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pos_obs</td><td>[AU] Position vector of observer (or the geocenter), with respect to origin at solar system barycenter. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>[AU] Position vector, referred to origin at center of mass of the Earth. It may be NULL if not required, or be the same vector as either of the inputs. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lighttime</td><td>[day] Light time from object to Earth. It may be NULL if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if any of the essential pointer arguments is NULL.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a>, <a class="el" href="#a5c940b62732d74e6c6b1c844931aaa76">light_time2()</a> </dd></dl>

<p class="reference">References <a class="el" href="util_8c.html#a0f41cefb8c872973b07e936b5026d143">novas_vlen()</a>.</p>

</div>
</div>
<a id="afb2cc37c7bdcd34c5c167afe092aed68" name="afb2cc37c7bdcd34c5c167afe092aed68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb2cc37c7bdcd34c5c167afe092aed68">&#9670;&#160;</a></span>light_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short light_time </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>jd_tdb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>pos_obs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>tlight0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a></td>          <td class="paramname"><span class="paramname"><em>accuracy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>pos_src_obs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>tlight</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes the geocentric position of a solar system body, as antedated for light-time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">jd_tdb</td><td>[day] Barycentric Dynamical Time (TDB) based Julian date </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">body</td><td>Pointer to structure containing the designation for the solar system body </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pos_obs</td><td>[AU] Position 3-vector of observer (or the geocenter), with respect to origin at solar system barycenter, referred to ICRS axes. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">tlight0</td><td>[day] First approximation to light-time (can be set to 0.0 if not readily available &ndash; it will then be computed as needed). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">accuracy</td><td>NOVAS_FULL_ACCURACY (0) or NOVAS_REDUCED_ACCURACY (1) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pos_src_obs</td><td>[AU] Position 3-vector of body, with respect to origin at observer (or the geocenter), referred to ICRS axes. It can be the same vector as either of the inputs. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tlight</td><td>[day] Calculated light time</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, -1 if any of the poiinter arguments is NULL, 1 if the algorithm failed to converge after 10 iterations, or 10 + the error from <a class="el" href="plugin_8c.html#a713982e1f2bae0a72b39d03007f00d23">ephemeris()</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c940b62732d74e6c6b1c844931aaa76">light_time2()</a>, <a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a5c940b62732d74e6c6b1c844931aaa76">light_time2()</a>.</p>

</div>
</div>
<a id="a5c940b62732d74e6c6b1c844931aaa76" name="a5c940b62732d74e6c6b1c844931aaa76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c940b62732d74e6c6b1c844931aaa76">&#9670;&#160;</a></span>light_time2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int light_time2 </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>jd_tdb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *restrict</td>          <td class="paramname"><span class="paramname"><em>pos_obs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>tlight0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a></td>          <td class="paramname"><span class="paramname"><em>accuracy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>p_src_obs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>v_ssb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>tlight</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes the geocentric position and velocity of a solar system body, as antedated for light-time. It is effectively the same as the original NOVAS C <a class="el" href="#afb2cc37c7bdcd34c5c167afe092aed68">light_time()</a>, except that this returns the antedated source velocity vector also.</p>
<p>NOTES: </p><ol>
<li>
This function is called by <code><a class="el" href="frames_8c.html#ac6652ee3257621080dac342313d0a0a7">novas_geom_posvel()</a></code> or <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code> to calculate observed positions, radial velocity, and distance for the time when the observed light originated from the source. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">jd_tdb</td><td>[day] Barycentric Dynamical Time (TDB) based Julian date </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">body</td><td>Pointer to structure containing the designation for the solar system body </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pos_obs</td><td>[AU] Position 3-vector of observer (or the geocenter), with respect to origin at solar system barycenter, referred to ICRS axes. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">tlight0</td><td>[day] First approximation to light-time (can be set to 0.0 if not readily avasilable &ndash; so it will be calculated as needed). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">accuracy</td><td>NOVAS_FULL_ACCURACY (0) or NOVAS_REDUCED_ACCURACY (1) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_src_obs</td><td>[AU] Position 3-vector of body, relative to observer, referred to ICRS axes, components in AU. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">v_ssb</td><td>[AU/day] Velocity 3-vector of body, with respect to the Solar-system barycenter, referred to ICRS axes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tlight</td><td>[day] Calculated light time, or NAN when returning with an error code.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, -1 if any of the pointer arguments is NULL or if the output vectors are the same or if they are the same as pos_obs, 1 if the algorithm failed to converge after 10 iterations, or 10 + the error from <a class="el" href="plugin_8c.html#a713982e1f2bae0a72b39d03007f00d23">ephemeris()</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#afb2cc37c7bdcd34c5c167afe092aed68">light_time()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.0 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="#a1d58fd371e7604f75df315365672941e">bary2obs()</a>, <a class="el" href="plugin_8c.html#a713982e1f2bae0a72b39d03007f00d23">ephemeris()</a>, <a class="el" href="novas_8h.html#a208120c5fa3e12853eb37cb99d3e27beade504a1c5ccf790ce9d8ad52797bb94c">NOVAS_BARYCENTER</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660">NOVAS_FULL_ACCURACY</a>, and <a class="el" href="util_8c.html#ad2b933ce2f58e8b04bbe76ffbff99eb0">novas_inv_max_iter</a>.</p>

</div>
</div>
<a id="aa423a88cd3f434642fc89d47390184f4" name="aa423a88cd3f434642fc89d47390184f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa423a88cd3f434642fc89d47390184f4">&#9670;&#160;</a></span>make_airborne_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_airborne_observer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structon__surface.html">on_surface</a> *</td>          <td class="paramname"><span class="paramname"><em>location</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>vel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structobserver.html">observer</a> *</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Populates an 'observer' data structure for an observer moving relative to the surface of Earth, such as an airborne observer. Airborne observers have an earth fixed momentary location, defined by longitude, latitude, and altitude, the same was as for a stationary observer on Earth, but are moving relative to the surface, such as in an aircraft or balloon observatory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">location</td><td>Current geodetic location, e.g. as populated with <code><a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a></code> or similar. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">vel</td><td>[km/s] Surface velocity. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">obs</td><td>Pointer to data structure to populate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the output argument is NULL.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a>, <a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a>, <a class="el" href="#a9e3cbe310a40919ff94d2d530ffa74ee">make_xyz_site()</a> </dd>
<dd>
<a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a>, <a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a>, <a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a>, <a class="el" href="#a6c146e4d10152d5e1ffb978f2fc962be">make_observer_in_space()</a>, <a class="el" href="#a9c3f1a1bc3fd9ac6d211806913d2d529">make_solar_system_observer()</a>, make_observer_at geocenter(), <a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="novas_8h.html#a406038a5cbe32b7e0e7233f6145e4cf5">IN_SPACE_INIT</a>, <a class="el" href="#a0f2096c7954b583fe749553b956ff9d2">make_observer()</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a1665bf146ca1a4d11380bf4d7d9d7058">NOVAS_AIRBORNE_OBSERVER</a>, and <a class="el" href="structin__space.html#a9615dabeef0c31f47546c8083b768257">in_space::sc_vel</a>.</p>

</div>
</div>
<a id="aa2f9fc986f99c1ec7092330dbf233fef" name="aa2f9fc986f99c1ec7092330dbf233fef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f9fc986f99c1ec7092330dbf233fef">&#9670;&#160;</a></span>make_gps_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_gps_observer </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>latitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>longitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structobserver.html">observer</a> *</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes an observer data structure for a ground-based observer with the specified GPS / WGS84 location, and sets mean (annual) weather parameters based on that location.</p>
<p>For the highest (&mu;as / mm level) precision, you probably should use an ITRF location instead of a GPS based location.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">latitude</td><td>[deg] Geodetic (GPS / WGS84) latitude north positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">longitude</td><td>[deg] Geodetic (GPS / WGS84) longitude east positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">height</td><td>[m] Geodetic (GPS / WGS84) altitude above sea level of the observer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">obs</td><td>Pointer to the data structure to populate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the output argument is NULL (errno set to EINVAL), or if the latitude is outside of the [-90:90] range (errno set to ERANGE).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a>, <a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a>, <a class="el" href="#aa423a88cd3f434642fc89d47390184f4">make_airborne_observer()</a>, <a class="el" href="#a6c146e4d10152d5e1ffb978f2fc962be">make_observer_in_space()</a>, <a class="el" href="#aabb3ab0d99aa6e487cdcf6b454949b75">make_observer_at_geocenter()</a>, <a class="el" href="#a9c3f1a1bc3fd9ac6d211806913d2d529">make_solar_system_observer()</a> </dd>
<dd>
<a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a>, <a class="el" href="#a0fc8f315f8606e09571ab49efb13baca">novas_set_default_weather()</a>, <a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a>, <a class="el" href="itrf_8c.html#adcd71f60a1f042af1eb7103134fad8c4">novas_geodetic_transform_site()</a> </dd></dl>

<p class="reference">References <a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a>, and <a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a>.</p>

</div>
</div>
<a id="ab5fb62a9fb185632175ae622bce28dea" name="ab5fb62a9fb185632175ae622bce28dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5fb62a9fb185632175ae622bce28dea">&#9670;&#160;</a></span>make_gps_site()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_gps_site </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>latitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>longitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structon__surface.html">on_surface</a> *</td>          <td class="paramname"><span class="paramname"><em>site</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes an observing site with the specified GPS / WGS84 location, and sets mean (annual) weather parameters based on that location.</p>
<p>For the highest (&mu;as / mm level) precision, you probably should use an ITRF location instead of a GPS based location.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">latitude</td><td>[deg] Geodetic (GPS / WGS84) latitude; north positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">longitude</td><td>[deg] Geodetic (GPS / WGS84) longitude; east positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">height</td><td>[m] Geodetic (GPS / WGS84) altitude above sea level of the observer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">site</td><td>Pointer to the data structure to populate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the output argument is NULL (errno set to EINVAL), or if the latitude is outside of the [-90:90] range (errno set to ERANGE).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a>, <a class="el" href="#a9e3cbe310a40919ff94d2d530ffa74ee">make_xyz_site()</a> </dd>
<dd>
<a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a>, <a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a>, <a class="el" href="#a0fc8f315f8606e09571ab49efb13baca">novas_set_default_weather()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a>, <a class="el" href="itrf_8c.html#a7479134485c298faa858d73ee0513a11">novas_cartesian_to_geodetic()</a>, <a class="el" href="itrf_8c.html#ab07d86d425d68a62e94e965dd36b7a32">novas_geodetic_to_cartesian()</a>, <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3a4080d8e188d2d352b0f63c759ffee118">NOVAS_GRS80_ELLIPSOID</a>, and <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3a3f73d5ac6ed2f2ed81b4e7b7fdbf1e85">NOVAS_WGS84_ELLIPSOID</a>.</p>

</div>
</div>
<a id="ac0ca6f330e1795ce811df95986400632" name="ac0ca6f330e1795ce811df95986400632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0ca6f330e1795ce811df95986400632">&#9670;&#160;</a></span>make_in_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_in_space </td>
          <td>(</td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>sc_pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>sc_vel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structin__space.html">in_space</a> *</td>          <td class="paramname"><span class="paramname"><em>loc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Populates an '<a class="el" href="structin__space.html">in_space</a>' data structure, for an observer situated on a near-Earth spacecraft, with the provided position and velocity components. Both input vectors are assumed with respect to true equator and equinox of date.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">sc_pos</td><td>[km] Geocentric (x, y, z) position vector. NULL defaults to the origin </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sc_vel</td><td>[km/s] Geocentric (x, y, z) velocity vector. NULL defaults to zero speed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">loc</td><td>Pointer to earth-orbit location data structure to populate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the output argument is NULL.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a6c146e4d10152d5e1ffb978f2fc962be">make_observer_in_space()</a>, <a class="el" href="novas_8h.html#a406038a5cbe32b7e0e7233f6145e4cf5">IN_SPACE_INIT</a> </dd></dl>

<p class="reference">References <a class="el" href="structin__space.html#abc3736b39d63bfabf73a25e3b03b91d8">in_space::sc_pos</a>, and <a class="el" href="structin__space.html#a9615dabeef0c31f47546c8083b768257">in_space::sc_vel</a>.</p>

</div>
</div>
<a id="ad8b2d2e6ca9570f09a0ca1f82957ed48" name="ad8b2d2e6ca9570f09a0ca1f82957ed48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">&#9670;&#160;</a></span>make_itrf_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_itrf_observer </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>latitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>longitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structobserver.html">observer</a> *</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes an observer data structure for a ground-based observer with the specified International Terrestrial Reference Frame (ITRF) / GRS80 location, and sets mean (annual) weather parameters based on that location.</p>
<p>For the highest precision (&mu;as level) applications you should make sure that the location provided here and the Earth-orientation parameters (EOP) used (in setting <code><a class="el" href="novas_8h.html#aa642c4ccc7195dc62fd0dc56567ebd0b">novas_timescale</a></code> and in <code><a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a></code>) are provided in the same ITRF realization. You can use <code><a class="el" href="itrf_8c.html#a3c8c9b8f709d1e5a7aa3a915f8fafcbb">novas_itrf_transform_eop()</a></code> to change the ITRF realization for the EOP values, if necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">latitude</td><td>[deg] Geodetic (ITRF / GRS80) latitude; north positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">longitude</td><td>[deg] Geodetic (ITRF / GRS80) longitude; east positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">height</td><td>[m] Geodetic (ITRF / GRS80) altitude above sea level of the observer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">obs</td><td>Pointer to the data structure to populate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the output argument is NULL (errno set to EINVAL), or if the latitude is outside of the [-90:90] range (errno set to ERANGE).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a>, <a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a>, <a class="el" href="#aa423a88cd3f434642fc89d47390184f4">make_airborne_observer()</a>, <a class="el" href="#a6c146e4d10152d5e1ffb978f2fc962be">make_observer_in_space()</a>, <a class="el" href="#aabb3ab0d99aa6e487cdcf6b454949b75">make_observer_at_geocenter()</a>, <a class="el" href="#a9c3f1a1bc3fd9ac6d211806913d2d529">make_solar_system_observer()</a> </dd>
<dd>
<a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a>, <a class="el" href="itrf_8c.html#ad252294c7d4b3e62609c21f7550e2d09">novas_itrf_transform_site()</a>, <a class="el" href="#a0fc8f315f8606e09571ab49efb13baca">novas_set_default_weather()</a>, <a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a>, and <a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a>.</p>

</div>
</div>
<a id="a236750f494f3dcd943e71ba24aa2a55b" name="a236750f494f3dcd943e71ba24aa2a55b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a236750f494f3dcd943e71ba24aa2a55b">&#9670;&#160;</a></span>make_itrf_site()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_itrf_site </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>latitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>longitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structon__surface.html">on_surface</a> *</td>          <td class="paramname"><span class="paramname"><em>site</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes an observing site with the specified International Terrestrial Reference Frame (ITRF) / GRS80 location, and sets mean (annual) weather parameters based on that location.</p>
<p>For the highest precision (&mu;as level) applications you should make sure that the location provided here and the Earth-orientation parameters (EOP) used (in setting <code><a class="el" href="novas_8h.html#aa642c4ccc7195dc62fd0dc56567ebd0b">novas_timescale</a></code> and in <code><a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a></code>) are provided in the same ITRF realization. You can use <code><a class="el" href="itrf_8c.html#a3c8c9b8f709d1e5a7aa3a915f8fafcbb">novas_itrf_transform_eop()</a></code> to change the ITRF realization for the EOP values, if necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">latitude</td><td>[deg] Geodetic (ITRF / GRS80) latitude; north positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">longitude</td><td>[deg] Geodetic (ITRF / GRS80) longitude; east positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">height</td><td>[m] Geodetic (ITRF / GRS80) altitude above sea level of the observer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">site</td><td>Pointer to the data structure to populate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the output argument is NULL (errno set to EINVAL), or if the latitude is outside of the [-90:90] range (errno set to ERANGE).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a>, <a class="el" href="#a9e3cbe310a40919ff94d2d530ffa74ee">make_xyz_site()</a> </dd>
<dd>
<a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a>, <a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a>, <a class="el" href="#a0fc8f315f8606e09571ab49efb13baca">novas_set_default_weather()</a>, <a class="el" href="itrf_8c.html#ad252294c7d4b3e62609c21f7550e2d09">novas_itrf_transform_site()</a>, <a class="el" href="itrf_8c.html#a3c8c9b8f709d1e5a7aa3a915f8fafcbb">novas_itrf_transform_eop()</a> </dd></dl>

<p class="reference">References <a class="el" href="structon__surface.html#a89f6abd564014faeff7cd20c340a9c7d">on_surface::height</a>, <a class="el" href="structon__surface.html#a76714bdbc5c536fa77dfb14533ff82a9">on_surface::latitude</a>, <a class="el" href="structon__surface.html#ac155e35fdeebafc89723a51520fb9fe6">on_surface::longitude</a>, and <a class="el" href="#a0fc8f315f8606e09571ab49efb13baca">novas_set_default_weather()</a>.</p>

</div>
</div>
<a id="a0f2096c7954b583fe749553b956ff9d2" name="a0f2096c7954b583fe749553b956ff9d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f2096c7954b583fe749553b956ff9d2">&#9670;&#160;</a></span>make_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short make_observer </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3">novas_observer_place</a></td>          <td class="paramname"><span class="paramname"><em>where</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structon__surface.html">on_surface</a> *</td>          <td class="paramname"><span class="paramname"><em>loc_surface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structin__space.html">in_space</a> *</td>          <td class="paramname"><span class="paramname"><em>loc_space</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structobserver.html">observer</a> *</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000007">Deprecated</a></b></dt><dd>It is recommended that you use one of the more specific ways of initializing the observer data structure, e.g. with <code><a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a></code>, <code><a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a></code>, <code><a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a></code>, <code><a class="el" href="#aa423a88cd3f434642fc89d47390184f4">make_airborne_observer()</a></code> <code><a class="el" href="#a9c3f1a1bc3fd9ac6d211806913d2d529">make_solar_system_observer()</a>, or</code><a class="el" href="#aabb3ab0d99aa6e487cdcf6b454949b75">make_observer_at_geocenter()</a>`. This function will be available for the foreseeable future also.</dd></dl>
<p>Populates an 'observer' data structure given the parameters. The output data structure may be used an the the inputs to NOVAS-C functions, such as <code>make_frame()</code> or <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">where</td><td>The location type of the observer </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">loc_surface</td><td>Pointer to data structure that defines a location on Earth's surface. Used only if 'where' is NOVAS_OBSERVER_ON_EARTH, otherwise can be NULL. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">loc_space</td><td>Pointer to data structure that defines a near-Earth location in space. Used only if 'where' is NOVAS_OBSERVER_IN_EARTH_ORBIT, otherwise can be NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">obs</td><td>Pointer to observer data structure to populate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, -1 if a required argument is NULL, or 1 if the 'where' argument is invalid.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aabb3ab0d99aa6e487cdcf6b454949b75">make_observer_at_geocenter()</a>, <a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a>, <a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a>, <a class="el" href="#aa423a88cd3f434642fc89d47390184f4">make_airborne_observer()</a>, <a class="el" href="#a6c146e4d10152d5e1ffb978f2fc962be">make_observer_in_space()</a>, <a class="el" href="#a9c3f1a1bc3fd9ac6d211806913d2d529">make_solar_system_observer()</a> </dd></dl>

<p class="reference">References <a class="el" href="structobserver.html#a1ab1241c3bb4d3afc4710e02e948c0cb">observer::near_earth</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a1665bf146ca1a4d11380bf4d7d9d7058">NOVAS_AIRBORNE_OBSERVER</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aca54b3a0c7d5b31d09090a1f55ff72b2">NOVAS_OBSERVER_AT_GEOCENTER</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aca418efc57ac159cf541c324c008eb27">NOVAS_OBSERVER_IN_EARTH_ORBIT</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aadb64b75d1bf5344760b942f241e52e8">NOVAS_OBSERVER_ON_EARTH</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a82474207bac139bc2a8826b9d317a42c">NOVAS_SOLAR_SYSTEM_OBSERVER</a>, <a class="el" href="structobserver.html#a45fe4eb871c346c1b8315c4c6a41e96d">observer::on_surf</a>, <a class="el" href="structin__space.html#a9615dabeef0c31f47546c8083b768257">in_space::sc_vel</a>, and <a class="el" href="structobserver.html#a11f2eb69df64b674d938b34bbb842ab1">observer::where</a>.</p>

</div>
</div>
<a id="aabb3ab0d99aa6e487cdcf6b454949b75" name="aabb3ab0d99aa6e487cdcf6b454949b75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabb3ab0d99aa6e487cdcf6b454949b75">&#9670;&#160;</a></span>make_observer_at_geocenter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_observer_at_geocenter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structobserver.html">observer</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>obs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Populates an 'observer' data structure for a hypothetical observer located at Earth's geocenter. The output data structure may be used an the the inputs to NOVAS-C functions, such as <code>make_frame()</code> or <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">obs</td><td>Pointer to data structure to populate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the output argument is NULL.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a>, <a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a>, <a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a>, <a class="el" href="#aa423a88cd3f434642fc89d47390184f4">make_airborne_observer()</a>, <a class="el" href="#a6c146e4d10152d5e1ffb978f2fc962be">make_observer_in_space()</a>, <a class="el" href="#a9c3f1a1bc3fd9ac6d211806913d2d529">make_solar_system_observer()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a0f2096c7954b583fe749553b956ff9d2">make_observer()</a>, and <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aca54b3a0c7d5b31d09090a1f55ff72b2">NOVAS_OBSERVER_AT_GEOCENTER</a>.</p>

</div>
</div>
<a id="aa82db32ce7b115db4f0a077ca899589b" name="aa82db32ce7b115db4f0a077ca899589b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa82db32ce7b115db4f0a077ca899589b">&#9670;&#160;</a></span>make_observer_at_site()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_observer_at_site </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structon__surface.html">on_surface</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>site</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structobserver.html">observer</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes an observer data structure for a ground-based observer at the specified observing site, and sets mean (annual) weather parameters based on that location.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">site</td><td>Pointer to observing site data structure. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">obs</td><td>Pointer to the data structure to populate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the either argument is NULL (errno set to EINVAL).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a>, <a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a>, <a class="el" href="#aa423a88cd3f434642fc89d47390184f4">make_airborne_observer()</a>, <a class="el" href="#a6c146e4d10152d5e1ffb978f2fc962be">make_observer_in_space()</a>, <a class="el" href="#aabb3ab0d99aa6e487cdcf6b454949b75">make_observer_at_geocenter()</a>, <a class="el" href="#a9c3f1a1bc3fd9ac6d211806913d2d529">make_solar_system_observer()</a> </dd>
<dd>
<a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a>, <a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a>, <a class="el" href="#a9e3cbe310a40919ff94d2d530ffa74ee">make_xyz_site()</a>, <a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a> </dd></dl>

<p class="reference">References <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aadb64b75d1bf5344760b942f241e52e8">NOVAS_OBSERVER_ON_EARTH</a>.</p>

</div>
</div>
<a id="a6c146e4d10152d5e1ffb978f2fc962be" name="a6c146e4d10152d5e1ffb978f2fc962be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c146e4d10152d5e1ffb978f2fc962be">&#9670;&#160;</a></span>make_observer_in_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_observer_in_space </td>
          <td>(</td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>sc_pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>sc_vel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structobserver.html">observer</a> *</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Populates an 'observer' data structure, for an observer situated on a near-Earth spacecraft, with the specified geocentric position and velocity vectors. Both input vectors are with respect to true equator and equinox of date. The output data structure may be used an the the inputs to NOVAS-C functions, such as <code>make_frame()</code> or <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">sc_pos</td><td>[km] Geocentric (x, y, z) position vector. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sc_vel</td><td>[km/s] Geocentric (x, y, z) velocity vector. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">obs</td><td>Pointer to the data structure to populate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the output argument is NULL.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a>, <a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a>, <a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a>, <a class="el" href="#aa423a88cd3f434642fc89d47390184f4">make_airborne_observer()</a>, <a class="el" href="#aabb3ab0d99aa6e487cdcf6b454949b75">make_observer_at_geocenter()</a>, <a class="el" href="#a9c3f1a1bc3fd9ac6d211806913d2d529">make_solar_system_observer()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a> </dd></dl>

<p class="reference">References <a class="el" href="#ac0ca6f330e1795ce811df95986400632">make_in_space()</a>, <a class="el" href="#a0f2096c7954b583fe749553b956ff9d2">make_observer()</a>, and <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aca418efc57ac159cf541c324c008eb27">NOVAS_OBSERVER_IN_EARTH_ORBIT</a>.</p>

</div>
</div>
<a id="a5eb76fc6e7be571e228d23aee3823cb9" name="a5eb76fc6e7be571e228d23aee3823cb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eb76fc6e7be571e228d23aee3823cb9">&#9670;&#160;</a></span>make_observer_on_surface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_observer_on_surface </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>latitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>longitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>temperature</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>pressure</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structobserver.html">observer</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000008">Deprecated</a></b></dt><dd>This old NOVAS C function has a few too many caveats. It is recommended that you use <code><a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a></code>, <code><a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a></code>, or <code><a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a></code> instead (all of which set default mean annual weather parameters for approximate refraction correction), and optionally set actual weather data afterwards, based on the measurements available. This function will be available for the foreseeable future also.</dd></dl>
<p>Initializes an observer data structure with the specified ITRF / GRS80 location, and he specified local pressure and temperature. This old NOVAS C function does not set humidity. Thus, if humidity is needed for refraction correction, then you should set it explicitly after this call.</p>
<p>NOTES: </p><ol>
<li>
You can convert coordinates among ITRF realization using <code><a class="el" href="itrf_8c.html#afd98ed01148f1291018809d77785527f">novas_itrf_transform()</a></code>, possibly after <code><a class="el" href="itrf_8c.html#ab07d86d425d68a62e94e965dd36b7a32">novas_geodetic_to_cartesian()</a></code> with <code>NOVAS_GRS80_ELLIPSOID</code> as necessary for polar ITRF coordinates. </li>
<li>
You can convert ITRF Cartesian <em>xyz</em> locations to geodetic locations by using <code><a class="el" href="itrf_8c.html#a7479134485c298faa858d73ee0513a11">novas_cartesian_to_geodetic()</a></code> with <code>NOVAS_GRS80_ELLIPSOID</code> as the reference ellipsoid parameter. </li>
<li>
If you have longitude, latitude, and height defined as GPS (WGS84) values, you might want to use <a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a> intead </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">latitude</td><td>[deg] Geodetic (ITRF / GRS80) latitude; north positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">longitude</td><td>[deg] Geodetic (ITRF / GRS80) longitude; east positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">height</td><td>[m] Geodetic (ITRF / GRS80) altitude above sea level of the observer. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">temperature</td><td>[C] Temperature (degrees Celsius). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pressure</td><td>[mbar] Atmospheric pressure. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">obs</td><td>Pointer to the data structure to populate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the output argument is NULL, or if the latitude is outside of the [-90:90] range, or if the temperature or pressure values are impossible for an Earth based observer (errno set to ERANGE).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a>, <a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a>, <a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a> </dd>
<dd>
novas_set_weather(), <a class="el" href="itrf_8c.html#a7479134485c298faa858d73ee0513a11">novas_cartesian_to_geodetic()</a>, <a class="el" href="itrf_8c.html#ab07d86d425d68a62e94e965dd36b7a32">novas_geodetic_to_cartesian()</a>, <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3a4080d8e188d2d352b0f63c759ffee118" title="GRS80 reference ellipsoid, used for the International Terrestrial Reference System (ITRS).">NOVAS_GRS80_ELLIPSOID</a>, <a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a0f2096c7954b583fe749553b956ff9d2">make_observer()</a>, <a class="el" href="#a42c084465aedee75965f74e23e6571fe">make_on_surface()</a>, and <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aadb64b75d1bf5344760b942f241e52e8">NOVAS_OBSERVER_ON_EARTH</a>.</p>

</div>
</div>
<a id="a42c084465aedee75965f74e23e6571fe" name="a42c084465aedee75965f74e23e6571fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42c084465aedee75965f74e23e6571fe">&#9670;&#160;</a></span>make_on_surface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_on_surface </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>latitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>longitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>temperature</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>pressure</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structon__surface.html">on_surface</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>loc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000009">Deprecated</a></b></dt><dd>This old NOVAS C function has a few too many caveats. It is recommended that you use <code><a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a></code> or <code><a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a></code> instead (both of which set default mean annual weather parameters for approximate refraction correction), and optionally set actual weather data afterwards, based on the measurements available. This function will be available for the foreseeable future also.</dd></dl>
<p>Populates an '<a class="el" href="structon__surface.html">on_surface</a>' data structure, for an observer on the surface of the Earth, with the given parameters.</p>
<p>Note, that because this is an original NOVAS C routine, it does not have an argument to set a humidity value (e.g. for radio refraction). As such, the humidity is set to a a default mean annual value for the location. To set an actual humidity, set the output structure's field after calling this funcion.</p>
<p>NOTES </p><ol>
<li>
This implementation breaks strict v1.0 ABI compatibility since it writes to (initializes) a field (<code>humidity</code>) that was not yet part of the <code><a class="el" href="structon__surface.html">on_surface</a></code> structure in v1.0. As such, linking SuperNOVAS v1.1 or later with application code compiled for SuperNOVAS v1.0 can result in memory corruption or segmentation fault when this function is called. To be safe, make sure your application has been (re)compiled against SuperNOVAS v1.1 or later. </li>
<li>
You can convert coordinates among ITRF realization using <code><a class="el" href="itrf_8c.html#afd98ed01148f1291018809d77785527f">novas_itrf_transform()</a></code>, possibly after <code><a class="el" href="itrf_8c.html#ab07d86d425d68a62e94e965dd36b7a32">novas_geodetic_to_cartesian()</a></code> with <code>NOVAS_GRS80_ELLIPSOID</code> as necessary for polar ITRF coordinates. </li>
<li>
You can convert Cartesian <em>xyz</em> locations to geodetic locations by using <code><a class="el" href="itrf_8c.html#a7479134485c298faa858d73ee0513a11">novas_cartesian_to_geodetic()</a></code> with <code>NOVAS_GRS80_ELLIPSOID</code> as the reference ellipsoid parameter. </li>
<li>
If you have longitude, latitude, and height defined as GPS (WGS84) values, you might want to use <code><a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a></code> instead, and then set weather parameters afterwards as necessary.  </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">latitude</td><td>[deg] Geodetic (ITRF / GRS80) latitude; north positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">longitude</td><td>[deg] Geodetic (ITRF / GRS80) longitude; east positive. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">height</td><td>[m] Geodetic (ITRF / GSR80) altitude above sea level of the observer. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">temperature</td><td>[C] Temperature (degrees Celsius) [-120:70]. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pressure</td><td>[mbar] Atmospheric pressure [0:1200]. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">loc</td><td>Pointer to Earth location data structure to populate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the output argument is NULL (errno set to EINVAL), or if the latitude is outside of the [-90:90] range, or if the temperature or pressure values are impossible for an Earth based observer (errno set to ERANGE).</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a>, <a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a>, <a class="el" href="#a9e3cbe310a40919ff94d2d530ffa74ee">make_xyz_site()</a> </dd>
<dd>
<a class="el" href="#a0fc8f315f8606e09571ab49efb13baca">novas_set_default_weather()</a>, <a class="el" href="itrf_8c.html#a7479134485c298faa858d73ee0513a11">novas_cartesian_to_geodetic()</a>, <a class="el" href="novas_8h.html#ad8e67e1b12b3699a361f87e95d333334">ON_SURFACE_INIT</a>, <a class="el" href="novas_8h.html#a4fe5e792ca262b3f45fe992b4c49e9b4">ON_SURFACE_LOC</a>, <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3a4080d8e188d2d352b0f63c759ffee118" title="GRS80 reference ellipsoid, used for the International Terrestrial Reference System (ITRS).">NOVAS_GRS80_ELLIPSOID</a> </dd></dl>

<p class="reference">References <a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a>.</p>

</div>
</div>
<a id="a9c3f1a1bc3fd9ac6d211806913d2d529" name="a9c3f1a1bc3fd9ac6d211806913d2d529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c3f1a1bc3fd9ac6d211806913d2d529">&#9670;&#160;</a></span>make_solar_system_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_solar_system_observer </td>
          <td>(</td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>sc_pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>sc_vel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structobserver.html">observer</a> *</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Populates an 'observer' data structure, for an observer situated on a near-Earth spacecraft, with the specified geocentric position and velocity vectors. Solar-system observers are similar to observers in Earth-orbit but their momentary position and velocity is defined relative to the Solar System Barycenter, instead of the geocenter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">sc_pos</td><td>[AU] Solar-system barycentric (x, y, z) position vector in ICRS. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sc_vel</td><td>[AU/day] Solar-system barycentric (x, y, z) velocity vector in ICRS. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">obs</td><td>Pointer to the data structure to populate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if the output argument is NULL.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a>, <a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a>, <a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a>, <a class="el" href="#aa423a88cd3f434642fc89d47390184f4">make_airborne_observer()</a>, <a class="el" href="#a6c146e4d10152d5e1ffb978f2fc962be">make_observer_in_space()</a>, <a class="el" href="#a9c3f1a1bc3fd9ac6d211806913d2d529">make_solar_system_observer()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="#ac0ca6f330e1795ce811df95986400632">make_in_space()</a>, <a class="el" href="#a0f2096c7954b583fe749553b956ff9d2">make_observer()</a>, and <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a82474207bac139bc2a8826b9d317a42c">NOVAS_SOLAR_SYSTEM_OBSERVER</a>.</p>

</div>
</div>
<a id="a9e3cbe310a40919ff94d2d530ffa74ee" name="a9e3cbe310a40919ff94d2d530ffa74ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e3cbe310a40919ff94d2d530ffa74ee">&#9670;&#160;</a></span>make_xyz_site()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_xyz_site </td>
          <td>(</td>
          <td class="paramtype">const double *restrict</td>          <td class="paramname"><span class="paramname"><em>xyz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structon__surface.html">on_surface</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>site</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes an observing site with the specified Cartesian geocentric <em>xyz</em> location, and sets mean (annual) weather parameters based on that location.</p>
<p>For the highest precision (&mu;as level) applications you should make sure that the site coordinates and the Earth-orientation parameters (EOP) used (in setting <code><a class="el" href="novas_8h.html#aa642c4ccc7195dc62fd0dc56567ebd0b">novas_timescale</a></code> and in <code><a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a></code>) are provided in the same ITRF realization. You can use <code><a class="el" href="itrf_8c.html#afd98ed01148f1291018809d77785527f">novas_itrf_transform()</a></code> or <code><a class="el" href="itrf_8c.html#a3c8c9b8f709d1e5a7aa3a915f8fafcbb">novas_itrf_transform_eop()</a></code> to change the ITRF realization for the site coordinates and/or the EOP values, if necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">xyz</td><td>[m] Cartesian geocentric position. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">site</td><td>Pointer to the data structure to populate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or -1 if either of the arguments is NULL (errno set to EINVAL), or if the latitude is outside of the [-90:90] range (errno set to ERANGE).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a>, <a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a>, <a class="el" href="#a9e3cbe310a40919ff94d2d530ffa74ee">make_xyz_site()</a> </dd>
<dd>
<a class="el" href="#aa82db32ce7b115db4f0a077ca899589b">make_observer_at_site()</a>, <a class="el" href="itrf_8c.html#afd98ed01148f1291018809d77785527f">novas_itrf_transform()</a>, <a class="el" href="itrf_8c.html#a3c8c9b8f709d1e5a7aa3a915f8fafcbb">novas_itrf_transform_eop()</a>, <a class="el" href="#a0fc8f315f8606e09571ab49efb13baca">novas_set_default_weather()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a>, <a class="el" href="itrf_8c.html#a7479134485c298faa858d73ee0513a11">novas_cartesian_to_geodetic()</a>, and <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3a4080d8e188d2d352b0f63c759ffee118">NOVAS_GRS80_ELLIPSOID</a>.</p>

</div>
</div>
<a id="a13cd0b80eaa7bc682013f7e8ffbdbd6f" name="a13cd0b80eaa7bc682013f7e8ffbdbd6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13cd0b80eaa7bc682013f7e8ffbdbd6f">&#9670;&#160;</a></span>novas_e2h_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_e2h_offset </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dra</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ddec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>pa</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>daz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>del</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts coordinate offsets, from the local equatorial system to local horizontal offsets. Converting between local flat projections and spherical coordinates usually requires a WCS projection.</p>
<p>REFERENCES: </p><ol>
<li>
Calabretta, M.R., &amp; Greisen, E.W., (2002), Astronomy &amp; Astrophysics, 395, 1077-1122. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">dra</td><td>[arcsec] Projected ffset position in the apparent true-of-date R.A. direction. E.g. The projected offset between two RA coordinates at a same reference declination, is &delta;RA = (RA2 - RA1) * cos(Dec<sub>0</sub>). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ddec</td><td>[arcsec] Projected offset position in the apparent true-of-date declination direction. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pa</td><td>[deg] Parallactic Angle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">daz</td><td>[arcsec] Output offset position in the local azimuth direction. It can be a pointer to one of the input coordinates, or NULL if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">del</td><td>[arcsec] Output offset position in the local elevation direction. It can be a pointer to one of the input coordinates, or NULL if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a7977de3e3edf8120b50cbd026c155f47">novas_h2e_offset()</a>, <a class="el" href="#a095ba0ee644dc00c11dcdc5616bc96b0">novas_epa()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a7977de3e3edf8120b50cbd026c155f47">novas_h2e_offset()</a>.</p>

</div>
</div>
<a id="a095ba0ee644dc00c11dcdc5616bc96b0" name="a095ba0ee644dc00c11dcdc5616bc96b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a095ba0ee644dc00c11dcdc5616bc96b0">&#9670;&#160;</a></span>novas_epa()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double novas_epa </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ha</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the equatorial Parallactic Angle (PA) calculated for an R.A./Dec location of the sky at a given sidereal time. The PA is the angle between the local horizontal coordinate directions and the local true-of-date equatorial coordinate directions, at the given location and time. The polar wobble is not included in the calculation.</p>
<p>The Parallactic Angle is sometimes referrred to as the Vertical Position Angle (VPA). Both define the same quantity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ha</td><td>[h] Hour angle (LST - RA) i.e., the difference between the Local (apparent) Sidereal Time and the apparent (true-of-date) Right Ascension of observed source. </td></tr>
    <tr><td class="paramname">dec</td><td>[deg] Apparent (true-of-date) declination of observed source </td></tr>
    <tr><td class="paramname">lat</td><td>[deg] Geodetic latitude of observer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[deg] Parallactic Angle (PA). I.e., the clockwise position angle of the elevation direction w.r.t. the declination axis in the equatorial system. Same as the clockwise position angle of the declination direction w.r.t. the elevation axis, in the horizontal system.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a73fcb54e47b2be0aa92810b5f55f7a3c">novas_hpa()</a>, <a class="el" href="#a13cd0b80eaa7bc682013f7e8ffbdbd6f">novas_e2h_offset()</a> </dd></dl>

</div>
</div>
<a id="a7977de3e3edf8120b50cbd026c155f47" name="a7977de3e3edf8120b50cbd026c155f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7977de3e3edf8120b50cbd026c155f47">&#9670;&#160;</a></span>novas_h2e_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_h2e_offset </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>daz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>del</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>pa</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>dra</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>ddec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts coordinate offsets, from the local horizontal system to local equatorial offsets. Converting between local flat projections and spherical coordinates usually requires a WCS projection.</p>
<p>REFERENCES: </p><ol>
<li>
Calabretta, M.R., &amp; Greisen, E.W., (2002), Astronomy &amp; Astrophysics, 395, 1077-1122. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">daz</td><td>[arcsec] Projected offset position in the azimuth direction. The projected offset between two azimuth positions at the same reference elevation is &delta;Az = (Az2 - Az1) * cos(El<sub>0</sub>). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">del</td><td>[arcsec] projected offset position in the elevation direction </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pa</td><td>[deg] Parallactic Angle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dra</td><td>[arcsec] Output offset position in the local true-of-date R.A. direction. It can be a pointer to one of the input coordinates, or NULL if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ddec</td><td>[arcsec] Output offset position in the local true-of-date declination direction. It can be a pointer to one of the input coordinates, or NULL if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a13cd0b80eaa7bc682013f7e8ffbdbd6f">novas_e2h_offset()</a>, <a class="el" href="#a73fcb54e47b2be0aa92810b5f55f7a3c">novas_hpa()</a> </dd></dl>

</div>
</div>
<a id="a73fcb54e47b2be0aa92810b5f55f7a3c" name="a73fcb54e47b2be0aa92810b5f55f7a3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73fcb54e47b2be0aa92810b5f55f7a3c">&#9670;&#160;</a></span>novas_hpa()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double novas_hpa </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>az</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>el</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the horizontal Parallactic Angle (PA) calculated for a gorizontal Az/El location of the sky. The PA is the angle between the local horizontal coordinate directions and the local true-of-date equatorial coordinate directions at the given location. The polar wobble is not included in the calculation.</p>
<p>The Parallactic Angle is sometimes referrred to as the Vertical Position Angle (VPA). Both define the same quantity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">az</td><td>[deg] Azimuth angle </td></tr>
    <tr><td class="paramname">el</td><td>[deg] Elevation angle </td></tr>
    <tr><td class="paramname">lat</td><td>[deg] Geodetic latitude of observer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[deg] Parallactic Angle (PA). I.e., the clockwise position angle of the declination direction w.r.t. the elevation axis in the horizontal system. Same as the the clockwise position angle of the elevation direction w.r.t. the declination axis in the equatorial system.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a095ba0ee644dc00c11dcdc5616bc96b0">novas_epa()</a>, <a class="el" href="#a7977de3e3edf8120b50cbd026c155f47">novas_h2e_offset()</a> </dd></dl>

</div>
</div>
<a id="a601d246673742cf72a5dbe1449c97560" name="a601d246673742cf72a5dbe1449c97560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a601d246673742cf72a5dbe1449c97560">&#9670;&#160;</a></span>novas_los_to_xyz()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_los_to_xyz </td>
          <td>(</td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>los</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>lon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>xyz</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts a 3D line-of-sight vector (&delta;&phi;, &delta;&theta; &delta;r) to a rectangular equatorial (&delta;x, &delta;y, &delta;z) vector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">los</td><td>[arb.u.] Line-of-sight 3-vector (&delta;&phi;, &delta;&theta; &delta;r). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">lon</td><td>[deg] Line-of-sight longitude. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">lat</td><td>[deg] Line-of-sight latitude. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">xyz</td><td>[arb.u.] Output rectangular equatorial 3-vector (&delta;x, &delta;y, &delta;z), in the same units as the input. It may be the same vector as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if either vector argument is NULL (errno will be set to EINVAL).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a14deb6fdce80ba213e1f1d5238306e17">novas_xyz_to_los()</a>, <a class="el" href="#a16c920eee105431247e9a1d9bf1c3021">novas_uvw_to_xyz()</a> </dd></dl>

</div>
</div>
<a id="a0fc8f315f8606e09571ab49efb13baca" name="a0fc8f315f8606e09571ab49efb13baca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fc8f315f8606e09571ab49efb13baca">&#9670;&#160;</a></span>novas_set_default_weather()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_set_default_weather </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structon__surface.html">on_surface</a> *</td>          <td class="paramname"><span class="paramname"><em>site</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets default weather parameters based on an approximate global model to the mean annualized temperatures, based on Feulner et al. (2013), and scaling relations with altitude (up to 12 km).</p>
<p>Humidity is set to 70% at sea level (which is a typical value globally), and adjusted to decrease with altitude linearly at a rate of 7.5% per km up to 8000 meters. Above that a quadratic model is assumed, peaking at 45% at 14 km &ndash; based on the measured distribution by Mendez-Astudillo et al. (2021). Finally above 20.8 km, zero humidity is assumed.</p>
<p>These parameters are all very approximate, but in the absence of measured data, they represent a best guess default model of sorts.</p>
<p>REFERENCES: </p><ol>
<li>
Feulner, G., Rahmstorf, S., Levermann, A., and Volkwardt, S. (2013), Journal of Climate 26, 7136 </li>
<li>
Mendez-Astudillo, J., et al. (2021), Urban Heat Island (UHI) Mitigation (pp.43-59), DOI:10.1007/978-981-33-4050-3_3  </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">site</td><td>Site containing geodetic loation as input, and poulated with typical mean weather parameters for the output. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if the site is NULL (errno is set to EINVAL).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a236750f494f3dcd943e71ba24aa2a55b">make_itrf_site()</a>, <a class="el" href="#ab5fb62a9fb185632175ae622bce28dea">make_gps_site()</a>, <a class="el" href="#a9e3cbe310a40919ff94d2d530ffa74ee">make_xyz_site()</a>, <a class="el" href="#ad8b2d2e6ca9570f09a0ca1f82957ed48">make_itrf_observer()</a>, <a class="el" href="#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer()</a>, <a class="el" href="novas_8h.html#abe97e2d459a30db9d0f67d8c60af3b81a7ed64c314f06fdf9acfa72beb531e73d">NOVAS_STANDARD_ATMOSPHERE</a> </dd></dl>

<p class="reference">References <a class="el" href="structon__surface.html#a89f6abd564014faeff7cd20c340a9c7d">on_surface::height</a>, <a class="el" href="structon__surface.html#a987616dbcfdfc936af3e5874ef5a41e7">on_surface::humidity</a>, <a class="el" href="structon__surface.html#a76714bdbc5c536fa77dfb14533ff82a9">on_surface::latitude</a>, <a class="el" href="structon__surface.html#aee1c5d07ac79c5c036195858afe33405">on_surface::pressure</a>, and <a class="el" href="structon__surface.html#ab4b11c8d9c758430960896bc3fe82ead">on_surface::temperature</a>.</p>

</div>
</div>
<a id="a16c920eee105431247e9a1d9bf1c3021" name="a16c920eee105431247e9a1d9bf1c3021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c920eee105431247e9a1d9bf1c3021">&#9670;&#160;</a></span>novas_uvw_to_xyz()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_uvw_to_xyz </td>
          <td>(</td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>uvw</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ha</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>xyz</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts equatorial u,v,w projected (absolute or relative) coordinates to rectangular telescope x,y,z coordinates (in ITRS) to for a specified line of sight.</p>
<p>u,v,w are Cartesian coordinates (u,v) along the local equatorial R.A. and declination directions as seen from a direction on the sky (w). As such, they are effectively ITRS-based line-of-sight (LOS) coordinates.</p>
<p>x,y,z are Cartesian coordinates w.r.t the Greenwich meridian in the ITRS frame. The directions are x: long=0, lat=0; y: long=90, lat=0; z: lat=90.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">xyz</td><td>[arb.u.] Absolute or relative u,v,w coordinates (double[3]). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ha</td><td>[h] Hourangle (LST - RA) i.e., the difference between the Local (apparent) Sidereal Time and the apparent (true-of-date) Right Ascension of observed source. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dec</td><td>[deg] Apparent (true-of-date) declination of source </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">uvw</td><td>[arb.u.] Converted x,y,z coordinates (double[3]) in the same unit as uvw. It may be the same vector as the input.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if either vector argument is NULL (errno will be set to EINVAL)</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a87867e8e7fc7decaa44777a696465353">novas_xyz_to_uvw()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a601d246673742cf72a5dbe1449c97560">novas_los_to_xyz()</a>.</p>

</div>
</div>
<a id="a14deb6fdce80ba213e1f1d5238306e17" name="a14deb6fdce80ba213e1f1d5238306e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14deb6fdce80ba213e1f1d5238306e17">&#9670;&#160;</a></span>novas_xyz_to_los()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_xyz_to_los </td>
          <td>(</td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>xyz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>lon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>los</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts a 3D rectangular equatorial (&delta;x, &delta;y, &delta;z) vector to a polar (&delta;&phi;, &delta;&theta; &delta;r) vector along a line-of-sight.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">xyz</td><td>[arb.u.] Rectangular equatorial 3-vector (&delta;x, &delta;y, &delta;z). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">lon</td><td>[deg] Line-of-sight longitude. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">lat</td><td>[deg] Line-of-sight latitude. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">los</td><td>[arb.u.] Output line-of-sight 3-vector (&delta;&phi;, &delta;&theta; &delta;r), in the same units as the input. It may be the same vector as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if either vector argument is NULL (errno will be set to EINVAL).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a601d246673742cf72a5dbe1449c97560">novas_los_to_xyz()</a>, <a class="el" href="#a87867e8e7fc7decaa44777a696465353">novas_xyz_to_uvw()</a> </dd></dl>

</div>
</div>
<a id="a87867e8e7fc7decaa44777a696465353" name="a87867e8e7fc7decaa44777a696465353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87867e8e7fc7decaa44777a696465353">&#9670;&#160;</a></span>novas_xyz_to_uvw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_xyz_to_uvw </td>
          <td>(</td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>xyz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ha</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>uvw</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts rectangular telescope x,y,z (absolute or relative) coordinates (in ITRS) to equatorial u,v,w projected coordinates for a specified line of sight.</p>
<p>x,y,z are Cartesian coordinates w.r.t the Greenwich meridian, in the ITRS frame. The directions are x: long=0, lat=0; y: long=90, lat=0; z: lat=90.</p>
<p>u,v,w are Cartesian coordinates (u,v) along the local equatorial R.A. and declination directions as seen from a direction on the sky (w). As such, they are effectively ITRS-based line-of-sight (LOS) coordinates.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">xyz</td><td>[arb.u.] Absolute or relative x,y,z coordinates (double[3]). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ha</td><td>[h] Hourangle (LST - RA) i.e., the difference between the Local (apparent) Sidereal Time and the apparent (true-of-date) Right Ascension of observed source. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dec</td><td>[deg] Apparent (true-of-date) declination of source </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">uvw</td><td>[arb.u.] Converted u,v,w coordinates (double[3]) in same units as xyz. It may be the same vector as the input.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if either vector argument is NULL (errno will be set to EINVAL)</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a16c920eee105431247e9a1d9bf1c3021">novas_uvw_to_xyz()</a> </dd></dl>

<p class="reference">References <a class="el" href="#a14deb6fdce80ba213e1f1d5238306e17">novas_xyz_to_los()</a>.</p>

</div>
</div>
<a id="a07490a134a685fe0842b2b4816559292" name="a07490a134a685fe0842b2b4816559292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07490a134a685fe0842b2b4816559292">&#9670;&#160;</a></span>obs_planets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obs_planets </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>jd_tdb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a></td>          <td class="paramname"><span class="paramname"><em>accuracy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *restrict</td>          <td class="paramname"><span class="paramname"><em>pos_obs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>pl_mask</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__planet__bundle.html">novas_planet_bundle</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>planets</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the positions and velocities for the Solar-system bodies, e.g. for use for gravitational deflection calculations. The planet positions are calculated relative to the observer location, while velocities are w.r.t. the SSB. Both positions and velocities are antedated for light travel time, so they accurately reflect the apparent position (and barycentric motion) of the bodies from the observer's perspective.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">jd_tdb</td><td>[day] Barycentric Dynamical Time (TDB) based Julian date </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">accuracy</td><td>NOVAS_FULL_ACCURACY (0) or NOVAS_REDUCED_ACCURACY (1). In full accuracy mode, it will calculate the deflection due to the Sun, Jupiter, Saturn and Earth. In reduced accuracy mode, only the deflection due to the Sun is calculated. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pos_obs</td><td>[AU] Position 3-vector of observer (or the geocenter), with respect to origin at solar system barycenter, referred to ICRS axes. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pl_mask</td><td>Bitwise <code>(1 &lt;&lt; planet-number)</code> mask indicating which planets to request data for. See enum <a class="el" href="novas_8h.html#a219df36b21dc4476656e708d14d08045">novas_planet</a> for the enumeration of planet numbers. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">planets</td><td>Pointer to apparent planet data to populate. The planets with non-zero mask bits will have have positions and velocities calculated. See enum <a class="el" href="novas_8h.html#a219df36b21dc4476656e708d14d08045">novas_planet</a> for the enumeration of planet numbers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, -1 if any of the pointer arguments is NULL or if the output vector is the same as pos_obs, or the error from <a class="el" href="plugin_8c.html#a713982e1f2bae0a72b39d03007f00d23">ephemeris()</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>enum <a class="el" href="novas_8h.html#a219df36b21dc4476656e708d14d08045">novas_planet</a>, <a class="el" href="grav_8c.html#ae36bc31e1dad8a68f94f7a6414f0519f">grav_planets()</a>, <a class="el" href="grav_8c.html#a1b107a24b9fadc79cc5df8c6f5505d16">grav_undo_planets()</a>, <a class="el" href="plugin_8c.html#a9904c454bc7148b42d0f927b82ea3973">set_planet_provider()</a>, <a class="el" href="plugin_8c.html#a418f45a11ce7f92ba0ef817558415640">set_planet_provider_hp()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="#a5c940b62732d74e6c6b1c844931aaa76">light_time2()</a>, <a class="el" href="target_8c.html#a4c7846be95299769f4d0377bf127bcf5">make_planet()</a>, <a class="el" href="util_8c.html#aab45a580efb78b53bcb4a09d40868e4d">novas_debug()</a>, <a class="el" href="novas_8h.html#a9d8d2a1f5c06b488e4c817bc9877e3baaa03b175422e9603e87ab87f93a45c07c">NOVAS_DEBUG_EXTRA</a>, <a class="el" href="novas_8h.html#a9d8d2a1f5c06b488e4c817bc9877e3baa0b25a908023b92a2f4f42114736de9cf">NOVAS_DEBUG_OFF</a>, <a class="el" href="util_8c.html#a29cad12337acfce5f1e370320dcefb79">novas_get_debug_mode()</a>, <a class="el" href="novas_8h.html#a1853540eae9f8699b6aaff9c0b518e08">NOVAS_PLANETS</a>, and <a class="el" href="novas_8h.html#a219df36b21dc4476656e708d14d08045a170e1c704bd29c8d46f66d4d9a03d9c2">NOVAS_SUN</a>.</p>

</div>
</div>
<a id="a0e4e5ff7c37e6521ca75ae62aaf4050e" name="a0e4e5ff7c37e6521ca75ae62aaf4050e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e4e5ff7c37e6521ca75ae62aaf4050e">&#9670;&#160;</a></span>obs_posvel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int obs_posvel </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>jd_tdb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ut1_to_tt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a></td>          <td class="paramname"><span class="paramname"><em>accuracy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobserver.html">observer</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *restrict</td>          <td class="paramname"><span class="paramname"><em>geo_pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *restrict</td>          <td class="paramname"><span class="paramname"><em>geo_vel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>vel</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the ICRS position and velocity of the observer relative to the Solar System Barycenter (SSB).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">jd_tdb</td><td>[day] Barycentric Dynamical Time (TDB) based Julian date. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ut1_to_tt</td><td>[s] TT - UT1 time difference. Used only when 'location-&gt;where' is NOVAS_OBSERVER_ON_EARTH (1) or NOVAS_OBSERVER_IN_EARTH_ORBIT (2). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">accuracy</td><td>NOVAS_FULL_ACCURACY (0) or NOVAS_REDUCED_ACCURACY (1) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">obs</td><td>The observer location, relative to which the output positions and velocities are to be calculated </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">geo_pos</td><td>[AU] ICRS position vector of the geocenter w.r.t. the Solar System Barycenter (SSB). If either geo_pos or geo_vel is NULL, it will be calculated when needed. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">geo_vel</td><td>[AU/day] ICRS velocity vector of the geocenter w.r.t. the Solar System Barycenter (SSB). If either geo_pos or geo_vel is NULL, it will be calculated when needed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pos</td><td>[AU] Position 3-vector of the observer w.r.t. the Solar System Barycenter (SSB). It may be NULL if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">vel</td><td>[AU/day] Velocity 3-vector of the observer w.r.t. the Solar System Barycenter (SSB). It must be distinct from the pos output vector, and may be NULL if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or the error from <a class="el" href="earth_8c.html#ada5ca37110e66c8b65f623c9e26ae52e">geo_posvel()</a>, or else -1 (with errno indicating the type of error).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a> </dd></dl>

<p class="reference">References <a class="el" href="plugin_8c.html#a713982e1f2bae0a72b39d03007f00d23">ephemeris()</a>, <a class="el" href="earth_8c.html#ada5ca37110e66c8b65f623c9e26ae52e">geo_posvel()</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a1665bf146ca1a4d11380bf4d7d9d7058">NOVAS_AIRBORNE_OBSERVER</a>, <a class="el" href="novas_8h.html#a208120c5fa3e12853eb37cb99d3e27beade504a1c5ccf790ce9d8ad52797bb94c">NOVAS_BARYCENTER</a>, <a class="el" href="novas_8h.html#abad802a863342aebe9a40587b4e47bab">NOVAS_EARTH_INIT</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aca418efc57ac159cf541c324c008eb27">NOVAS_OBSERVER_IN_EARTH_ORBIT</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aadb64b75d1bf5344760b942f241e52e8">NOVAS_OBSERVER_ON_EARTH</a>, <a class="el" href="novas_8h.html#a7af86c48f77394688f4ad43eb20760f4">NOVAS_OBSERVER_PLACES</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a82474207bac139bc2a8826b9d317a42c">NOVAS_SOLAR_SYSTEM_OBSERVER</a>, and <a class="el" href="timescale_8c.html#a129acca41760da486e1179c93cb9e86d">tt2tdb()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="observer_8c.html">observer.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
