<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuperNOVAS: Observing frames</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="smithsonian-logo-55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">SuperNOVAS<span id="projectnumber">&#160;v1.5</span>
   </div>
   <div id="projectbrief">The NOVAS C library, made better</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__frame.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Observing frames</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnovas__frame.html">novas_frame</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A set of parameters that uniquely define the place and time of observation.  <a href="structnovas__frame.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnovas__matrix.html">novas_matrix</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A 3x3 matrix for coordinate transformations.  <a href="structnovas__matrix.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnovas__transform.html">novas_transform</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A transformation between two astronomical coordinate systems for the same observer location and time.  <a href="structnovas__transform.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsky__pos.html">sky_pos</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Celestial object's place on the sky; contains the output from <a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c" title="Computes the apparent direction of a celestial object at a specified time and in a specified coordina...">place()</a>  <a href="structsky__pos.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab1c90a8754103ec1bfcf241c75fe9371" id="r_gab1c90a8754103ec1bfcf241c75fe9371"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab1c90a8754103ec1bfcf241c75fe9371">NOVAS_FRAME_INIT</a></td></tr>
<tr class="memdesc:gab1c90a8754103ec1bfcf241c75fe9371"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty initializer for <a class="el" href="structnovas__frame.html" title="A set of parameters that uniquely define the place and time of observation.">novas_frame</a>.  <br /></td></tr>
<tr class="separator:gab1c90a8754103ec1bfcf241c75fe9371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a255712d5e1dcc8c58e16d453501766" id="r_ga6a255712d5e1dcc8c58e16d453501766"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6a255712d5e1dcc8c58e16d453501766">NOVAS_TRANSFORM_INIT</a></td></tr>
<tr class="memdesc:ga6a255712d5e1dcc8c58e16d453501766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty initializer for NOVAS_TRANSFORM.  <br /></td></tr>
<tr class="separator:ga6a255712d5e1dcc8c58e16d453501766"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga3cba2735c32163fab062b1a904a83b56" id="r_ga3cba2735c32163fab062b1a904a83b56"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> { <a class="el" href="#gga3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660">NOVAS_FULL_ACCURACY</a> = 0
, <a class="el" href="#gga3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>
 }</td></tr>
<tr class="memdesc:ga3cba2735c32163fab062b1a904a83b56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constants to control the precision of NOVAS nutation calculations.  <a href="#ga3cba2735c32163fab062b1a904a83b56">More...</a><br /></td></tr>
<tr class="separator:ga3cba2735c32163fab062b1a904a83b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2972b3eafa2d7f6c29cff34bad9fcf0d" id="r_ga2972b3eafa2d7f6c29cff34bad9fcf0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2972b3eafa2d7f6c29cff34bad9fcf0d">novas_change_observer</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *orig, const <a class="el" href="structobserver.html">observer</a> *obs, <a class="el" href="structnovas__frame.html">novas_frame</a> *out)</td></tr>
<tr class="memdesc:ga2972b3eafa2d7f6c29cff34bad9fcf0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the observer location for an observing frame.  <br /></td></tr>
<tr class="separator:ga2972b3eafa2d7f6c29cff34bad9fcf0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2081e123024609d3071b33b183502b7" id="r_gad2081e123024609d3071b33b183502b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad2081e123024609d3071b33b183502b7">novas_invert_transform</a> (const <a class="el" href="structnovas__transform.html">novas_transform</a> *transform, <a class="el" href="structnovas__transform.html">novas_transform</a> *inverse)</td></tr>
<tr class="memdesc:gad2081e123024609d3071b33b183502b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inverts a novas coordinate transformation matrix.  <br /></td></tr>
<tr class="separator:gad2081e123024609d3071b33b183502b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc72577f99a7b076b23e0e44ddbca838" id="r_gadc72577f99a7b076b23e0e44ddbca838"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadc72577f99a7b076b23e0e44ddbca838">novas_make_frame</a> (enum <a class="el" href="#ga3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> accuracy, const <a class="el" href="structobserver.html">observer</a> *obs, const <a class="el" href="structnovas__timespec.html">novas_timespec</a> *time, double xp, double yp, <a class="el" href="structnovas__frame.html">novas_frame</a> *frame)</td></tr>
<tr class="memdesc:gadc72577f99a7b076b23e0e44ddbca838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up a observing frame for a specific observer location, time of observation, and accuracy requirement.  <br /></td></tr>
<tr class="separator:gadc72577f99a7b076b23e0e44ddbca838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d179c8573319fc25c775ce56ba055dc" id="r_ga4d179c8573319fc25c775ce56ba055dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4d179c8573319fc25c775ce56ba055dc">novas_make_transform</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *frame, enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> from_system, enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> to_system, <a class="el" href="structnovas__transform.html">novas_transform</a> *transform)</td></tr>
<tr class="memdesc:ga4d179c8573319fc25c775ce56ba055dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a transformation matrix that can be used to convert positions and velocities from one coordinate reference system to another.  <br /></td></tr>
<tr class="separator:ga4d179c8573319fc25c775ce56ba055dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gab1c90a8754103ec1bfcf241c75fe9371" name="gab1c90a8754103ec1bfcf241c75fe9371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1c90a8754103ec1bfcf241c75fe9371">&#9670;&#160;</a></span>NOVAS_FRAME_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NOVAS_FRAME_INIT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Empty initializer for <a class="el" href="structnovas__frame.html" title="A set of parameters that uniquely define the place and time of observation.">novas_frame</a>. </p>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structnovas__frame.html" title="A set of parameters that uniquely define the place and time of observation.">novas_frame</a> </dd></dl>

</div>
</div>
<a id="ga6a255712d5e1dcc8c58e16d453501766" name="ga6a255712d5e1dcc8c58e16d453501766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a255712d5e1dcc8c58e16d453501766">&#9670;&#160;</a></span>NOVAS_TRANSFORM_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NOVAS_TRANSFORM_INIT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Empty initializer for NOVAS_TRANSFORM. </p>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structnovas__transform.html" title="A transformation between two astronomical coordinate systems for the same observer location and time.">novas_transform</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga3cba2735c32163fab062b1a904a83b56" name="ga3cba2735c32163fab062b1a904a83b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3cba2735c32163fab062b1a904a83b56">&#9670;&#160;</a></span>novas_accuracy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga3cba2735c32163fab062b1a904a83b56">novas_accuracy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constants to control the precision of NOVAS nutation calculations. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gadc72577f99a7b076b23e0e44ddbca838" title="Sets up a observing frame for a specific observer location, time of observation, and accuracy require...">novas_make_frame()</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660" name="gga3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660"></a>NOVAS_FULL_ACCURACY&#160;</td><td class="fielddoc"><p>Use full precision calculations to micro-arcsecond accuracy. </p>
<p>It can be computationally intensive when using the dynamical equator. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846" name="gga3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846"></a>NOVAS_REDUCED_ACCURACY&#160;</td><td class="fielddoc"><p>Calculate with truncated terms. </p>
<p>It can be significantly faster if a few milliarcsecond accuracy is sufficient. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2972b3eafa2d7f6c29cff34bad9fcf0d" name="ga2972b3eafa2d7f6c29cff34bad9fcf0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2972b3eafa2d7f6c29cff34bad9fcf0d">&#9670;&#160;</a></span>novas_change_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_change_observer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *</td>          <td class="paramname"><span class="paramname"><em>orig</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobserver.html">observer</a> *</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__frame.html">novas_frame</a> *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the observer location for an observing frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">orig</td><td>Pointer to original observing frame </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">obs</td><td>New observer location </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Observing frame to populate with a original frame data and new observer location. It can be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successfule or else an an error code from <a class="el" href="group__geometric.html#gada5ca37110e66c8b65f623c9e26ae52e" title="Computes the geocentric GCRS position and velocity of an observer.">geo_posvel()</a> (errno will also indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gadc72577f99a7b076b23e0e44ddbca838" title="Sets up a observing frame for a specific observer location, time of observation, and accuracy require...">novas_make_frame()</a> </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#ad9a827bf90bce73ad42f04ed2dd13a9c">novas_frame::accuracy</a>, <a class="el" href="group__apparent.html#ga18647d39520d1a15a137661f698cb12a">grav_bodies_full_accuracy</a>, <a class="el" href="group__apparent.html#ga03a4df8961a0cd05f89aca478d2dcd24">grav_bodies_reduced_accuracy</a>, <a class="el" href="#gga3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660">NOVAS_FULL_ACCURACY</a>, <a class="el" href="group__time.html#gae30e3dd8e30bdcf4e8486cfce696fb98">novas_get_time()</a>, <a class="el" href="group__time.html#ggaa642c4ccc7195dc62fd0dc56567ebd0baf5d992bdf01b4f3fd7b22e3e24c6974d">NOVAS_TDB</a>, <a class="el" href="group__solar-system.html#ga07490a134a685fe0842b2b4816559292">obs_planets()</a>, <a class="el" href="structnovas__frame.html#ac2558d2b29171b29bad2599c75d3cc6c">novas_frame::obs_pos</a>, <a class="el" href="structnovas__frame.html#a70a5703b12da2ee4c801250fdd5708d7">novas_frame::observer</a>, <a class="el" href="structnovas__frame.html#a669cb67d7c5765600cb355d37e14f172">novas_frame::planets</a>, <a class="el" href="structnovas__frame.html#ac8ddcc571efb6061ddf9dfbcfffb4cd1">novas_frame::state</a>, and <a class="el" href="structnovas__frame.html#a5a61c03607da83f2b44b05e68cc50e5b">novas_frame::time</a>.</p>

</div>
</div>
<a id="gad2081e123024609d3071b33b183502b7" name="gad2081e123024609d3071b33b183502b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2081e123024609d3071b33b183502b7">&#9670;&#160;</a></span>novas_invert_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_invert_transform </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__transform.html">novas_transform</a> *</td>          <td class="paramname"><span class="paramname"><em>transform</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__transform.html">novas_transform</a> *</td>          <td class="paramname"><span class="paramname"><em>inverse</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inverts a novas coordinate transformation matrix. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">transform</td><td>Pointer to a coordinate transformation matrix. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">inverse</td><td>Pointer to a coordinate transformation matrix to populate with the inverse transform. It may be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if the was an error (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga4d179c8573319fc25c775ce56ba055dc" title="Calculates a transformation matrix that can be used to convert positions and velocities from one coor...">novas_make_transform()</a> </dd></dl>

<p class="reference">References <a class="el" href="structnovas__transform.html#ac528fe7349274fecff6a0c7742414308">novas_transform::matrix</a>.</p>

</div>
</div>
<a id="gadc72577f99a7b076b23e0e44ddbca838" name="gadc72577f99a7b076b23e0e44ddbca838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc72577f99a7b076b23e0e44ddbca838">&#9670;&#160;</a></span>novas_make_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_make_frame </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="#ga3cba2735c32163fab062b1a904a83b56">novas_accuracy</a></td>          <td class="paramname"><span class="paramname"><em>accuracy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobserver.html">observer</a> *</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__timespec.html">novas_timespec</a> *</td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>xp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>yp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__frame.html">novas_frame</a> *</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up a observing frame for a specific observer location, time of observation, and accuracy requirement. </p>
<p>The frame is initialized using the currently configured planet ephemeris provider function (see <a class="el" href="group__solar-system.html#ga9904c454bc7148b42d0f927b82ea3973" title="Set a custom function to use for regular precision (see NOVAS_REDUCED_ACCURACY) ephemeris calculation...">set_planet_provider()</a> and <a class="el" href="group__solar-system.html#ga418f45a11ce7f92ba0ef817558415640" title="Set a custom function to use for high precision (see NOVAS_FULL_ACCURACY) ephemeris calculations inst...">set_planet_provider_hp()</a>), and in case of reduced accuracy mode, the currently configured IAU nutation model provider (see <a class="el" href="group__earth.html#ga694288eb631d6a69ecf313b7b5b4a677" title="Set the function to use for low-precision IAU 2000 nutation calculations instead of the default nu200...">set_nutation_lp_provider()</a>).</p>
<p>Note, that to construct full accuracy frames, you will need a high-precision ephemeris provider for the major planets (not just the default Earth/Sun), as without it, gravitational bending around massive plannets cannot be accounted for, and therefore &mu;as accuracy cannot be ensured, in general. Attempting to construct a high-accuracy frame without a high-precision ephemeris provider for the major planets will result in an error in the 10&ndash;40 range from the required <a class="el" href="group__geometric.html#ga713982e1f2bae0a72b39d03007f00d23" title="Retrieves the position and velocity of a solar system body using the currently configured plugins tha...">ephemeris()</a> call.</p>
<p>NOTES: </p><ol>
<li>
This function expects the Earth polar wobble parameters to be defined on a per-frame basis and will not use the legacy global (undated) orientation parameters set via <a class="el" href="equator_8c.html#a8937180de2ee1545d19b8fc840f35fe2">cel_pole()</a>. </li>
<li>
The Earth orientation parameters xp, yp should be provided in the same ITRF realization as the observer location for an Earth-based observer. You can use <code><a class="el" href="group__earth.html#ga3c8c9b8f709d1e5a7aa3a915f8fafcbb" title="Transforms Earth orientation parameters (xp, yp, dUT1) from one ITRF realization to another.">novas_itrf_transform_eop()</a></code> to convert the EOP values as necessary. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">accuracy</td><td>Accuracy requirement, NOVAS_FULL_ACCURACY (0) for the utmost precision or NOVAS_REDUCED_ACCURACY (1) if ~1 mas accuracy is sufficient. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">obs</td><td>Observer location </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">time</td><td>Time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">xp</td><td>[mas] Earth orientation parameter, polar offset in <em>x</em>, e.g. from the IERS Bulletins, and possibly corrected for diurnal and semi-diurnal variations, e.g. via <code><a class="el" href="group__earth.html#ga9fc52f6fd358463d0c1ca7aa651e65f6" title="Calculate corrections to the Earth orientation parameters (EOP) due to short term (diurnal and semidi...">novas_diurnal_eop()</a></code>. (The global, undated value set by <a class="el" href="equator_8c.html#a8937180de2ee1545d19b8fc840f35fe2">cel_pole()</a> is not not used here.) You can use 0.0 if sub-arcsecond accuracy is not required. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">yp</td><td>[mas] Earth orientation parameter, polar offset in <em>y</em>, e.g. from the IERS Bulletins, and possibly corrected for diurnal and semi-diurnal variations, e.g. via <code><a class="el" href="group__earth.html#ga9fc52f6fd358463d0c1ca7aa651e65f6" title="Calculate corrections to the Earth orientation parameters (EOP) due to short term (diurnal and semidi...">novas_diurnal_eop()</a></code>. (The global, undated value set by <a class="el" href="equator_8c.html#a8937180de2ee1545d19b8fc840f35fe2">cel_pole()</a> is not not used here.) You can use 0.0 if sub-arcsecond accuracy is not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">frame</td><td>Pointer to the observing frame to configure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, 10&ndash;40: error is 10 + the error from <a class="el" href="group__geometric.html#ga713982e1f2bae0a72b39d03007f00d23" title="Retrieves the position and velocity of a solar system body using the currently configured plugins tha...">ephemeris()</a>, 40&ndash;50: error is 40 + the error from <a class="el" href="group__geometric.html#gada5ca37110e66c8b65f623c9e26ae52e" title="Computes the geocentric GCRS position and velocity of an observer.">geo_posvel()</a>, or else -1 if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga2972b3eafa2d7f6c29cff34bad9fcf0d" title="Change the observer location for an observing frame.">novas_change_observer()</a>, <a class="el" href="group__apparent.html#gac365a1e015ae1f875dc5a66fd5435b2f" title="Calculates an apparent location on sky for the source.">novas_sky_pos()</a>, <a class="el" href="group__geometric.html#gac6652ee3257621080dac342313d0a0a7" title="Calculates the geometric position and velocity vectors, relative to the observer, for a source in the...">novas_geom_posvel()</a>, <a class="el" href="#ga4d179c8573319fc25c775ce56ba055dc" title="Calculates a transformation matrix that can be used to convert positions and velocities from one coor...">novas_make_transform()</a> </dd>
<dd>
<a class="el" href="group__solar-system.html#ga9904c454bc7148b42d0f927b82ea3973" title="Set a custom function to use for regular precision (see NOVAS_REDUCED_ACCURACY) ephemeris calculation...">set_planet_provider()</a>, <a class="el" href="group__solar-system.html#ga418f45a11ce7f92ba0ef817558415640" title="Set a custom function to use for high precision (see NOVAS_FULL_ACCURACY) ephemeris calculations inst...">set_planet_provider_hp()</a>, <a class="el" href="group__earth.html#ga694288eb631d6a69ecf313b7b5b4a677" title="Set the function to use for low-precision IAU 2000 nutation calculations instead of the default nu200...">set_nutation_lp_provider()</a>, <a class="el" href="group__earth.html#ga9fc52f6fd358463d0c1ca7aa651e65f6" title="Calculate corrections to the Earth orientation parameters (EOP) due to short term (diurnal and semidi...">novas_diurnal_eop()</a>, <a class="el" href="group__earth.html#ga3c8c9b8f709d1e5a7aa3a915f8fafcbb" title="Transforms Earth orientation parameters (xp, yp, dUT1) from one ITRF realization to another.">novas_itrf_transform_eop()</a> </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#ad9a827bf90bce73ad42f04ed2dd13a9c">novas_frame::accuracy</a>, <a class="el" href="structnovas__frame.html#afb1bb47af5a00647759b897f72a68b58">novas_frame::deps0</a>, <a class="el" href="structnovas__frame.html#a4445e3f8a201b14a5a7068c87507de72">novas_frame::dpsi0</a>, <a class="el" href="structnovas__frame.html#a229d11aff11a7482259d1296b9b70b8a">novas_frame::dx</a>, <a class="el" href="structnovas__frame.html#a9deb6f886b19d50e714d890c3c268efc">novas_frame::dy</a>, <a class="el" href="structnovas__frame.html#aa3a3023bf2e8babb456b88391441c3dc">novas_frame::earth_pos</a>, <a class="el" href="structnovas__frame.html#a099283b966b6937d7e59e10c6ff69760">novas_frame::earth_vel</a>, <a class="el" href="structnovas__frame.html#a622800443dfc347bd82d3752ec60c771">novas_frame::ee</a>, <a class="el" href="group__geometric.html#ga713982e1f2bae0a72b39d03007f00d23">ephemeris()</a>, <a class="el" href="group__earth.html#gaef1f8daaad470353648de90576aefc66">era()</a>, <a class="el" href="structnovas__frame.html#aa7f218ad801848e38dc25323b8f0197b">novas_frame::era</a>, <a class="el" href="structnovas__timespec.html#a696e598955615f729a92870c8213a10c">novas_timespec::fjd_tt</a>, <a class="el" href="structnovas__frame.html#aef07d7946615098b170225edc81bd4a7">novas_frame::gst</a>, <a class="el" href="structnovas__timespec.html#ab1b769234049ec8d7cdbb22800116184">novas_timespec::ijd_tt</a>, <a class="el" href="group__earth.html#gaf182ee8cc4239f581f746aa974827d61">mean_obliq()</a>, <a class="el" href="structnovas__frame.html#adcbb032bae5aa01bff2501f40527943e">novas_frame::mobl</a>, <a class="el" href="group__solar-system.html#gga208120c5fa3e12853eb37cb99d3e27beade504a1c5ccf790ce9d8ad52797bb94c">NOVAS_BARYCENTER</a>, <a class="el" href="#ga2972b3eafa2d7f6c29cff34bad9fcf0d">novas_change_observer()</a>, <a class="el" href="group__source.html#gabad802a863342aebe9a40587b4e47bab">NOVAS_EARTH_INIT</a>, <a class="el" href="group__time.html#ga32d8336084b65fac14d092ab6198c27d">novas_get_split_time()</a>, <a class="el" href="group__time.html#ga31bf4a08940bfa3e97ae6a1abee80422">NOVAS_JD_J2000</a>, <a class="el" href="novas_8h.html#a7af86c48f77394688f4ad43eb20760f4">NOVAS_OBSERVER_PLACES</a>, <a class="el" href="#gga3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>, <a class="el" href="group__source.html#ga6afeda74c9df859ae6504eebfee01092">NOVAS_SUN_INIT</a>, <a class="el" href="group__time.html#ggaa642c4ccc7195dc62fd0dc56567ebd0baa6fc4520426c4c9cbe497ab87f2ad583">NOVAS_UT1</a>, <a class="el" href="group__earth.html#ga6e9ced7b0aec544ad7b057b58f777ec4">nutation_angles()</a>, <a class="el" href="structnovas__frame.html#ac8ddcc571efb6061ddf9dfbcfffb4cd1">novas_frame::state</a>, <a class="el" href="structnovas__frame.html#a3d3fc00c5477b8f7a9b6593a748949d0">novas_frame::sun_pos</a>, <a class="el" href="structnovas__frame.html#ae949db92ce7c56e4b5ada1b8f80002d3">novas_frame::sun_vel</a>, <a class="el" href="structnovas__frame.html#a5a61c03607da83f2b44b05e68cc50e5b">novas_frame::time</a>, <a class="el" href="structnovas__frame.html#ad68cbc6741fea66373829a8f50307c8e">novas_frame::tobl</a>, <a class="el" href="group__time.html#ga129acca41760da486e1179c93cb9e86d">tt2tdb()</a>, and <a class="el" href="structobserver.html#a11f2eb69df64b674d938b34bbb842ab1">observer::where</a>.</p>

</div>
</div>
<a id="ga4d179c8573319fc25c775ce56ba055dc" name="ga4d179c8573319fc25c775ce56ba055dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d179c8573319fc25c775ce56ba055dc">&#9670;&#160;</a></span>novas_make_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_make_transform </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a></td>          <td class="paramname"><span class="paramname"><em>from_system</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a></td>          <td class="paramname"><span class="paramname"><em>to_system</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__transform.html">novas_transform</a> *</td>          <td class="paramname"><span class="paramname"><em>transform</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a transformation matrix that can be used to convert positions and velocities from one coordinate reference system to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>Observer frame, defining the location and time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">from_system</td><td>Original coordinate reference system </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">to_system</td><td>New coordinate reference system </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">transform</td><td>Pointer to the transform data structure to populate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__geometric.html#gaa77895c891e9eeb4b1541f03acfd154e" title="Transforms a position or velocity 3-vector from one coordinate reference system to another.">novas_transform_vector()</a>, <a class="el" href="group__apparent.html#gacfcfb90637cd1fdb25ef9afd1bda8e30" title="Transforms a position or velocity 3-vector from one coordinate reference system to another.">novas_transform_sky_pos()</a>, <a class="el" href="#gad2081e123024609d3071b33b183502b7" title="Inverts a novas coordinate transformation matrix.">novas_invert_transform()</a> </dd>
<dd>
<a class="el" href="group__geometric.html#gac6652ee3257621080dac342313d0a0a7" title="Calculates the geometric position and velocity vectors, relative to the observer, for a source in the...">novas_geom_posvel()</a>, <a class="el" href="group__apparent.html#gab7db8026c598e8e126a4725ac3b388bf" title="Converts an observed apparent sky position of a source to an ICRS geometric position,...">novas_app_to_geom()</a> </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#aa7f218ad801848e38dc25323b8f0197b">novas_frame::era</a>, <a class="el" href="structnovas__transform.html#a89ed0a18f08c2125a0de2c5825c2bb0c">novas_transform::frame</a>, <a class="el" href="structnovas__transform.html#a5fe73fdfdc0f8933168a1c50df2db4ed">novas_transform::from_system</a>, <a class="el" href="structnovas__frame.html#a568001e7fc428917d58d1ac16fecb1af">novas_frame::gcrs_to_cirs</a>, <a class="el" href="structnovas__frame.html#ad28815abec2847e4ab01a17dab76f0c5">novas_frame::icrs_to_j2000</a>, <a class="el" href="structnovas__matrix.html#ac842f2eec8c8b880e2aca8792d63359b">novas_matrix::M</a>, <a class="el" href="structnovas__transform.html#ac528fe7349274fecff6a0c7742414308">novas_transform::matrix</a>, <a class="el" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651eacbee2de517939c156e61fb5f9631e044">NOVAS_CIRS</a>, <a class="el" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651ea8c3e21e3d68b39b0b0ca28f99b8cacf4">NOVAS_GCRS</a>, <a class="el" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, <a class="el" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651ea826bda7744c11bc1560f4db1848a17c6">NOVAS_ITRS</a>, <a class="el" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651ead110200de7f232d9110467c0862733d9">NOVAS_J2000</a>, <a class="el" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651ea5a2a55ff66f97310a9641d7ffa60b8dd">NOVAS_MOD</a>, <a class="el" href="novas_8h.html#ae55994629ca97e634b1bb97aafb3f49b">NOVAS_REFERENCE_SYSTEMS</a>, <a class="el" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651ea524041fc2059f8432b76fad1b8edb89f">NOVAS_TIRS</a>, <a class="el" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="el" href="structnovas__frame.html#af75d534436e4c2442aae1fbb3572a372">novas_frame::nutation</a>, <a class="el" href="structnovas__frame.html#ab0ba4960aa038a40165a7131684c6853">novas_frame::precession</a>, and <a class="el" href="structnovas__transform.html#a8dac6a5c4bdc0e667bdc9eb7c7bb7094">novas_transform::to_system</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
