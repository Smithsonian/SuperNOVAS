<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuperNOVAS: /github/workspace/src/frames.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="smithsonian-logo-55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">SuperNOVAS<span id="projectnumber">&#160;v1.5</span>
   </div>
   <div id="projectbrief">The NOVAS C library, made better</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('frames_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">frames.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>High-level and efficient astrometric calculations using observing frames.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab7db8026c598e8e126a4725ac3b388bf" id="r_gab7db8026c598e8e126a4725ac3b388bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apparent.html#gab7db8026c598e8e126a4725ac3b388bf">novas_app_to_geom</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double ra, double dec, double dist, double *restrict geom_icrs)</td></tr>
<tr class="memdesc:gab7db8026c598e8e126a4725ac3b388bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an observed apparent sky position of a source to an ICRS geometric position, by undoing the gravitational deflection and aberration corrections.  <br /></td></tr>
<tr class="separator:gab7db8026c598e8e126a4725ac3b388bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cd947f2e48d6c5cc88ad7a1bab9b8ca" id="r_ga3cd947f2e48d6c5cc88ad7a1bab9b8ca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apparent.html#ga3cd947f2e48d6c5cc88ad7a1bab9b8ca">novas_app_to_hor</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double ra, double dec, <a class="el" href="group__refract.html#gad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model, double *restrict az, double *restrict el)</td></tr>
<tr class="memdesc:ga3cd947f2e48d6c5cc88ad7a1bab9b8ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an observed apparent position vector in the specified coordinate system to local horizontal coordinates in the specified observer frame.  <br /></td></tr>
<tr class="separator:ga3cd947f2e48d6c5cc88ad7a1bab9b8ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2972b3eafa2d7f6c29cff34bad9fcf0d" id="r_ga2972b3eafa2d7f6c29cff34bad9fcf0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frame.html#ga2972b3eafa2d7f6c29cff34bad9fcf0d">novas_change_observer</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *orig, const <a class="el" href="structobserver.html">observer</a> *obs, <a class="el" href="structnovas__frame.html">novas_frame</a> *out)</td></tr>
<tr class="memdesc:ga2972b3eafa2d7f6c29cff34bad9fcf0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the observer location for an observing frame.  <br /></td></tr>
<tr class="separator:ga2972b3eafa2d7f6c29cff34bad9fcf0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57f4a449754c88cfc87df658a6bc4cb2" id="r_ga57f4a449754c88cfc87df658a6bc4cb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apparent.html#ga57f4a449754c88cfc87df658a6bc4cb2">novas_equ_track</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, double dt, <a class="el" href="structnovas__track.html">novas_track</a> *restrict track)</td></tr>
<tr class="memdesc:ga57f4a449754c88cfc87df658a6bc4cb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates equatorial tracking position and motion (first and second time derivatives) for the specified source in the given observing frame.  <br /></td></tr>
<tr class="separator:ga57f4a449754c88cfc87df658a6bc4cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga273fd76d83b8e04ced14558c69fd175c" id="r_ga273fd76d83b8e04ced14558c69fd175c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time.html#ga273fd76d83b8e04ced14558c69fd175c">novas_frame_lst</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="memdesc:ga273fd76d83b8e04ced14558c69fd175c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the Local (apparent) Sidereal Time for an observing frame of an Earth-bound observer.  <br /></td></tr>
<tr class="separator:ga273fd76d83b8e04ced14558c69fd175c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6652ee3257621080dac342313d0a0a7" id="r_gac6652ee3257621080dac342313d0a0a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__geometric.html#gac6652ee3257621080dac342313d0a0a7">novas_geom_posvel</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double *restrict pos, double *restrict vel)</td></tr>
<tr class="memdesc:gac6652ee3257621080dac342313d0a0a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the geometric position and velocity vectors, relative to the observer, for a source in the given observing frame, in the specified coordinate system of choice.  <br /></td></tr>
<tr class="separator:gac6652ee3257621080dac342313d0a0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4817703c9357f702a27812584c91f87c" id="r_ga4817703c9357f702a27812584c91f87c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__geometric.html#ga4817703c9357f702a27812584c91f87c">novas_geom_to_app</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, const double *restrict pos, enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, <a class="el" href="structsky__pos.html">sky_pos</a> *restrict out)</td></tr>
<tr class="memdesc:ga4817703c9357f702a27812584c91f87c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an geometric position in ICRS to an apparent position on sky, by applying appropriate corrections for aberration and gravitational deflection for the observer's frame.  <br /></td></tr>
<tr class="separator:ga4817703c9357f702a27812584c91f87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa57cbcae2001fece2ee4a2babfbc5f89" id="r_gaa57cbcae2001fece2ee4a2babfbc5f89"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__nonequatorial.html#gaa57cbcae2001fece2ee4a2babfbc5f89">novas_hor_to_app</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, double az, double el, <a class="el" href="group__refract.html#gad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model, enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double *restrict ra, double *restrict dec)</td></tr>
<tr class="memdesc:gaa57cbcae2001fece2ee4a2babfbc5f89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an observed azimuth and elevation coordinate to right ascension (R.A.) and declination coordinates expressed in the coordinate system of choice.  <br /></td></tr>
<tr class="separator:gaa57cbcae2001fece2ee4a2babfbc5f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f29810393108d15fd8312a2a95158dc" id="r_ga1f29810393108d15fd8312a2a95158dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apparent.html#ga1f29810393108d15fd8312a2a95158dc">novas_hor_track</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, <a class="el" href="group__refract.html#gad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model, <a class="el" href="structnovas__track.html">novas_track</a> *restrict track)</td></tr>
<tr class="memdesc:ga1f29810393108d15fd8312a2a95158dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates horizontal tracking position and motion (first and second time derivatives) for the specified source in the given observing frame.  <br /></td></tr>
<tr class="separator:ga1f29810393108d15fd8312a2a95158dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2081e123024609d3071b33b183502b7" id="r_gad2081e123024609d3071b33b183502b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frame.html#gad2081e123024609d3071b33b183502b7">novas_invert_transform</a> (const <a class="el" href="structnovas__transform.html">novas_transform</a> *transform, <a class="el" href="structnovas__transform.html">novas_transform</a> *inverse)</td></tr>
<tr class="memdesc:gad2081e123024609d3071b33b183502b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inverts a novas coordinate transformation matrix.  <br /></td></tr>
<tr class="separator:gad2081e123024609d3071b33b183502b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc72577f99a7b076b23e0e44ddbca838" id="r_gadc72577f99a7b076b23e0e44ddbca838"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frame.html#gadc72577f99a7b076b23e0e44ddbca838">novas_make_frame</a> (enum <a class="el" href="group__frame.html#ga3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> accuracy, const <a class="el" href="structobserver.html">observer</a> *obs, const <a class="el" href="structnovas__timespec.html">novas_timespec</a> *time, double xp, double yp, <a class="el" href="structnovas__frame.html">novas_frame</a> *frame)</td></tr>
<tr class="memdesc:gadc72577f99a7b076b23e0e44ddbca838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up a observing frame for a specific observer location, time of observation, and accuracy requirement.  <br /></td></tr>
<tr class="separator:gadc72577f99a7b076b23e0e44ddbca838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d179c8573319fc25c775ce56ba055dc" id="r_ga4d179c8573319fc25c775ce56ba055dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frame.html#ga4d179c8573319fc25c775ce56ba055dc">novas_make_transform</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *frame, enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> from_system, enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> to_system, <a class="el" href="structnovas__transform.html">novas_transform</a> *transform)</td></tr>
<tr class="memdesc:ga4d179c8573319fc25c775ce56ba055dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a transformation matrix that can be used to convert positions and velocities from one coordinate reference system to another.  <br /></td></tr>
<tr class="separator:ga4d179c8573319fc25c775ce56ba055dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga121940d7f0ef41297d28fab8e6df5998" id="r_ga121940d7f0ef41297d28fab8e6df5998"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apparent.html#ga121940d7f0ef41297d28fab8e6df5998">novas_moon_angle</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="memdesc:ga121940d7f0ef41297d28fab8e6df5998"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the apparent angular distance of a source from the Moon from the observer's point of view.  <br /></td></tr>
<tr class="separator:ga121940d7f0ef41297d28fab8e6df5998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa5f3a823a895bed01876df6b2a00370" id="r_gafa5f3a823a895bed01876df6b2a00370"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apparent.html#gafa5f3a823a895bed01876df6b2a00370">novas_object_sep</a> (const <a class="el" href="structobject.html">object</a> *source1, const <a class="el" href="structobject.html">object</a> *source2, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="memdesc:gafa5f3a823a895bed01876df6b2a00370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the angular separation of two objects from the observer's point of view.  <br /></td></tr>
<tr class="separator:gafa5f3a823a895bed01876df6b2a00370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf38f64304fa0b00c9c56cead62043f3" id="r_gaaf38f64304fa0b00c9c56cead62043f3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time.html#gaaf38f64304fa0b00c9c56cead62043f3">novas_rises_above</a> (double el, const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, <a class="el" href="group__refract.html#gad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model)</td></tr>
<tr class="memdesc:gaaf38f64304fa0b00c9c56cead62043f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the UTC date at which a distant source appears to rise above the specified elevation angle.  <br /></td></tr>
<tr class="separator:gaaf38f64304fa0b00c9c56cead62043f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23af09cd8e5ec5ef4d0b03a347a4add0" id="r_ga23af09cd8e5ec5ef4d0b03a347a4add0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time.html#ga23af09cd8e5ec5ef4d0b03a347a4add0">novas_sets_below</a> (double el, const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, <a class="el" href="group__refract.html#gad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model)</td></tr>
<tr class="memdesc:ga23af09cd8e5ec5ef4d0b03a347a4add0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the UTC date at which a distant source appears to set below the specified elevation angle.  <br /></td></tr>
<tr class="separator:ga23af09cd8e5ec5ef4d0b03a347a4add0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac365a1e015ae1f875dc5a66fd5435b2f" id="r_gac365a1e015ae1f875dc5a66fd5435b2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apparent.html#gac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos</a> (const <a class="el" href="structobject.html">object</a> *restrict <a class="el" href="structobject.html">object</a>, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, enum <a class="el" href="group__equatorial.html#ga7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, <a class="el" href="structsky__pos.html">sky_pos</a> *restrict out)</td></tr>
<tr class="memdesc:gac365a1e015ae1f875dc5a66fd5435b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates an apparent location on sky for the source.  <br /></td></tr>
<tr class="separator:gac365a1e015ae1f875dc5a66fd5435b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac780bd907a12957995d36ad916dd4ec1" id="r_gac780bd907a12957995d36ad916dd4ec1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apparent.html#gac780bd907a12957995d36ad916dd4ec1">novas_solar_illum</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="memdesc:gac780bd907a12957995d36ad916dd4ec1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the Solar illumination fraction of a source, assuming a spherical geometry for the observed body.  <br /></td></tr>
<tr class="separator:gac780bd907a12957995d36ad916dd4ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d1ef3bc6d99aa473511e45c6e0481e9" id="r_ga2d1ef3bc6d99aa473511e45c6e0481e9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apparent.html#ga2d1ef3bc6d99aa473511e45c6e0481e9">novas_sun_angle</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="memdesc:ga2d1ef3bc6d99aa473511e45c6e0481e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the apparent angular distance of a source from the Sun from the observer's point of view.  <br /></td></tr>
<tr class="separator:ga2d1ef3bc6d99aa473511e45c6e0481e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga225a2e33684d2c1fe769e5aa718a182a" id="r_ga225a2e33684d2c1fe769e5aa718a182a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apparent.html#ga225a2e33684d2c1fe769e5aa718a182a">novas_track_pos</a> (const <a class="el" href="structnovas__track.html">novas_track</a> *track, const <a class="el" href="structnovas__timespec.html">novas_timespec</a> *time, double *restrict lon, double *restrict lat, double *restrict dist, double *restrict z)</td></tr>
<tr class="memdesc:ga225a2e33684d2c1fe769e5aa718a182a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a projected position, distance, and redshift for a source, given its near-term trajectory on sky, in the system for which the track was calculated.  <br /></td></tr>
<tr class="separator:ga225a2e33684d2c1fe769e5aa718a182a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacfcfb90637cd1fdb25ef9afd1bda8e30" id="r_gacfcfb90637cd1fdb25ef9afd1bda8e30"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apparent.html#gacfcfb90637cd1fdb25ef9afd1bda8e30">novas_transform_sky_pos</a> (const <a class="el" href="structsky__pos.html">sky_pos</a> *in, const <a class="el" href="structnovas__transform.html">novas_transform</a> *restrict transform, <a class="el" href="structsky__pos.html">sky_pos</a> *out)</td></tr>
<tr class="memdesc:gacfcfb90637cd1fdb25ef9afd1bda8e30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transforms a position or velocity 3-vector from one coordinate reference system to another.  <br /></td></tr>
<tr class="separator:gacfcfb90637cd1fdb25ef9afd1bda8e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa77895c891e9eeb4b1541f03acfd154e" id="r_gaa77895c891e9eeb4b1541f03acfd154e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__geometric.html#gaa77895c891e9eeb4b1541f03acfd154e">novas_transform_vector</a> (const double *in, const <a class="el" href="structnovas__transform.html">novas_transform</a> *restrict transform, double *out)</td></tr>
<tr class="memdesc:gaa77895c891e9eeb4b1541f03acfd154e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transforms a position or velocity 3-vector from one coordinate reference system to another.  <br /></td></tr>
<tr class="separator:gaa77895c891e9eeb4b1541f03acfd154e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad04f1ebd7b2d39e5258b152fec231001" id="r_gad04f1ebd7b2d39e5258b152fec231001"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time.html#gad04f1ebd7b2d39e5258b152fec231001">novas_transit_time</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="memdesc:gad04f1ebd7b2d39e5258b152fec231001"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the UTC date at which a source transits the local meridian.  <br /></td></tr>
<tr class="separator:gad04f1ebd7b2d39e5258b152fec231001"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>High-level and efficient astrometric calculations using observing frames. </p>
<p>An observing frame represents an observer location at a specific astronomical time (instant), which can be re-used again and again to calculate or transform positions of celestial sources in a a range of astronomical coordinate systems.</p>
<p>To use frames, you start with <code><a class="el" href="group__frame.html#gadc72577f99a7b076b23e0e44ddbca838" title="Sets up a observing frame for a specific observer location, time of observation, and accuracy require...">novas_make_frame()</a></code> with an astrometric time and an observer location, and optionally Earth-orientation parameters if precision below the arcsecond level is needed. E.g.:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structobserver.html">observer</a> obs;         <span class="comment">// observer location</span></div>
<div class="line"><a class="code hl_struct" href="structnovas__timespec.html">novas_timespec</a> time;  <span class="comment">// astrometric time</span></div>
<div class="line"><a class="code hl_struct" href="structnovas__frame.html">novas_frame</a> frame;    <span class="comment">// observing frame</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Specify an observer, with GPS coordinates</span></div>
<div class="line"><a class="code hl_function" href="group__observer.html#gaa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer</a>(gps_lat, gps_lon, gps_alt, &amp;obs);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Specify time, e.g. current time with leap seconds and UT1-UTC time difference:</span></div>
<div class="line"><a class="code hl_function" href="group__time.html#ga090f608cd5c82622e3534297fc27daa5">novas_set_current_time</a>(leap_seconds, dut1, &amp;time);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set up a frame with the desired accuracy and Earth orientation parameters xp, yp.</span></div>
<div class="line"><a class="code hl_function" href="group__frame.html#gadc72577f99a7b076b23e0e44ddbca838">novas_make_frame</a>(<a class="code hl_enumvalue" href="group__frame.html#gga3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>, &amp;obs, &amp;time, xp, yp, &amp;frame);</div>
<div class="ttc" id="agroup__frame_html_gadc72577f99a7b076b23e0e44ddbca838"><div class="ttname"><a href="group__frame.html#gadc72577f99a7b076b23e0e44ddbca838">novas_make_frame</a></div><div class="ttdeci">int novas_make_frame(enum novas_accuracy accuracy, const observer *obs, const novas_timespec *time, double xp, double yp, novas_frame *frame)</div><div class="ttdoc">Sets up a observing frame for a specific observer location, time of observation, and accuracy require...</div><div class="ttdef"><b>Definition</b> frames.c:519</div></div>
<div class="ttc" id="agroup__frame_html_gga3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846"><div class="ttname"><a href="group__frame.html#gga3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a></div><div class="ttdeci">@ NOVAS_REDUCED_ACCURACY</div><div class="ttdoc">Calculate with truncated terms.</div><div class="ttdef"><b>Definition</b> novas.h:859</div></div>
<div class="ttc" id="agroup__observer_html_gaa2f9fc986f99c1ec7092330dbf233fef"><div class="ttname"><a href="group__observer.html#gaa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer</a></div><div class="ttdeci">int make_gps_observer(double latitude, double longitude, double height, observer *obs)</div><div class="ttdoc">Initializes an observer data structure for a ground-based observer with the specified GPS / WGS84 loc...</div><div class="ttdef"><b>Definition</b> observer.c:282</div></div>
<div class="ttc" id="agroup__time_html_ga090f608cd5c82622e3534297fc27daa5"><div class="ttname"><a href="group__time.html#ga090f608cd5c82622e3534297fc27daa5">novas_set_current_time</a></div><div class="ttdeci">int novas_set_current_time(int leap, double dut1, novas_timespec *restrict time)</div><div class="ttdoc">Sets the time eith the UNIX time obtained from the system clock.</div><div class="ttdef"><b>Definition</b> timescale.c:914</div></div>
<div class="ttc" id="astructnovas__frame_html"><div class="ttname"><a href="structnovas__frame.html">novas_frame</a></div><div class="ttdoc">A set of parameters that uniquely define the place and time of observation.</div><div class="ttdef"><b>Definition</b> novas.h:1762</div></div>
<div class="ttc" id="astructnovas__timespec_html"><div class="ttname"><a href="structnovas__timespec.html">novas_timespec</a></div><div class="ttdoc">A structure, which defines a precise instant of time that can be extpressed in any of the astronomica...</div><div class="ttdef"><b>Definition</b> novas.h:1666</div></div>
<div class="ttc" id="astructobserver_html"><div class="ttname"><a href="structobserver.html">observer</a></div><div class="ttdoc">Observer location.</div><div class="ttdef"><b>Definition</b> novas.h:1554</div></div>
</div><!-- fragment --><p>Once a frame is defined, you can perform various astrometric calculation within it efficiently. For example, calculate apparent positions, in the coordinate system of choice, to predict where objects would be seen by the observer:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> source = ...;   <span class="comment">// observed source</span></div>
<div class="line"><a class="code hl_struct" href="structsky__pos.html">sky_pos</a> app;           <span class="comment">// apparent position to calculate.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Calculate True-of-Date apparent coordinates for a source.</span></div>
<div class="line"><a class="code hl_function" href="group__apparent.html#gac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos</a>(&amp;source, &amp;frame, <a class="code hl_enumvalue" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, &amp;app);</div>
<div class="ttc" id="agroup__apparent_html_gac365a1e015ae1f875dc5a66fd5435b2f"><div class="ttname"><a href="group__apparent.html#gac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos</a></div><div class="ttdeci">int novas_sky_pos(const object *restrict object, const novas_frame *restrict frame, enum novas_reference_system sys, sky_pos *restrict out)</div><div class="ttdoc">Calculates an apparent location on sky for the source.</div><div class="ttdef"><b>Definition</b> frames.c:832</div></div>
<div class="ttc" id="agroup__equatorial_html_gga7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3"><div class="ttname"><a href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a></div><div class="ttdeci">@ NOVAS_TOD</div><div class="ttdoc">True equinox Of Date: dynamical system of the &#39;true&#39; equator, with its origin at the &#39;true&#39; equinox (...</div><div class="ttdef"><b>Definition</b> novas.h:759</div></div>
<div class="ttc" id="astructsky__pos_html"><div class="ttname"><a href="structsky__pos.html">sky_pos</a></div><div class="ttdoc">Celestial object&#39;s place on the sky; contains the output from place()</div><div class="ttdef"><b>Definition</b> novas.h:1585</div></div>
</div><!-- fragment --><p>If your observer was defined on Earth (ground-based or airborne), you might continue to calculate Az/El positions using <code><a class="el" href="group__apparent.html#ga3cd947f2e48d6c5cc88ad7a1bab9b8ca" title="Converts an observed apparent position vector in the specified coordinate system to local horizontal ...">novas_app_to_hor()</a></code>, or you might just want to know the same position in another reference system also:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structnovas__transform.html">novas_transform</a> T;     <span class="comment">// Transformation between reference systems</span></div>
<div class="line"><a class="code hl_struct" href="structsky__pos.html">sky_pos</a> tirs;          <span class="comment">// calculated apparent position in TIRS</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Transform from True-of-Date to TIRS coordinates</span></div>
<div class="line"><a class="code hl_function" href="group__frame.html#ga4d179c8573319fc25c775ce56ba055dc">novas_make_transform</a>(&amp;frame, <a class="code hl_enumvalue" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="code hl_enumvalue" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651ea524041fc2059f8432b76fad1b8edb89f">NOVAS_TIRS</a>, &amp;T);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Transform the above position to TIRS...</span></div>
<div class="line"><a class="code hl_function" href="group__apparent.html#gacfcfb90637cd1fdb25ef9afd1bda8e30">novas_transform_sky_pos</a>(&amp;app, T, &amp;tirs);</div>
<div class="ttc" id="agroup__apparent_html_gacfcfb90637cd1fdb25ef9afd1bda8e30"><div class="ttname"><a href="group__apparent.html#gacfcfb90637cd1fdb25ef9afd1bda8e30">novas_transform_sky_pos</a></div><div class="ttdeci">int novas_transform_sky_pos(const sky_pos *in, const novas_transform *restrict transform, sky_pos *out)</div><div class="ttdoc">Transforms a position or velocity 3-vector from one coordinate reference system to another.</div><div class="ttdef"><b>Definition</b> frames.c:1460</div></div>
<div class="ttc" id="agroup__equatorial_html_gga7ba038ea34eb901ccfb8f785708c651ea524041fc2059f8432b76fad1b8edb89f"><div class="ttname"><a href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651ea524041fc2059f8432b76fad1b8edb89f">NOVAS_TIRS</a></div><div class="ttdeci">@ NOVAS_TIRS</div><div class="ttdoc">Terrestrial Intermediate Reference System.</div><div class="ttdef"><b>Definition</b> novas.h:783</div></div>
<div class="ttc" id="agroup__frame_html_ga4d179c8573319fc25c775ce56ba055dc"><div class="ttname"><a href="group__frame.html#ga4d179c8573319fc25c775ce56ba055dc">novas_make_transform</a></div><div class="ttdeci">int novas_make_transform(const novas_frame *frame, enum novas_reference_system from_system, enum novas_reference_system to_system, novas_transform *transform)</div><div class="ttdoc">Calculates a transformation matrix that can be used to convert positions and velocities from one coor...</div><div class="ttdef"><b>Definition</b> frames.c:1257</div></div>
<div class="ttc" id="astructnovas__transform_html"><div class="ttname"><a href="structnovas__transform.html">novas_transform</a></div><div class="ttdoc">A transformation between two astronomical coordinate systems for the same observer location and time.</div><div class="ttdef"><b>Definition</b> novas.h:1823</div></div>
</div><!-- fragment --><p>Or, you can calculate geometric positions, which are not corrected for aberration or gravitational deflection (but still corrected for light travel time in case of Solar-system sources):</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> source = ...;   <span class="comment">// observed source</span></div>
<div class="line"><span class="keywordtype">double</span> pos[3], vel[3]; <span class="comment">// geometric position and velocity vectors to calculate.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Calculate geometric positions / velocities, say in ICRS</span></div>
<div class="line"><a class="code hl_function" href="group__geometric.html#gac6652ee3257621080dac342313d0a0a7">novas_geom_posvel</a>(&amp;source, &amp;frame, <a class="code hl_enumvalue" href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, pos, vel);</div>
<div class="ttc" id="agroup__equatorial_html_gga7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10"><div class="ttname"><a href="group__equatorial.html#gga7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a></div><div class="ttdeci">@ NOVAS_ICRS</div><div class="ttdoc">International Celestial Reference system.</div><div class="ttdef"><b>Definition</b> novas.h:767</div></div>
<div class="ttc" id="agroup__geometric_html_gac6652ee3257621080dac342313d0a0a7"><div class="ttname"><a href="group__geometric.html#gac6652ee3257621080dac342313d0a0a7">novas_geom_posvel</a></div><div class="ttdeci">int novas_geom_posvel(const object *restrict source, const novas_frame *restrict frame, enum novas_reference_system sys, double *restrict pos, double *restrict vel)</div><div class="ttdoc">Calculates the geometric position and velocity vectors, relative to the observer, for a source in the...</div><div class="ttdef"><b>Definition</b> frames.c:717</div></div>
</div><!-- fragment --><p>You can also transform geometric positions / velocities to other reference frames using the same <code><a class="el" href="structnovas__transform.html" title="A transformation between two astronomical coordinate systems for the same observer location and time.">novas_transform</a></code> as above.</p>
<p>Or, perhaps you are interested when the source will rise (or transit, or set) next, for a ground-based or airborne observer:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> source = ...;   <span class="comment">// observed source</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// UTC-based Julian date when source rises above 20 degrees given a refraction model.</span></div>
<div class="line"><span class="keywordtype">double</span> jd_rise = <a class="code hl_function" href="group__time.html#gaaf38f64304fa0b00c9c56cead62043f3">novas_rises_above</a>(20.0, &amp;source, &amp;frame, <a class="code hl_function" href="group__refract.html#gab04bff3b97c132e358e11c3a5b7a3081">novas_standard_refraction</a>);</div>
<div class="ttc" id="agroup__refract_html_gab04bff3b97c132e358e11c3a5b7a3081"><div class="ttname"><a href="group__refract.html#gab04bff3b97c132e358e11c3a5b7a3081">novas_standard_refraction</a></div><div class="ttdeci">double novas_standard_refraction(double jd_tt, const on_surface *loc, enum novas_refraction_type type, double el)</div><div class="ttdoc">Returns an optical refraction correction for a standard atmosphere.</div><div class="ttdef"><b>Definition</b> refract.c:263</div></div>
<div class="ttc" id="agroup__time_html_gaaf38f64304fa0b00c9c56cead62043f3"><div class="ttname"><a href="group__time.html#gaaf38f64304fa0b00c9c56cead62043f3">novas_rises_above</a></div><div class="ttdeci">double novas_rises_above(double el, const object *restrict source, const novas_frame *restrict frame, RefractionModel ref_model)</div><div class="ttdoc">Returns the UTC date at which a distant source appears to rise above the specified elevation angle.</div><div class="ttdef"><b>Definition</b> frames.c:1677</div></div>
</div><!-- fragment --><p>Or, you might simply want to know how far your source is from the Sun or Moon (or another source) on the sky:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> source = ...;   <span class="comment">// observed source</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Calculate the angular distance, in degrees, of the source from the Sun.</span></div>
<div class="line"><span class="keywordtype">double</span> angle_deg = <a class="code hl_function" href="group__apparent.html#ga2d1ef3bc6d99aa473511e45c6e0481e9">novas_sun_angle</a>(&amp;source, &amp;frame);</div>
<div class="ttc" id="agroup__apparent_html_ga2d1ef3bc6d99aa473511e45c6e0481e9"><div class="ttname"><a href="group__apparent.html#ga2d1ef3bc6d99aa473511e45c6e0481e9">novas_sun_angle</a></div><div class="ttdeci">double novas_sun_angle(const object *restrict source, const novas_frame *restrict frame)</div><div class="ttdoc">Returns the apparent angular distance of a source from the Sun from the observer&#39;s point of view.</div><div class="ttdef"><b>Definition</b> frames.c:1846</div></div>
</div><!-- fragment --><p>These are just some of the common use-case scenarios. There is even more possibilities with frames...</p>
<dl class="section date"><dt>Date</dt><dd>Created on Jun 23, 2024 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="timescale_8c.html" title="Functions to define and use different astronomical timescales and to convert among them.">timescale.c</a>, <a class="el" href="observer_8c.html" title="This module provides a set of functions that define an astronomical observer location,...">observer.c</a>, <a class="el" href="target_8c.html" title="This module contains functions that define an observing target, or which are target related.">target.c</a>, <a class="el" href="ephemeris_8c.html" title="Functions that allow to define or access Solar-system ephemeris data.">ephemeris.c</a> </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="frames_8c.html">frames.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
