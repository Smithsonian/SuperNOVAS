<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuperNOVAS: /github/workspace/src/frames.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="smithsonian-logo-55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">SuperNOVAS<span id="projectnumber">&#160;v1.5</span>
   </div>
   <div id="projectbrief">The NOVAS C library, made better</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('frames_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">frames.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab7db8026c598e8e126a4725ac3b388bf" id="r_ab7db8026c598e8e126a4725ac3b388bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab7db8026c598e8e126a4725ac3b388bf">novas_app_to_geom</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double ra, double dec, double dist, double *restrict geom_icrs)</td></tr>
<tr class="separator:ab7db8026c598e8e126a4725ac3b388bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cd947f2e48d6c5cc88ad7a1bab9b8ca" id="r_a3cd947f2e48d6c5cc88ad7a1bab9b8ca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3cd947f2e48d6c5cc88ad7a1bab9b8ca">novas_app_to_hor</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double ra, double dec, <a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model, double *restrict az, double *restrict el)</td></tr>
<tr class="separator:a3cd947f2e48d6c5cc88ad7a1bab9b8ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2972b3eafa2d7f6c29cff34bad9fcf0d" id="r_a2972b3eafa2d7f6c29cff34bad9fcf0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2972b3eafa2d7f6c29cff34bad9fcf0d">novas_change_observer</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *orig, const <a class="el" href="structobserver.html">observer</a> *obs, <a class="el" href="structnovas__frame.html">novas_frame</a> *out)</td></tr>
<tr class="separator:a2972b3eafa2d7f6c29cff34bad9fcf0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f4a449754c88cfc87df658a6bc4cb2" id="r_a57f4a449754c88cfc87df658a6bc4cb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57f4a449754c88cfc87df658a6bc4cb2">novas_equ_track</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, double dt, <a class="el" href="structnovas__track.html">novas_track</a> *restrict track)</td></tr>
<tr class="separator:a57f4a449754c88cfc87df658a6bc4cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a273fd76d83b8e04ced14558c69fd175c" id="r_a273fd76d83b8e04ced14558c69fd175c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a273fd76d83b8e04ced14558c69fd175c">novas_frame_lst</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="separator:a273fd76d83b8e04ced14558c69fd175c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6652ee3257621080dac342313d0a0a7" id="r_ac6652ee3257621080dac342313d0a0a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac6652ee3257621080dac342313d0a0a7">novas_geom_posvel</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double *restrict pos, double *restrict vel)</td></tr>
<tr class="separator:ac6652ee3257621080dac342313d0a0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4817703c9357f702a27812584c91f87c" id="r_a4817703c9357f702a27812584c91f87c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4817703c9357f702a27812584c91f87c">novas_geom_to_app</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, const double *restrict pos, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, <a class="el" href="structsky__pos.html">sky_pos</a> *restrict out)</td></tr>
<tr class="separator:a4817703c9357f702a27812584c91f87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57cbcae2001fece2ee4a2babfbc5f89" id="r_aa57cbcae2001fece2ee4a2babfbc5f89"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa57cbcae2001fece2ee4a2babfbc5f89">novas_hor_to_app</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, double az, double el, <a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, double *restrict ra, double *restrict dec)</td></tr>
<tr class="separator:aa57cbcae2001fece2ee4a2babfbc5f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f29810393108d15fd8312a2a95158dc" id="r_a1f29810393108d15fd8312a2a95158dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f29810393108d15fd8312a2a95158dc">novas_hor_track</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, <a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model, <a class="el" href="structnovas__track.html">novas_track</a> *restrict track)</td></tr>
<tr class="separator:a1f29810393108d15fd8312a2a95158dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2081e123024609d3071b33b183502b7" id="r_ad2081e123024609d3071b33b183502b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2081e123024609d3071b33b183502b7">novas_invert_transform</a> (const <a class="el" href="structnovas__transform.html">novas_transform</a> *transform, <a class="el" href="structnovas__transform.html">novas_transform</a> *inverse)</td></tr>
<tr class="separator:ad2081e123024609d3071b33b183502b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc72577f99a7b076b23e0e44ddbca838" id="r_adc72577f99a7b076b23e0e44ddbca838"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame</a> (enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a> accuracy, const <a class="el" href="structobserver.html">observer</a> *obs, const <a class="el" href="structnovas__timespec.html">novas_timespec</a> *time, double xp, double yp, <a class="el" href="structnovas__frame.html">novas_frame</a> *frame)</td></tr>
<tr class="separator:adc72577f99a7b076b23e0e44ddbca838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d179c8573319fc25c775ce56ba055dc" id="r_a4d179c8573319fc25c775ce56ba055dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform</a> (const <a class="el" href="structnovas__frame.html">novas_frame</a> *frame, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> from_system, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> to_system, <a class="el" href="structnovas__transform.html">novas_transform</a> *transform)</td></tr>
<tr class="separator:a4d179c8573319fc25c775ce56ba055dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a121940d7f0ef41297d28fab8e6df5998" id="r_a121940d7f0ef41297d28fab8e6df5998"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a121940d7f0ef41297d28fab8e6df5998">novas_moon_angle</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="separator:a121940d7f0ef41297d28fab8e6df5998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa5f3a823a895bed01876df6b2a00370" id="r_afa5f3a823a895bed01876df6b2a00370"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa5f3a823a895bed01876df6b2a00370">novas_object_sep</a> (const <a class="el" href="structobject.html">object</a> *source1, const <a class="el" href="structobject.html">object</a> *source2, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="separator:afa5f3a823a895bed01876df6b2a00370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf38f64304fa0b00c9c56cead62043f3" id="r_aaf38f64304fa0b00c9c56cead62043f3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf38f64304fa0b00c9c56cead62043f3">novas_rises_above</a> (double el, const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, <a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model)</td></tr>
<tr class="separator:aaf38f64304fa0b00c9c56cead62043f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23af09cd8e5ec5ef4d0b03a347a4add0" id="r_a23af09cd8e5ec5ef4d0b03a347a4add0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23af09cd8e5ec5ef4d0b03a347a4add0">novas_sets_below</a> (double el, const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, <a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a> ref_model)</td></tr>
<tr class="separator:a23af09cd8e5ec5ef4d0b03a347a4add0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac365a1e015ae1f875dc5a66fd5435b2f" id="r_ac365a1e015ae1f875dc5a66fd5435b2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos</a> (const <a class="el" href="structobject.html">object</a> *restrict <a class="el" href="structobject.html">object</a>, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame, enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a> sys, <a class="el" href="structsky__pos.html">sky_pos</a> *restrict out)</td></tr>
<tr class="separator:ac365a1e015ae1f875dc5a66fd5435b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac780bd907a12957995d36ad916dd4ec1" id="r_ac780bd907a12957995d36ad916dd4ec1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac780bd907a12957995d36ad916dd4ec1">novas_solar_illum</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="separator:ac780bd907a12957995d36ad916dd4ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1ef3bc6d99aa473511e45c6e0481e9" id="r_a2d1ef3bc6d99aa473511e45c6e0481e9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d1ef3bc6d99aa473511e45c6e0481e9">novas_sun_angle</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="separator:a2d1ef3bc6d99aa473511e45c6e0481e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a225a2e33684d2c1fe769e5aa718a182a" id="r_a225a2e33684d2c1fe769e5aa718a182a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a225a2e33684d2c1fe769e5aa718a182a">novas_track_pos</a> (const <a class="el" href="structnovas__track.html">novas_track</a> *track, const <a class="el" href="structnovas__timespec.html">novas_timespec</a> *time, double *restrict lon, double *restrict lat, double *restrict dist, double *restrict z)</td></tr>
<tr class="separator:a225a2e33684d2c1fe769e5aa718a182a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfcfb90637cd1fdb25ef9afd1bda8e30" id="r_acfcfb90637cd1fdb25ef9afd1bda8e30"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfcfb90637cd1fdb25ef9afd1bda8e30">novas_transform_sky_pos</a> (const <a class="el" href="structsky__pos.html">sky_pos</a> *in, const <a class="el" href="structnovas__transform.html">novas_transform</a> *restrict transform, <a class="el" href="structsky__pos.html">sky_pos</a> *out)</td></tr>
<tr class="separator:acfcfb90637cd1fdb25ef9afd1bda8e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa77895c891e9eeb4b1541f03acfd154e" id="r_aa77895c891e9eeb4b1541f03acfd154e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa77895c891e9eeb4b1541f03acfd154e">novas_transform_vector</a> (const double *in, const <a class="el" href="structnovas__transform.html">novas_transform</a> *restrict transform, double *out)</td></tr>
<tr class="separator:aa77895c891e9eeb4b1541f03acfd154e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad04f1ebd7b2d39e5258b152fec231001" id="r_ad04f1ebd7b2d39e5258b152fec231001"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad04f1ebd7b2d39e5258b152fec231001">novas_transit_time</a> (const <a class="el" href="structobject.html">object</a> *restrict source, const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict frame)</td></tr>
<tr class="separator:ad04f1ebd7b2d39e5258b152fec231001"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>Created on Jun 23, 2024 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1</dd></dl>
<p>SuperNOVAS routines for higher-level and efficient astrometric calculations using observing frames. An observing frames represents an observer location at a specific astronomical time (instant), which can be re-used again and again to calculate or transform positions of celestial sources in a a range of astronomical coordinate systems.</p>
<p>To use frames, you start with <code><a class="el" href="#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a></code> with an astrometric time and an observer location, and optionally Earth-orientation parameters if precision below the arcsecond level is needed. E.g.:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structobserver.html">observer</a> obs;         <span class="comment">// observer location</span></div>
<div class="line"><a class="code hl_struct" href="structnovas__timespec.html">novas_timespec</a> time;  <span class="comment">// astrometric time</span></div>
<div class="line"><a class="code hl_struct" href="structnovas__frame.html">novas_frame</a> frame;    <span class="comment">// observing frame</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Specify an observer, with GPS coordinates</span></div>
<div class="line"><a class="code hl_function" href="observer_8c.html#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer</a>(gps_lat, gps_lon, gps_alt, &amp;obs);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Specify time, e.g. current time with leap seconds and UT1-UTC time difference:</span></div>
<div class="line"><a class="code hl_function" href="timescale_8c.html#a090f608cd5c82622e3534297fc27daa5">novas_set_current_time</a>(leap_seconds, dut1, &amp;time);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set up a frame with the desired accuracy and Earth orientation parameters xp, yp.</span></div>
<div class="line"><a class="code hl_function" href="#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame</a>(<a class="code hl_enumvalue" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>, &amp;obs, &amp;time, xp, yp, &amp;frame);</div>
<div class="ttc" id="aframes_8c_html_adc72577f99a7b076b23e0e44ddbca838"><div class="ttname"><a href="#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame</a></div><div class="ttdeci">int novas_make_frame(enum novas_accuracy accuracy, const observer *obs, const novas_timespec *time, double xp, double yp, novas_frame *frame)</div><div class="ttdef"><b>Definition</b> frames.c:515</div></div>
<div class="ttc" id="anovas_8h_html_a3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846"><div class="ttname"><a href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a></div><div class="ttdeci">@ NOVAS_REDUCED_ACCURACY</div><div class="ttdef"><b>Definition</b> novas.h:601</div></div>
<div class="ttc" id="aobserver_8c_html_aa2f9fc986f99c1ec7092330dbf233fef"><div class="ttname"><a href="observer_8c.html#aa2f9fc986f99c1ec7092330dbf233fef">make_gps_observer</a></div><div class="ttdeci">int make_gps_observer(double latitude, double longitude, double height, observer *obs)</div><div class="ttdef"><b>Definition</b> observer.c:285</div></div>
<div class="ttc" id="astructnovas__frame_html"><div class="ttname"><a href="structnovas__frame.html">novas_frame</a></div><div class="ttdef"><b>Definition</b> novas.h:1426</div></div>
<div class="ttc" id="astructnovas__timespec_html"><div class="ttname"><a href="structnovas__timespec.html">novas_timespec</a></div><div class="ttdef"><b>Definition</b> novas.h:1340</div></div>
<div class="ttc" id="astructobserver_html"><div class="ttname"><a href="structobserver.html">observer</a></div><div class="ttdef"><b>Definition</b> novas.h:1239</div></div>
<div class="ttc" id="atimescale_8c_html_a090f608cd5c82622e3534297fc27daa5"><div class="ttname"><a href="timescale_8c.html#a090f608cd5c82622e3534297fc27daa5">novas_set_current_time</a></div><div class="ttdeci">int novas_set_current_time(int leap, double dut1, novas_timespec *restrict time)</div><div class="ttdef"><b>Definition</b> timescale.c:890</div></div>
</div><!-- fragment --><p>Once a frame is defined, you can perform various astrometric calculation within it efficiently. For example, calculate apparent positions, in the coordinate system of choice, to predict where objects would be seen by the observer:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> source = ...;   <span class="comment">// observed source</span></div>
<div class="line"><a class="code hl_struct" href="structsky__pos.html">sky_pos</a> app;           <span class="comment">// apparent position to calculate.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Calculate True-of-Date apparent coordinates for a source.</span></div>
<div class="line"><a class="code hl_function" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos</a>(&amp;source, &amp;frame, <a class="code hl_enumvalue" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, &amp;app);</div>
<div class="ttc" id="aframes_8c_html_ac365a1e015ae1f875dc5a66fd5435b2f"><div class="ttname"><a href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos</a></div><div class="ttdeci">int novas_sky_pos(const object *restrict object, const novas_frame *restrict frame, enum novas_reference_system sys, sky_pos *restrict out)</div><div class="ttdef"><b>Definition</b> frames.c:821</div></div>
<div class="ttc" id="anovas_8h_html_a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3"><div class="ttname"><a href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a></div><div class="ttdeci">@ NOVAS_TOD</div><div class="ttdef"><b>Definition</b> novas.h:507</div></div>
<div class="ttc" id="astructsky__pos_html"><div class="ttname"><a href="structsky__pos.html">sky_pos</a></div><div class="ttdef"><b>Definition</b> novas.h:1267</div></div>
</div><!-- fragment --><p>If your observer was defined on Earth (ground-based or airborne), you might continue to calculate Az/El positions using <code><a class="el" href="#a3cd947f2e48d6c5cc88ad7a1bab9b8ca">novas_app_to_hor()</a></code>, or you might just want to know the same position in another reference system also:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structnovas__transform.html">novas_transform</a> T;     <span class="comment">// Transformation between reference systems</span></div>
<div class="line"><a class="code hl_struct" href="structsky__pos.html">sky_pos</a> tirs;          <span class="comment">// calculated apparent position in TIRS</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Transform from True-of-Date to TIRS coordinates</span></div>
<div class="line"><a class="code hl_function" href="#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform</a>(&amp;frame, <a class="code hl_enumvalue" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="code hl_enumvalue" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea524041fc2059f8432b76fad1b8edb89f">NOVAS_TIRS</a>, &amp;T);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Transform the above position to TIRS...</span></div>
<div class="line"><a class="code hl_function" href="#acfcfb90637cd1fdb25ef9afd1bda8e30">novas_transform_sky_pos</a>(&amp;app, T, &amp;tirs);</div>
<div class="ttc" id="aframes_8c_html_a4d179c8573319fc25c775ce56ba055dc"><div class="ttname"><a href="#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform</a></div><div class="ttdeci">int novas_make_transform(const novas_frame *frame, enum novas_reference_system from_system, enum novas_reference_system to_system, novas_transform *transform)</div><div class="ttdef"><b>Definition</b> frames.c:1234</div></div>
<div class="ttc" id="aframes_8c_html_acfcfb90637cd1fdb25ef9afd1bda8e30"><div class="ttname"><a href="#acfcfb90637cd1fdb25ef9afd1bda8e30">novas_transform_sky_pos</a></div><div class="ttdeci">int novas_transform_sky_pos(const sky_pos *in, const novas_transform *restrict transform, sky_pos *out)</div><div class="ttdef"><b>Definition</b> frames.c:1437</div></div>
<div class="ttc" id="anovas_8h_html_a7ba038ea34eb901ccfb8f785708c651ea524041fc2059f8432b76fad1b8edb89f"><div class="ttname"><a href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea524041fc2059f8432b76fad1b8edb89f">NOVAS_TIRS</a></div><div class="ttdeci">@ NOVAS_TIRS</div><div class="ttdef"><b>Definition</b> novas.h:531</div></div>
<div class="ttc" id="astructnovas__transform_html"><div class="ttname"><a href="structnovas__transform.html">novas_transform</a></div><div class="ttdef"><b>Definition</b> novas.h:1482</div></div>
</div><!-- fragment --><p>Or, you can calculate geometric positions, which are not corrected for aberration or gravitational deflection (but still corrected for light travel time in case of Solar-system sources):</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> source = ...;   <span class="comment">// observed source</span></div>
<div class="line"><span class="keywordtype">double</span> pos[3], vel[3]; <span class="comment">// geometric position and velocity vectors to calculate.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Calculate geometric positions / velocities, say in ICRS</span></div>
<div class="line"><a class="code hl_function" href="#ac6652ee3257621080dac342313d0a0a7">novas_geom_posvel</a>(&amp;source, &amp;frame, <a class="code hl_enumvalue" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, pos, vel);</div>
<div class="ttc" id="aframes_8c_html_ac6652ee3257621080dac342313d0a0a7"><div class="ttname"><a href="#ac6652ee3257621080dac342313d0a0a7">novas_geom_posvel</a></div><div class="ttdeci">int novas_geom_posvel(const object *restrict source, const novas_frame *restrict frame, enum novas_reference_system sys, double *restrict pos, double *restrict vel)</div><div class="ttdef"><b>Definition</b> frames.c:707</div></div>
<div class="ttc" id="anovas_8h_html_a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10"><div class="ttname"><a href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a></div><div class="ttdeci">@ NOVAS_ICRS</div><div class="ttdef"><b>Definition</b> novas.h:515</div></div>
</div><!-- fragment --><p>You can also transform geometric positions / velocities to other reference frames using the same <code><a class="el" href="structnovas__transform.html">novas_transform</a></code> as above.</p>
<p>Or, perhaps you are interested when the source will rise (or transit, or set) next, for a ground-based or airborne observer:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> source = ...;   <span class="comment">// observed source</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// UTC-based Julian date when source rises above 20 degrees given a refraction model.</span></div>
<div class="line"><span class="keywordtype">double</span> jd_rise = <a class="code hl_function" href="#aaf38f64304fa0b00c9c56cead62043f3">novas_rises_above</a>(20.0, &amp;source, &amp;frame, <a class="code hl_function" href="refract_8c.html#ab04bff3b97c132e358e11c3a5b7a3081">novas_standard_refraction</a>);</div>
<div class="ttc" id="aframes_8c_html_aaf38f64304fa0b00c9c56cead62043f3"><div class="ttname"><a href="#aaf38f64304fa0b00c9c56cead62043f3">novas_rises_above</a></div><div class="ttdeci">double novas_rises_above(double el, const object *restrict source, const novas_frame *restrict frame, RefractionModel ref_model)</div><div class="ttdef"><b>Definition</b> frames.c:1654</div></div>
<div class="ttc" id="arefract_8c_html_ab04bff3b97c132e358e11c3a5b7a3081"><div class="ttname"><a href="refract_8c.html#ab04bff3b97c132e358e11c3a5b7a3081">novas_standard_refraction</a></div><div class="ttdeci">double novas_standard_refraction(double jd_tt, const on_surface *loc, enum novas_refraction_type type, double el)</div><div class="ttdef"><b>Definition</b> refract.c:259</div></div>
</div><!-- fragment --><p>Or, you might simply want to know how far your source is from the Sun or Moon (or another source) on the sky:</p>
<div class="fragment"><div class="line"><span class="keywordtype">object</span> source = ...;   <span class="comment">// observed source</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Calculate the angular distance, in degrees, of the source from the Sun.</span></div>
<div class="line"><span class="keywordtype">double</span> angle_deg = <a class="code hl_function" href="#a2d1ef3bc6d99aa473511e45c6e0481e9">novas_sun_angle</a>(&amp;source, &amp;frame);</div>
<div class="ttc" id="aframes_8c_html_a2d1ef3bc6d99aa473511e45c6e0481e9"><div class="ttname"><a href="#a2d1ef3bc6d99aa473511e45c6e0481e9">novas_sun_angle</a></div><div class="ttdeci">double novas_sun_angle(const object *restrict source, const novas_frame *restrict frame)</div><div class="ttdef"><b>Definition</b> frames.c:1821</div></div>
</div><!-- fragment --><p>These are just some of the common use-case scenarios. There is even more possibilities with frames...</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="timescale_8c.html">timescale.c</a>, <a class="el" href="observer_8c.html">observer.c</a>, <a class="el" href="target_8c.html">target.c</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab7db8026c598e8e126a4725ac3b388bf" name="ab7db8026c598e8e126a4725ac3b388bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7db8026c598e8e126a4725ac3b388bf">&#9670;&#160;</a></span>novas_app_to_geom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_app_to_geom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a></td>          <td class="paramname"><span class="paramname"><em>sys</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ra</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>geom_icrs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts an observed apparent sky position of a source to an ICRS geometric position, by undoing the gravitational deflection and aberration corrections.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>The observer frame, defining the location and time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>The reference system in which the observed position is specified. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ra</td><td>[h] Observed ICRS right-ascension of the source </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dec</td><td>[deg] Observed ICRS declination of the source </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dist</td><td>[AU] Observed distance from observer. A value of &lt;=0 will translate to 10<sup>15</sup> AU (around 5 Gpc). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">geom_icrs</td><td>[AU] The corresponding geometric position for the source, in ICRS. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else an error from grav_undef2(), or -1 (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a4817703c9357f702a27812584c91f87c">novas_geom_to_app()</a> </dd>
<dd>
<a class="el" href="#aa57cbcae2001fece2ee4a2babfbc5f89">novas_hor_to_app()</a>, novas_geom_to_hor(), <a class="el" href="#aa77895c891e9eeb4b1541f03acfd154e">novas_transform_vector()</a> </dd></dl>

<p class="reference">References <a class="el" href="grav_8c.html#a1b107a24b9fadc79cc5df8c6f5505d16">grav_undo_planets()</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eacbee2de517939c156e61fb5f9631e044">NOVAS_CIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea826bda7744c11bc1560f4db1848a17c6">NOVAS_ITRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ead110200de7f232d9110467c0862733d9">NOVAS_J2000</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5a2a55ff66f97310a9641d7ffa60b8dd">NOVAS_MOD</a>, <a class="el" href="novas_8h.html#ae55994629ca97e634b1bb97aafb3f49b">NOVAS_REFERENCE_SYSTEMS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea524041fc2059f8432b76fad1b8edb89f">NOVAS_TIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="el" href="util_8c.html#ae104afd1bc638def9bdbce1801e5054a">radec2vector()</a>, <a class="el" href="util_8c.html#af4090e519d7ce7ab1fcdb24b10126eb4">spin()</a>, <a class="el" href="earth_8c.html#aead87744eeb3029ce7d5ffb1801ee652">wobble()</a>, and <a class="el" href="novas_8h.html#aab27106a2d5c2c7fa64b2f208deff7f5a88d1bc6832a20ed34c4dab5753864851">WOBBLE_ITRS_TO_TIRS</a>.</p>

</div>
</div>
<a id="a3cd947f2e48d6c5cc88ad7a1bab9b8ca" name="a3cd947f2e48d6c5cc88ad7a1bab9b8ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cd947f2e48d6c5cc88ad7a1bab9b8ca">&#9670;&#160;</a></span>novas_app_to_hor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_app_to_hor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a></td>          <td class="paramname"><span class="paramname"><em>sys</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ra</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a></td>          <td class="paramname"><span class="paramname"><em>ref_model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>az</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>el</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts an observed apparent position vector in the specified coordinate system to local horizontal coordinates in the specified observer frame. The observer must be located on the surface of Earth, or else the call will return with an error. The caller may optionally supply a refraction model of choice to calculate an appropriate elevation angle that includes a refraction correction for Earth's atmosphere. If no such model is provided the calculated elevation will be the astrometric elevation without a refraction correction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>Observer frame, defining the time and place of observation (on Earth). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>Astronomical coordinate system in which the observed position is given. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ra</td><td>[h] Observed apparent right ascension (R.A.) coordinate </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dec</td><td>[deg] Observed apparent declination coordinate </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ref_model</td><td>An appropriate refraction model, or NULL to calculate unrefracted elevation. Depending on the refraction model, you might want to make sure that the weather parameters were set when the observing frame was defined. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">az</td><td>[deg] Calculated azimuth angle. It may be NULL if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">el</td><td>[deg] Calculated elevation angle. It may be NULL if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else an error from <a class="el" href="transform_8c.html#a4551e2ac083e34c1b2b61b3805efb9a3">tod_to_itrs()</a> or <a class="el" href="transform_8c.html#aa2768d89d499a7155f90a6fd8c176d8d">cirs_to_itrs()</a>, or -1 (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa57cbcae2001fece2ee4a2babfbc5f89">novas_hor_to_app()</a> </dd>
<dd>
<a class="el" href="#ab7db8026c598e8e126a4725ac3b388bf">novas_app_to_geom()</a>, <a class="el" href="refract_8c.html#ab04bff3b97c132e358e11c3a5b7a3081">novas_standard_refraction()</a>, <a class="el" href="refract_8c.html#ae4511a80a1defbb1e1fdc29c289e7de4">novas_optical_refraction()</a>, <a class="el" href="refract_8c.html#a6b49f92f8f818f2272613e3432185a39">novas_radio_refraction()</a>, <a class="el" href="refract_8c.html#a7b9ad6dfbd86e4faa2d8068c7d64fac4">novas_wave_refraction()</a> </dd></dl>

<p class="reference">References <a class="el" href="structnovas__timespec.html#a696e598955615f729a92870c8213a10c">novas_timespec::fjd_tt</a>, <a class="el" href="structnovas__timespec.html#ab1b769234049ec8d7cdbb22800116184">novas_timespec::ijd_tt</a>, <a class="el" href="system_8c.html#aef3c1f8e4c443e51e65003018449768a">itrs_to_hor()</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a1665bf146ca1a4d11380bf4d7d9d7058">NOVAS_AIRBORNE_OBSERVER</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eacbee2de517939c156e61fb5f9631e044">NOVAS_CIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea8c3e21e3d68b39b0b0ca28f99b8cacf4">NOVAS_GCRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea826bda7744c11bc1560f4db1848a17c6">NOVAS_ITRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ead110200de7f232d9110467c0862733d9">NOVAS_J2000</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5a2a55ff66f97310a9641d7ffa60b8dd">NOVAS_MOD</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aadb64b75d1bf5344760b942f241e52e8">NOVAS_OBSERVER_ON_EARTH</a>, <a class="el" href="novas_8h.html#a8c77758e10b1d3dc8dbd3ab0b694e468a4255a64975ec93df2f228c63c38096a0">NOVAS_REFRACT_ASTROMETRIC</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea524041fc2059f8432b76fad1b8edb89f">NOVAS_TIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="el" href="util_8c.html#ae104afd1bc638def9bdbce1801e5054a">radec2vector()</a>, <a class="el" href="util_8c.html#af4090e519d7ce7ab1fcdb24b10126eb4">spin()</a>, <a class="el" href="earth_8c.html#aead87744eeb3029ce7d5ffb1801ee652">wobble()</a>, <a class="el" href="novas_8h.html#aab27106a2d5c2c7fa64b2f208deff7f5a6148979c7c2a121fc0852ec129eb4b10">WOBBLE_PEF_TO_ITRS</a>, and <a class="el" href="novas_8h.html#aab27106a2d5c2c7fa64b2f208deff7f5a4b792b9dcf18048019f1a4fb486b7c97">WOBBLE_TIRS_TO_ITRS</a>.</p>

</div>
</div>
<a id="a2972b3eafa2d7f6c29cff34bad9fcf0d" name="a2972b3eafa2d7f6c29cff34bad9fcf0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2972b3eafa2d7f6c29cff34bad9fcf0d">&#9670;&#160;</a></span>novas_change_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_change_observer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *</td>          <td class="paramname"><span class="paramname"><em>orig</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobserver.html">observer</a> *</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__frame.html">novas_frame</a> *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change the observer location for an observing frame.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">orig</td><td>Pointer to original observing frame </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">obs</td><td>New observer location </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Observing frame to populate with a original frame data and new observer location. It can be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successfule or else an an error code from <a class="el" href="earth_8c.html#ada5ca37110e66c8b65f623c9e26ae52e">geo_posvel()</a> (errno will also indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a> </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#ad9a827bf90bce73ad42f04ed2dd13a9c">novas_frame::accuracy</a>, <a class="el" href="grav_8c.html#a18647d39520d1a15a137661f698cb12a">grav_bodies_full_accuracy</a>, <a class="el" href="grav_8c.html#a03a4df8961a0cd05f89aca478d2dcd24">grav_bodies_reduced_accuracy</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660">NOVAS_FULL_ACCURACY</a>, <a class="el" href="timescale_8c.html#ae30e3dd8e30bdcf4e8486cfce696fb98">novas_get_time()</a>, <a class="el" href="novas_8h.html#aa642c4ccc7195dc62fd0dc56567ebd0baf5d992bdf01b4f3fd7b22e3e24c6974d">NOVAS_TDB</a>, <a class="el" href="observer_8c.html#a07490a134a685fe0842b2b4816559292">obs_planets()</a>, <a class="el" href="structnovas__frame.html#ac2558d2b29171b29bad2599c75d3cc6c">novas_frame::obs_pos</a>, <a class="el" href="structnovas__frame.html#a70a5703b12da2ee4c801250fdd5708d7">novas_frame::observer</a>, <a class="el" href="structnovas__frame.html#a669cb67d7c5765600cb355d37e14f172">novas_frame::planets</a>, <a class="el" href="structnovas__frame.html#ac8ddcc571efb6061ddf9dfbcfffb4cd1">novas_frame::state</a>, and <a class="el" href="structnovas__frame.html#a5a61c03607da83f2b44b05e68cc50e5b">novas_frame::time</a>.</p>

</div>
</div>
<a id="a57f4a449754c88cfc87df658a6bc4cb2" name="a57f4a449754c88cfc87df658a6bc4cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57f4a449754c88cfc87df658a6bc4cb2">&#9670;&#160;</a></span>novas_equ_track()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_equ_track </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__track.html">novas_track</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>track</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates equatorial tracking position and motion (first and second time derivatives) for the specified source in the given observing frame. The position and its derivatives are calculated via the more precise IAU2006 method, and CIRS.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">source</td><td>Observed source </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>Observing frame, defining the observer location and astronomical time of observation. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dt</td><td>[s] Time step used for calculating derivatives. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">track</td><td>Output tracking parameters to populate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if any of the pointer arguments are NULL, or else an error code from <a class="el" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos()</a>.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a1f29810393108d15fd8312a2a95158dc">novas_hor_track()</a>, <a class="el" href="#a225a2e33684d2c1fe769e5aa718a182a">novas_track_pos()</a> </dd></dl>

<p class="reference">References <a class="el" href="structsky__pos.html#ac4ae7989694321b540abb75c30eec690">sky_pos::dec</a>, <a class="el" href="structsky__pos.html#aeedff25e8c80502a891e8af33d35b3c0">sky_pos::dis</a>, <a class="el" href="structnovas__timespec.html#a696e598955615f729a92870c8213a10c">novas_timespec::fjd_tt</a>, <a class="el" href="equinox_8c.html#aea0e1028baf14d16d9de800e36a17086">ira_equinox()</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eacbee2de517939c156e61fb5f9631e044">NOVAS_CIRS</a>, <a class="el" href="#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a>, <a class="el" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos()</a>, <a class="el" href="novas_8h.html#ab970f5de5d5e04874cb31865459b0b4fa1096785746d1a9bc678ea2c51fc21055">NOVAS_TRUE_EQUINOX</a>, <a class="el" href="spectral_8c.html#aa54cd00024b294d38fa29433c017c65f">novas_v2z()</a>, <a class="el" href="structsky__pos.html#a713a0c71a86d92fa6892fdb2cb7c9422">sky_pos::ra</a>, <a class="el" href="structsky__pos.html#ad9e8b5daff39072d109a6f4f1fa61f55">sky_pos::rv</a>, and <a class="el" href="novas_8h.html#a462bdac0f370f0c5b421ae5b3f3e35f2">SKY_POS_INIT</a>.</p>

</div>
</div>
<a id="a273fd76d83b8e04ced14558c69fd175c" name="a273fd76d83b8e04ced14558c69fd175c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a273fd76d83b8e04ced14558c69fd175c">&#9670;&#160;</a></span>novas_frame_lst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double novas_frame_lst </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the Local (apparent) Sidereal Time for an observing frame of an Earth-bound observer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>Observer frame, defining the location and time of observation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[h] The LST for an Earth-bound observer [0.0&ndash;24.0), or NAN otherwise. If NAN is returned errno will indicate the type of error.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="timescale_8c.html#a9e99ea879ba0ddc1d9fbefc4b32b1ef1">novas_time_lst()</a> </dd></dl>

<p class="reference">References <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a1665bf146ca1a4d11380bf4d7d9d7058">NOVAS_AIRBORNE_OBSERVER</a>, and <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aadb64b75d1bf5344760b942f241e52e8">NOVAS_OBSERVER_ON_EARTH</a>.</p>

</div>
</div>
<a id="ac6652ee3257621080dac342313d0a0a7" name="ac6652ee3257621080dac342313d0a0a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6652ee3257621080dac342313d0a0a7">&#9670;&#160;</a></span>novas_geom_posvel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_geom_posvel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a></td>          <td class="paramname"><span class="paramname"><em>sys</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>vel</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the geometric position and velocity vectors, relative to the observer, for a source in the given observing frame, in the specified coordinate system of choice. The geometric position includes proper motion, and for solar-system bodies it is antedated for light travel time, so it effectively represents the geometric position as seen by the observer. However, the geometric does not include aberration correction, nor gravitational deflection.</p>
<p>If you want apparent positions, which account for aberration and gravitational deflection, use novas_skypos() instead.</p>
<p>You can also use <a class="el" href="#aa77895c891e9eeb4b1541f03acfd154e">novas_transform_vector()</a> to convert the output position and velocity vectors to a dfferent coordinate system of choice afterwards if you want the results expressed in more than one coordinate system.</p>
<p>It implements the same geometric transformations as <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code> but at a reduced computational cost. See <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code> for references.</p>
<p>NOTES: </p><ol>
<li>
As of SuperNOVAS v1.3, the returned velocity vector is a proper observer-based velocity measure. In prior releases, and in NOVAS C 3.1, this was inconsistent, with pseudo LSR-based measures being returned for catalog sources. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">source</td><td>Pointer to a celestial source data structure that is observed. Catalog sources should have coordinates and properties in ICRS. You can use <code><a class="el" href="target_8c.html#abe0c6e6fc60a49efa88c365aef8cdc50">transform_cat()</a></code> to convert catalog entries to ICRS as necessary. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>Observer frame, defining the location and time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>The coordinate system in which to return positions and velocities. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pos</td><td>[AU] Calculated geometric position vector of the source relative to the observer location, in the designated coordinate system. It may be NULL if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">vel</td><td>[AU/day] The calculated velocity vector of the source relative to the observer in the designated coordinate system. It must be distinct from the pos output vector, and may be NULL if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if any of the arguments is invalid, 50&ndash;70 error is 50 + error from <a class="el" href="observer_8c.html#a5c940b62732d74e6c6b1c844931aaa76">light_time2()</a>.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a4817703c9357f702a27812584c91f87c">novas_geom_to_app()</a>, <a class="el" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos()</a>, </dd>
<dd>
<a class="el" href="#aa77895c891e9eeb4b1541f03acfd154e">novas_transform_vector()</a>, <a class="el" href="#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a> </dd></dl>

<p class="reference">References <a class="el" href="observer_8c.html#a1d58fd371e7604f75df315365672941e">bary2obs()</a>, <a class="el" href="util_8c.html#ad799864f637c483fb49491bde5a93e25">d_light()</a>, <a class="el" href="observer_8c.html#a5c940b62732d74e6c6b1c844931aaa76">light_time2()</a>, <a class="el" href="novas_8h.html#a1eecb357eeea0de4759e9c8d55af238fa4f9ab9cec85498c41f90c33794d032e5">NOVAS_CATALOG_OBJECT</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660">NOVAS_FULL_ACCURACY</a>, <a class="el" href="timescale_8c.html#ae30e3dd8e30bdcf4e8486cfce696fb98">novas_get_time()</a>, <a class="el" href="novas_8h.html#a31bf4a08940bfa3e97ae6a1abee80422">NOVAS_JD_J2000</a>, <a class="el" href="novas_8h.html#a1eecb357eeea0de4759e9c8d55af238fad1eeaddaa96b028742a8ba424e311aa8">NOVAS_PLANET</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>, <a class="el" href="novas_8h.html#aa642c4ccc7195dc62fd0dc56567ebd0baf5d992bdf01b4f3fd7b22e3e24c6974d">NOVAS_TDB</a>, <a class="el" href="target_8c.html#a24b69e1809a33113d4a041dd3e4082ad">proper_motion()</a>, and <a class="el" href="target_8c.html#a27bae6c9efdab763dba9f1ae36a04669">starvectors()</a>.</p>

</div>
</div>
<a id="a4817703c9357f702a27812584c91f87c" name="a4817703c9357f702a27812584c91f87c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4817703c9357f702a27812584c91f87c">&#9670;&#160;</a></span>novas_geom_to_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_geom_to_app </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *restrict</td>          <td class="paramname"><span class="paramname"><em>pos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a></td>          <td class="paramname"><span class="paramname"><em>sys</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsky__pos.html">sky_pos</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts an geometric position in ICRS to an apparent position on sky, by applying appropriate corrections for aberration and gravitational deflection for the observer's frame. Unlike <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code> the output reports the distance calculated from the parallax for sidereal sources. The radial velocity of the output is set to NAN (if needed use <a class="el" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos()</a> instead).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>The observer frame, defining the location and time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pos</td><td>[AU] Geometric position of source in ICRS coordinates </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>The coordinate system in which to return the apparent sky location </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Pointer to the data structure which is populated with the calculated apparent location in the designated coordinate system. It may be the same pounter as the input position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or an error from grav_def2(), or else -1 (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ab7db8026c598e8e126a4725ac3b388bf">novas_app_to_geom()</a> </dd>
<dd>
<a class="el" href="#a3cd947f2e48d6c5cc88ad7a1bab9b8ca">novas_app_to_hor()</a>, <a class="el" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos()</a>, <a class="el" href="#ac6652ee3257621080dac342313d0a0a7">novas_geom_posvel()</a> </dd></dl>

<p class="reference">References <a class="el" href="grav_8c.html#ae36bc31e1dad8a68f94f7a6414f0519f">grav_planets()</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660">NOVAS_FULL_ACCURACY</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>, <a class="el" href="util_8c.html#a0f41cefb8c872973b07e936b5026d143">novas_vlen()</a>, and <a class="el" href="util_8c.html#a84f672dc1c37e3af374198f29cbcfba9">vector2radec()</a>.</p>

</div>
</div>
<a id="aa57cbcae2001fece2ee4a2babfbc5f89" name="aa57cbcae2001fece2ee4a2babfbc5f89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57cbcae2001fece2ee4a2babfbc5f89">&#9670;&#160;</a></span>novas_hor_to_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_hor_to_app </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>az</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>el</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a></td>          <td class="paramname"><span class="paramname"><em>ref_model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a></td>          <td class="paramname"><span class="paramname"><em>sys</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>ra</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts an observed azimuth and elevation coordinate to right ascension (R.A.) and declination coordinates expressed in the coordinate system of choice. The observer must be located on the surface of Earth, or else the call will return with an error. The caller may optionally supply a refraction model of choice to calculate an appropriate elevation angle that includes a refraction correction for Earth's atmosphere. If no such model is provided, the provided elevation value will be assumed to be an astrometric elevation without a refraction correction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>Observer frame, defining the time and place of observation (on Earth). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">az</td><td>[deg] Observed azimuth angle. It may be NULL if not required. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">el</td><td>[deg] Observed elevation angle. It may be NULL if not required. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ref_model</td><td>An appropriate refraction model, or NULL to assume unrefracted elevation. Depending on the refraction model, you might want to make sure that the weather parameters were set when the observing frame was defined. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>Astronomical coordinate system in which the output is R.A. and declination values are to be calculated. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ra</td><td>[h] Calculated apparent right ascension (R.A.) coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dec</td><td>[deg] Calculated apparent declination coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else an error from <a class="el" href="transform_8c.html#a3f6ae564cfac3766a21e0754905e5f7c">itrs_to_tod()</a> or <a class="el" href="transform_8c.html#a12953f66c0f774284f0700ae785784d0">itrs_to_cirs()</a>, or -1 (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a3cd947f2e48d6c5cc88ad7a1bab9b8ca">novas_app_to_hor()</a> </dd>
<dd>
<a class="el" href="#ab7db8026c598e8e126a4725ac3b388bf">novas_app_to_geom()</a>, <a class="el" href="refract_8c.html#ab04bff3b97c132e358e11c3a5b7a3081">novas_standard_refraction()</a>, <a class="el" href="refract_8c.html#ae4511a80a1defbb1e1fdc29c289e7de4">novas_optical_refraction()</a>, <a class="el" href="refract_8c.html#a6b49f92f8f818f2272613e3432185a39">novas_radio_refraction()</a>, <a class="el" href="refract_8c.html#a7b9ad6dfbd86e4faa2d8068c7d64fac4">novas_wave_refraction()</a> </dd></dl>

<p class="reference">References <a class="el" href="structnovas__timespec.html#a696e598955615f729a92870c8213a10c">novas_timespec::fjd_tt</a>, <a class="el" href="system_8c.html#a19f4f6c7d942dcba5ad2a4d2a60affad">hor_to_itrs()</a>, <a class="el" href="structnovas__timespec.html#ab1b769234049ec8d7cdbb22800116184">novas_timespec::ijd_tt</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a1665bf146ca1a4d11380bf4d7d9d7058">NOVAS_AIRBORNE_OBSERVER</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eacbee2de517939c156e61fb5f9631e044">NOVAS_CIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea8c3e21e3d68b39b0b0ca28f99b8cacf4">NOVAS_GCRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea826bda7744c11bc1560f4db1848a17c6">NOVAS_ITRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ead110200de7f232d9110467c0862733d9">NOVAS_J2000</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5a2a55ff66f97310a9641d7ffa60b8dd">NOVAS_MOD</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aadb64b75d1bf5344760b942f241e52e8">NOVAS_OBSERVER_ON_EARTH</a>, <a class="el" href="novas_8h.html#a8c77758e10b1d3dc8dbd3ab0b694e468a29a320ab3459dafa0d18e7ebef3ae8fe">NOVAS_REFRACT_OBSERVED</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea524041fc2059f8432b76fad1b8edb89f">NOVAS_TIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="el" href="util_8c.html#af4090e519d7ce7ab1fcdb24b10126eb4">spin()</a>, <a class="el" href="util_8c.html#a84f672dc1c37e3af374198f29cbcfba9">vector2radec()</a>, <a class="el" href="earth_8c.html#aead87744eeb3029ce7d5ffb1801ee652">wobble()</a>, <a class="el" href="novas_8h.html#aab27106a2d5c2c7fa64b2f208deff7f5ac1fc144f868517a2268a56343cc218a9">WOBBLE_ITRS_TO_PEF</a>, and <a class="el" href="novas_8h.html#aab27106a2d5c2c7fa64b2f208deff7f5a88d1bc6832a20ed34c4dab5753864851">WOBBLE_ITRS_TO_TIRS</a>.</p>

</div>
</div>
<a id="a1f29810393108d15fd8312a2a95158dc" name="a1f29810393108d15fd8312a2a95158dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f29810393108d15fd8312a2a95158dc">&#9670;&#160;</a></span>novas_hor_track()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_hor_track </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a></td>          <td class="paramname"><span class="paramname"><em>ref_model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__track.html">novas_track</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>track</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates horizontal tracking position and motion (first and second time derivatives) for the specified source in the given observing frame. The position and its derivatives are calculated via the more precise IAU2006 method, and CIRS, and then converted to local horizontal coordinates using the specified refraction model (if any).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">source</td><td>Observed source </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>Observing frame, defining the observer location and astronomical time of observation. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ref_model</td><td>Refraction model to use, or NULL for an unrefracted track. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">track</td><td>Output tracking parameters to populate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if any of the pointer arguments are NULL, or else an error code from <a class="el" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos()</a>, or from novas_app_hor().</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a57f4a449754c88cfc87df658a6bc4cb2">novas_equ_track()</a>, <a class="el" href="#a225a2e33684d2c1fe769e5aa718a182a">novas_track_pos()</a> </dd></dl>

<p class="reference">References <a class="el" href="structsky__pos.html#ac4ae7989694321b540abb75c30eec690">sky_pos::dec</a>, <a class="el" href="structsky__pos.html#aeedff25e8c80502a891e8af33d35b3c0">sky_pos::dis</a>, <a class="el" href="structnovas__timespec.html#a696e598955615f729a92870c8213a10c">novas_timespec::fjd_tt</a>, <a class="el" href="equinox_8c.html#aea0e1028baf14d16d9de800e36a17086">ira_equinox()</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3a1665bf146ca1a4d11380bf4d7d9d7058">NOVAS_AIRBORNE_OBSERVER</a>, <a class="el" href="#a3cd947f2e48d6c5cc88ad7a1bab9b8ca">novas_app_to_hor()</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eacbee2de517939c156e61fb5f9631e044">NOVAS_CIRS</a>, <a class="el" href="#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a>, <a class="el" href="novas_8h.html#a6140c39d1526b137f827e2091ecc36b3aadb64b75d1bf5344760b942f241e52e8">NOVAS_OBSERVER_ON_EARTH</a>, <a class="el" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos()</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="el" href="novas_8h.html#ab970f5de5d5e04874cb31865459b0b4fa1096785746d1a9bc678ea2c51fc21055">NOVAS_TRUE_EQUINOX</a>, <a class="el" href="spectral_8c.html#aa54cd00024b294d38fa29433c017c65f">novas_v2z()</a>, <a class="el" href="structsky__pos.html#a713a0c71a86d92fa6892fdb2cb7c9422">sky_pos::ra</a>, <a class="el" href="structsky__pos.html#ad9e8b5daff39072d109a6f4f1fa61f55">sky_pos::rv</a>, and <a class="el" href="novas_8h.html#a462bdac0f370f0c5b421ae5b3f3e35f2">SKY_POS_INIT</a>.</p>

</div>
</div>
<a id="ad2081e123024609d3071b33b183502b7" name="ad2081e123024609d3071b33b183502b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2081e123024609d3071b33b183502b7">&#9670;&#160;</a></span>novas_invert_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_invert_transform </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__transform.html">novas_transform</a> *</td>          <td class="paramname"><span class="paramname"><em>transform</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__transform.html">novas_transform</a> *</td>          <td class="paramname"><span class="paramname"><em>inverse</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inverts a novas coordinate transformation matrix.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">transform</td><td>Pointer to a coordinate transformation matrix. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">inverse</td><td>Pointer to a coordinate transformation matrix to populate with the inverse transform. It may be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if the was an error (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform()</a> </dd></dl>

<p class="reference">References <a class="el" href="structnovas__transform.html#ac528fe7349274fecff6a0c7742414308">novas_transform::matrix</a>.</p>

</div>
</div>
<a id="adc72577f99a7b076b23e0e44ddbca838" name="adc72577f99a7b076b23e0e44ddbca838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc72577f99a7b076b23e0e44ddbca838">&#9670;&#160;</a></span>novas_make_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_make_frame </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56">novas_accuracy</a></td>          <td class="paramname"><span class="paramname"><em>accuracy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobserver.html">observer</a> *</td>          <td class="paramname"><span class="paramname"><em>obs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__timespec.html">novas_timespec</a> *</td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>xp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>yp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__frame.html">novas_frame</a> *</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets up a observing frame for a specific observer location, time of observation, and accuracy requirement. The frame is initialized using the currently configured planet ephemeris provider function (see <a class="el" href="plugin_8c.html#a9904c454bc7148b42d0f927b82ea3973">set_planet_provider()</a> and <a class="el" href="plugin_8c.html#a418f45a11ce7f92ba0ef817558415640">set_planet_provider_hp()</a>), and in case of reduced accuracy mode, the currently configured IAU nutation model provider (see <a class="el" href="plugin_8c.html#a694288eb631d6a69ecf313b7b5b4a677">set_nutation_lp_provider()</a>).</p>
<p>Note, that to construct full accuracy frames, you will need a high-precision ephemeris provider for the major planets (not just the default Earth/Sun), as without it, gravitational bending around massive plannets cannot be accounted for, and therefore &mu;as accuracy cannot be ensured, in general. Attempting to construct a high-accuracy frame without a high-precision ephemeris provider for the major planets will result in an error in the 10&ndash;40 range from the required <a class="el" href="place_8c.html#a713982e1f2bae0a72b39d03007f00d23">ephemeris()</a> call.</p>
<p>NOTES: </p><ol>
<li>
This function expects the Earth polar wobble parameters to be defined on a per-frame basis and will not use the legacy global (undated) orientation parameters set via <a class="el" href="equinox_8c.html#a8937180de2ee1545d19b8fc840f35fe2">cel_pole()</a>. </li>
<li>
The Earth orientation parameters xp, yp should be provided in the same ITRF realization as the observer location for an Earth-based observer. You can use <code><a class="el" href="itrf_8c.html#a3c8c9b8f709d1e5a7aa3a915f8fafcbb">novas_itrf_transform_eop()</a></code> to convert the EOP values as necessary. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">accuracy</td><td>Accuracy requirement, NOVAS_FULL_ACCURACY (0) for the utmost precision or NOVAS_REDUCED_ACCURACY (1) if ~1 mas accuracy is sufficient. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">obs</td><td>Observer location </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">time</td><td>Time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">xp</td><td>[mas] Earth orientation parameter, polar offset in <em>x</em>, e.g. from the IERS Bulletins, and possibly corrected for diurnal and semi-diurnal variations, e.g. via <code><a class="el" href="earth_8c.html#a3fe699281044873f4137344b28884cea">novas_diurnal_eop()</a></code>. (The global, undated value set by <a class="el" href="equinox_8c.html#a8937180de2ee1545d19b8fc840f35fe2">cel_pole()</a> is not not used here.) You can use 0.0 if sub-arcsecond accuracy is not required. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">yp</td><td>[mas] Earth orientation parameter, polar offset in <em>y</em>, e.g. from the IERS Bulletins, and possibly corrected for diurnal and semi-diurnal variations, e.g. via <code><a class="el" href="earth_8c.html#a3fe699281044873f4137344b28884cea">novas_diurnal_eop()</a></code>. (The global, undated value set by <a class="el" href="equinox_8c.html#a8937180de2ee1545d19b8fc840f35fe2">cel_pole()</a> is not not used here.) You can use 0.0 if sub-arcsecond accuracy is not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">frame</td><td>Pointer to the observing frame to configure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, 10&ndash;40: error is 10 + the error from <a class="el" href="place_8c.html#a713982e1f2bae0a72b39d03007f00d23">ephemeris()</a>, 40&ndash;50: error is 40 + the error from <a class="el" href="earth_8c.html#ada5ca37110e66c8b65f623c9e26ae52e">geo_posvel()</a>, or else -1 if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a2972b3eafa2d7f6c29cff34bad9fcf0d">novas_change_observer()</a>, <a class="el" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos()</a>, <a class="el" href="#ac6652ee3257621080dac342313d0a0a7">novas_geom_posvel()</a>, <a class="el" href="#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform()</a> </dd>
<dd>
<a class="el" href="plugin_8c.html#a9904c454bc7148b42d0f927b82ea3973">set_planet_provider()</a>, <a class="el" href="plugin_8c.html#a418f45a11ce7f92ba0ef817558415640">set_planet_provider_hp()</a>, <a class="el" href="plugin_8c.html#a694288eb631d6a69ecf313b7b5b4a677">set_nutation_lp_provider()</a>, <a class="el" href="earth_8c.html#a3fe699281044873f4137344b28884cea">novas_diurnal_eop()</a>, <a class="el" href="itrf_8c.html#a3c8c9b8f709d1e5a7aa3a915f8fafcbb">novas_itrf_transform_eop()</a> </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#ad9a827bf90bce73ad42f04ed2dd13a9c">novas_frame::accuracy</a>, <a class="el" href="structnovas__frame.html#afb1bb47af5a00647759b897f72a68b58">novas_frame::deps0</a>, <a class="el" href="structnovas__frame.html#a4445e3f8a201b14a5a7068c87507de72">novas_frame::dpsi0</a>, <a class="el" href="structnovas__frame.html#a229d11aff11a7482259d1296b9b70b8a">novas_frame::dx</a>, <a class="el" href="structnovas__frame.html#a9deb6f886b19d50e714d890c3c268efc">novas_frame::dy</a>, <a class="el" href="structnovas__frame.html#aa3a3023bf2e8babb456b88391441c3dc">novas_frame::earth_pos</a>, <a class="el" href="structnovas__frame.html#a099283b966b6937d7e59e10c6ff69760">novas_frame::earth_vel</a>, <a class="el" href="structnovas__frame.html#a622800443dfc347bd82d3752ec60c771">novas_frame::ee</a>, <a class="el" href="place_8c.html#a713982e1f2bae0a72b39d03007f00d23">ephemeris()</a>, <a class="el" href="earth_8c.html#aef1f8daaad470353648de90576aefc66">era()</a>, <a class="el" href="structnovas__frame.html#aa7f218ad801848e38dc25323b8f0197b">novas_frame::era</a>, <a class="el" href="structnovas__timespec.html#a696e598955615f729a92870c8213a10c">novas_timespec::fjd_tt</a>, <a class="el" href="structnovas__frame.html#aef07d7946615098b170225edc81bd4a7">novas_frame::gst</a>, <a class="el" href="structnovas__timespec.html#ab1b769234049ec8d7cdbb22800116184">novas_timespec::ijd_tt</a>, <a class="el" href="equinox_8c.html#af182ee8cc4239f581f746aa974827d61">mean_obliq()</a>, <a class="el" href="structnovas__frame.html#adcbb032bae5aa01bff2501f40527943e">novas_frame::mobl</a>, <a class="el" href="novas_8h.html#a208120c5fa3e12853eb37cb99d3e27beade504a1c5ccf790ce9d8ad52797bb94c">NOVAS_BARYCENTER</a>, <a class="el" href="#a2972b3eafa2d7f6c29cff34bad9fcf0d">novas_change_observer()</a>, <a class="el" href="novas_8h.html#abad802a863342aebe9a40587b4e47bab">NOVAS_EARTH_INIT</a>, <a class="el" href="timescale_8c.html#a32d8336084b65fac14d092ab6198c27d">novas_get_split_time()</a>, <a class="el" href="novas_8h.html#a31bf4a08940bfa3e97ae6a1abee80422">NOVAS_JD_J2000</a>, <a class="el" href="novas_8h.html#a7af86c48f77394688f4ad43eb20760f4">NOVAS_OBSERVER_PLACES</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>, <a class="el" href="novas_8h.html#a6afeda74c9df859ae6504eebfee01092">NOVAS_SUN_INIT</a>, <a class="el" href="novas_8h.html#aa642c4ccc7195dc62fd0dc56567ebd0baa6fc4520426c4c9cbe497ab87f2ad583">NOVAS_UT1</a>, <a class="el" href="nutation_8c.html#a6e9ced7b0aec544ad7b057b58f777ec4">nutation_angles()</a>, <a class="el" href="structnovas__frame.html#ac8ddcc571efb6061ddf9dfbcfffb4cd1">novas_frame::state</a>, <a class="el" href="structnovas__frame.html#a3d3fc00c5477b8f7a9b6593a748949d0">novas_frame::sun_pos</a>, <a class="el" href="structnovas__frame.html#ae949db92ce7c56e4b5ada1b8f80002d3">novas_frame::sun_vel</a>, <a class="el" href="structnovas__frame.html#a5a61c03607da83f2b44b05e68cc50e5b">novas_frame::time</a>, <a class="el" href="structnovas__frame.html#ad68cbc6741fea66373829a8f50307c8e">novas_frame::tobl</a>, <a class="el" href="timescale_8c.html#a129acca41760da486e1179c93cb9e86d">tt2tdb()</a>, and <a class="el" href="structobserver.html#a11f2eb69df64b674d938b34bbb842ab1">observer::where</a>.</p>

</div>
</div>
<a id="a4d179c8573319fc25c775ce56ba055dc" name="a4d179c8573319fc25c775ce56ba055dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d179c8573319fc25c775ce56ba055dc">&#9670;&#160;</a></span>novas_make_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_make_transform </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a></td>          <td class="paramname"><span class="paramname"><em>from_system</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a></td>          <td class="paramname"><span class="paramname"><em>to_system</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnovas__transform.html">novas_transform</a> *</td>          <td class="paramname"><span class="paramname"><em>transform</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates a transformation matrix that can be used to convert positions and velocities from one coordinate reference system to another.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>Observer frame, defining the location and time of observation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">from_system</td><td>Original coordinate reference system </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">to_system</td><td>New coordinate reference system </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">transform</td><td>Pointer to the transform data structure to populate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa77895c891e9eeb4b1541f03acfd154e">novas_transform_vector()</a>, <a class="el" href="#acfcfb90637cd1fdb25ef9afd1bda8e30">novas_transform_sky_pos()</a>, <a class="el" href="#ad2081e123024609d3071b33b183502b7">novas_invert_transform()</a> </dd>
<dd>
<a class="el" href="#ac6652ee3257621080dac342313d0a0a7">novas_geom_posvel()</a>, <a class="el" href="#ab7db8026c598e8e126a4725ac3b388bf">novas_app_to_geom()</a> </dd></dl>

<p class="reference">References <a class="el" href="structnovas__frame.html#aa7f218ad801848e38dc25323b8f0197b">novas_frame::era</a>, <a class="el" href="structnovas__transform.html#a89ed0a18f08c2125a0de2c5825c2bb0c">novas_transform::frame</a>, <a class="el" href="structnovas__transform.html#a5fe73fdfdc0f8933168a1c50df2db4ed">novas_transform::from_system</a>, <a class="el" href="structnovas__frame.html#a568001e7fc428917d58d1ac16fecb1af">novas_frame::gcrs_to_cirs</a>, <a class="el" href="structnovas__frame.html#ad28815abec2847e4ab01a17dab76f0c5">novas_frame::icrs_to_j2000</a>, <a class="el" href="structnovas__matrix.html#ac842f2eec8c8b880e2aca8792d63359b">novas_matrix::M</a>, <a class="el" href="structnovas__transform.html#ac528fe7349274fecff6a0c7742414308">novas_transform::matrix</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eacbee2de517939c156e61fb5f9631e044">NOVAS_CIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea8c3e21e3d68b39b0b0ca28f99b8cacf4">NOVAS_GCRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea826bda7744c11bc1560f4db1848a17c6">NOVAS_ITRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ead110200de7f232d9110467c0862733d9">NOVAS_J2000</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5a2a55ff66f97310a9641d7ffa60b8dd">NOVAS_MOD</a>, <a class="el" href="novas_8h.html#ae55994629ca97e634b1bb97aafb3f49b">NOVAS_REFERENCE_SYSTEMS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea524041fc2059f8432b76fad1b8edb89f">NOVAS_TIRS</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651eaa4bcd4fdb15ba77023241689a5608df3">NOVAS_TOD</a>, <a class="el" href="structnovas__frame.html#af75d534436e4c2442aae1fbb3572a372">novas_frame::nutation</a>, <a class="el" href="structnovas__frame.html#ab0ba4960aa038a40165a7131684c6853">novas_frame::precession</a>, and <a class="el" href="structnovas__transform.html#a8dac6a5c4bdc0e667bdc9eb7c7bb7094">novas_transform::to_system</a>.</p>

</div>
</div>
<a id="a121940d7f0ef41297d28fab8e6df5998" name="a121940d7f0ef41297d28fab8e6df5998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a121940d7f0ef41297d28fab8e6df5998">&#9670;&#160;</a></span>novas_moon_angle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double novas_moon_angle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the apparent angular distance of a source from the Moon from the observer's point of view.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>An observed source </td></tr>
    <tr><td class="paramname">frame</td><td>Observing frame, defining the observer location and astronomical time of observation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[deg] Apparent angular distance between the source an the Moon, from the observer's point of view.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a2d1ef3bc6d99aa473511e45c6e0481e9">novas_sun_angle()</a> </dd></dl>

<p class="reference">References <a class="el" href="novas_8h.html#a4cbd3c168b9357e3af2274252a6d1a5b">NOVAS_MOON_INIT</a>, and <a class="el" href="#afa5f3a823a895bed01876df6b2a00370">novas_object_sep()</a>.</p>

</div>
</div>
<a id="afa5f3a823a895bed01876df6b2a00370" name="afa5f3a823a895bed01876df6b2a00370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa5f3a823a895bed01876df6b2a00370">&#9670;&#160;</a></span>novas_object_sep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double novas_object_sep </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *</td>          <td class="paramname"><span class="paramname"><em>source1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *</td>          <td class="paramname"><span class="paramname"><em>source2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the angular separation of two objects from the observer's point of view. The calculated separation includes light-time corrections, aberration and gravitational deflection for both sources, and thus represents a precise observed separation between the two sources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source1</td><td>An observed source </td></tr>
    <tr><td class="paramname">source2</td><td>Another observed source </td></tr>
    <tr><td class="paramname">frame</td><td>Observing frame, defining the observer location and astronomical time of observation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[deg] Apparent angular separation between the two observed source from the observer's point-of-view.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="util_8c.html#a9f33de2b26a19a5e20827e9e918b3375">novas_sep()</a>, <a class="el" href="#a2d1ef3bc6d99aa473511e45c6e0481e9">novas_sun_angle()</a>, <a class="el" href="#a121940d7f0ef41297d28fab8e6df5998">novas_moon_angle()</a> </dd></dl>

<p class="reference">References <a class="el" href="structsky__pos.html#ac4ae7989694321b540abb75c30eec690">sky_pos::dec</a>, <a class="el" href="structsky__pos.html#aeedff25e8c80502a891e8af33d35b3c0">sky_pos::dis</a>, <a class="el" href="util_8c.html#a4f7e06b2fa5b3145b37aec4f9c2d1602">novas_equ_sep()</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea8c3e21e3d68b39b0b0ca28f99b8cacf4">NOVAS_GCRS</a>, <a class="el" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos()</a>, <a class="el" href="structsky__pos.html#a713a0c71a86d92fa6892fdb2cb7c9422">sky_pos::ra</a>, and <a class="el" href="novas_8h.html#a462bdac0f370f0c5b421ae5b3f3e35f2">SKY_POS_INIT</a>.</p>

</div>
</div>
<a id="aaf38f64304fa0b00c9c56cead62043f3" name="aaf38f64304fa0b00c9c56cead62043f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf38f64304fa0b00c9c56cead62043f3">&#9670;&#160;</a></span>novas_rises_above()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double novas_rises_above </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>el</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a></td>          <td class="paramname"><span class="paramname"><em>ref_model</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the UTC date at which a distant source appears to rise above the specified elevation angle. The calculated time will account for the (slow) motion for Solar-system bodies, and optionally for atmospheric refraction also.</p>
<p>NOTES: </p><ol>
<li>
The current implementation is not suitable for calculating the nearest successive rise times for near-Earth objects, at or within the geostationary orbit. </li>
<li>
This function calculates the time when the center (not the limb!) of the source rises above the specified elevation threshold. Something to keep in mind for calculating Sun/Moon rise times. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">el</td><td>[deg] Elevation angle. </td></tr>
    <tr><td class="paramname">source</td><td>Observed source </td></tr>
    <tr><td class="paramname">frame</td><td>Observing frame, defining the observer location and astronomical time of observation. </td></tr>
    <tr><td class="paramname">ref_model</td><td>Refraction model, or NULL to calculate unrefracted rise time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[day] UTC-based Julian date at which the object rises above the specified elevation next after the specified date, or else NAN if the source stays above or below the given elevation for the entire 24-hour period.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a23af09cd8e5ec5ef4d0b03a347a4add0">novas_sets_below()</a>, <a class="el" href="#ad04f1ebd7b2d39e5258b152fec231001">novas_transit_time()</a> </dd></dl>

</div>
</div>
<a id="a23af09cd8e5ec5ef4d0b03a347a4add0" name="a23af09cd8e5ec5ef4d0b03a347a4add0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23af09cd8e5ec5ef4d0b03a347a4add0">&#9670;&#160;</a></span>novas_sets_below()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double novas_sets_below </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>el</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="novas_8h.html#ad4899a6116cfbbe17400e7ef0c8426a9">RefractionModel</a></td>          <td class="paramname"><span class="paramname"><em>ref_model</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the UTC date at which a distant source appears to set below the specified elevation angle. The calculated time will account for the (slow) motion of Solar-system bodies, and optionally for atmopsheric refraction also.</p>
<p>NOTES: </p><ol>
<li>
The current implementation is not suitable for calculating the nearest successive set times for near-Earth objects, at or within the geostationary orbit. </li>
<li>
This function calculates the time when the center (not the limb!) of the source sets below the specified elevation threshold. Something to keep in mind for calculating Sun/Moon rise times. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">el</td><td>[deg] Elevation angle. </td></tr>
    <tr><td class="paramname">source</td><td>Observed source </td></tr>
    <tr><td class="paramname">frame</td><td>Observing frame, defining the observer location and astronomical time of observation. </td></tr>
    <tr><td class="paramname">ref_model</td><td>Refraction model, or NULL to calculate unrefracted setting time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[day] UTC-based Julian date at which the object sets below the specified elevation next after the specified date, or else NAN if the source stays above or below the given elevation for the entire 24-hour day..</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aaf38f64304fa0b00c9c56cead62043f3">novas_rises_above()</a>, <a class="el" href="#ad04f1ebd7b2d39e5258b152fec231001">novas_transit_time()</a> </dd></dl>

</div>
</div>
<a id="ac365a1e015ae1f875dc5a66fd5435b2f" name="ac365a1e015ae1f875dc5a66fd5435b2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac365a1e015ae1f875dc5a66fd5435b2f">&#9670;&#160;</a></span>novas_sky_pos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_sky_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>object</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651e">novas_reference_system</a></td>          <td class="paramname"><span class="paramname"><em>sys</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsky__pos.html">sky_pos</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates an apparent location on sky for the source. The position takes into account the proper motion (for sidereal source), or is antedated for light-travel time (for Solar-System bodies). It also applies an appropriate aberration correction and gravitational deflection of the light.</p>
<p>To calculate corresponding local horizontal coordinates, you can pass the output RA/Dec coordinates to <a class="el" href="#a3cd947f2e48d6c5cc88ad7a1bab9b8ca">novas_app_to_hor()</a>. Or to calculate apparent coordinates in other systems, you may pass the result to novas_transform_sy_pos() after.</p>
<p>And if you want geometric positions instead (not corrected for aberration or gravitational deflection), you may want to use <a class="el" href="#ac6652ee3257621080dac342313d0a0a7">novas_geom_posvel()</a> instead.</p>
<p>The approximate 'inverse' of this function is <a class="el" href="#ab7db8026c598e8e126a4725ac3b388bf">novas_app_to_geom()</a>.</p>
<p>This function implements the same aberration and gravitational deflection corrections as <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code>, but at reduced computational cost. See <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code> for references. Unlike <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code>, however, the output always reports the distance calculated from the parallax for sidereal sources. Note also, that while <code><a class="el" href="place_8c.html#aca09ed0d2379ac4a4841c9e3edeeee4c">place()</a></code> does not apply aberration and gravitational deflection corrections when <code>sys</code> is NOVAS_ICRS (3), this routine will apply those corrections consistently for all coordinate systems (and you can use <a class="el" href="#ac6652ee3257621080dac342313d0a0a7">novas_geom_posvel()</a> instead to get positions without aberration or deflection in any system).</p>
<p>NOTES: </p><ol>
<li>
As of SuperNOVAS v1.3, the returned radial velocity component is a proper observer-based spectroscopic measure. In prior releases, and in NOVAS C 3.1, this was inconsistent, with LSR-based measures being returned for catalog sources. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">object</td><td>Pointer to a celestial object data structure that is observed. Catalog sources should have coordinates and properties in ICRS. You can use <code><a class="el" href="target_8c.html#abe0c6e6fc60a49efa88c365aef8cdc50">transform_cat()</a></code> to convert catalog entries to ICRS as necessary. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">frame</td><td>The observer frame, defining the location and time of observation. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">sys</td><td>The coordinate system in which to return the apparent sky location. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Pointer to the data structure which is populated with the calculated apparent location in the designated coordinate system. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, 50&ndash;70 error is 50 + error from <a class="el" href="observer_8c.html#a5c940b62732d74e6c6b1c844931aaa76">light_time2()</a>, 70&ndash;80 error is 70 + error from <a class="el" href="grav_8c.html#a48f90ac20950507fad9b880a7f7f2383">grav_def()</a>, or else -1 (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a4817703c9357f702a27812584c91f87c">novas_geom_to_app()</a>, <a class="el" href="#a3cd947f2e48d6c5cc88ad7a1bab9b8ca">novas_app_to_hor()</a>, <a class="el" href="#adc72577f99a7b076b23e0e44ddbca838">novas_make_frame()</a> </dd></dl>

<p class="reference">References <a class="el" href="grav_8c.html#ae36bc31e1dad8a68f94f7a6414f0519f">grav_planets()</a>, <a class="el" href="novas_8h.html#a1eecb357eeea0de4759e9c8d55af238fa4f9ab9cec85498c41f90c33794d032e5">NOVAS_CATALOG_OBJECT</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56aebffd24170ffab949609a8dcfc201660">NOVAS_FULL_ACCURACY</a>, <a class="el" href="#ac6652ee3257621080dac342313d0a0a7">novas_geom_posvel()</a>, <a class="el" href="#a4817703c9357f702a27812584c91f87c">novas_geom_to_app()</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, <a class="el" href="novas_8h.html#a3cba2735c32163fab062b1a904a83b56a2047c8bae25010adb60d895a83079846">NOVAS_REDUCED_ACCURACY</a>, <a class="el" href="util_8c.html#a0f41cefb8c872973b07e936b5026d143">novas_vlen()</a>, <a class="el" href="spectral_8c.html#a37f22e463cc06b4e381aa18659e6319d">rad_vel2()</a>, and <a class="el" href="structobject.html#a2cc80aad5c0303449e2412b122504a10">object::type</a>.</p>

</div>
</div>
<a id="ac780bd907a12957995d36ad916dd4ec1" name="ac780bd907a12957995d36ad916dd4ec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac780bd907a12957995d36ad916dd4ec1">&#9670;&#160;</a></span>novas_solar_illum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double novas_solar_illum </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the Solar illumination fraction of a source, assuming a spherical geometry for the observed body.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>Observed source. Usually a Solar-system source. (For other source types, 1.0 is returned by default.) </td></tr>
    <tr><td class="paramname">frame</td><td>Observing frame, defining the observer location and astronomical time of observation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Solar illumination fraction [0.0:1.0] of a spherical body observed at the source location from the given observer location, or NAN if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>

<p class="reference">References <a class="el" href="novas_8h.html#a1eecb357eeea0de4759e9c8d55af238fa4f9ab9cec85498c41f90c33794d032e5">NOVAS_CATALOG_OBJECT</a>, <a class="el" href="#ac6652ee3257621080dac342313d0a0a7">novas_geom_posvel()</a>, <a class="el" href="novas_8h.html#a7ba038ea34eb901ccfb8f785708c651ea5bf6e497c776a4a8168b23db062e8a10">NOVAS_ICRS</a>, and <a class="el" href="util_8c.html#a0f41cefb8c872973b07e936b5026d143">novas_vlen()</a>.</p>

</div>
</div>
<a id="a2d1ef3bc6d99aa473511e45c6e0481e9" name="a2d1ef3bc6d99aa473511e45c6e0481e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d1ef3bc6d99aa473511e45c6e0481e9">&#9670;&#160;</a></span>novas_sun_angle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double novas_sun_angle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the apparent angular distance of a source from the Sun from the observer's point of view.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>An observed source </td></tr>
    <tr><td class="paramname">frame</td><td>Observing frame, defining the observer location and astronomical time of observation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[deg] the apparent angular distance between the source an the Sun, from the observer's point of view.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a121940d7f0ef41297d28fab8e6df5998">novas_moon_angle()</a> </dd></dl>

<p class="reference">References <a class="el" href="#afa5f3a823a895bed01876df6b2a00370">novas_object_sep()</a>, and <a class="el" href="novas_8h.html#a6afeda74c9df859ae6504eebfee01092">NOVAS_SUN_INIT</a>.</p>

</div>
</div>
<a id="a225a2e33684d2c1fe769e5aa718a182a" name="a225a2e33684d2c1fe769e5aa718a182a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a225a2e33684d2c1fe769e5aa718a182a">&#9670;&#160;</a></span>novas_track_pos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_track_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnovas__track.html">novas_track</a> *</td>          <td class="paramname"><span class="paramname"><em>track</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__timespec.html">novas_timespec</a> *</td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>lon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>dist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>z</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates a projected position and redshift for a source, given the available tracking position and derivatives. Using 'tracks' to project positions can be much faster than the repeated full recalculation of the source position over some short period.</p>
<p>In SuperNOVAS terminology a 'track' is a 2nd order Taylor series expansion of the observed position and redshift in time. For most but the fastest moving sources, horizontal (Az/El) tracks are sufficiently precise on minute timescales, whereas depending on the type of source equatorial tracks can be precise for up to days.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">track</td><td>Tracking position and motion (first and second derivatives) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">time</td><td>Astrometric time of observation </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lon</td><td>[deg] projected observed Eastward longitude in tracking coordinate system </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lat</td><td>[deg] projected observed latitude in tracking coordinate system </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dist</td><td>[AU] projected apparent distance to source from observer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">z</td><td>projected observed redshift </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if either input pointer is NULL (errno is set to EINVAL).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a57f4a449754c88cfc87df658a6bc4cb2">novas_equ_track()</a>, <a class="el" href="#a1f29810393108d15fd8312a2a95158dc">novas_hor_track()</a> </dd>
<dd>
<a class="el" href="spectral_8c.html#a63621cea3b4985c1bfcc4514a7aa3fb1">novas_z2v()</a> </dd></dl>

<p class="reference">References <a class="el" href="structnovas__track.html#a8e9a1a492f74f76fb441e62bdd0df852">novas_track::accel</a>, <a class="el" href="structnovas__observable.html#accf93555161c9eedf006462a228af523">novas_observable::dist</a>, <a class="el" href="structnovas__observable.html#a7972334534f68166121a6e51b0aac2d6">novas_observable::lat</a>, <a class="el" href="structnovas__observable.html#aa96391e04b5977c50b96d77bea86a01d">novas_observable::lon</a>, <a class="el" href="timescale_8c.html#abdcc8e194d79787838d1ffc064449932">novas_diff_time()</a>, <a class="el" href="structnovas__track.html#ab572f04f2fbe8dd7174a07d4ae914706">novas_track::pos</a>, <a class="el" href="structnovas__track.html#a08de80b2751625d418f907fe7ce0c2e3">novas_track::rate</a>, <a class="el" href="structnovas__track.html#a5a61c03607da83f2b44b05e68cc50e5b">novas_track::time</a>, and <a class="el" href="structnovas__observable.html#ab3e6ed577a7c669c19de1f9c1b46c872">novas_observable::z</a>.</p>

</div>
</div>
<a id="acfcfb90637cd1fdb25ef9afd1bda8e30" name="acfcfb90637cd1fdb25ef9afd1bda8e30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfcfb90637cd1fdb25ef9afd1bda8e30">&#9670;&#160;</a></span>novas_transform_sky_pos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_transform_sky_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsky__pos.html">sky_pos</a> *</td>          <td class="paramname"><span class="paramname"><em>in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__transform.html">novas_transform</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>transform</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsky__pos.html">sky_pos</a> *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transforms a position or velocity 3-vector from one coordinate reference system to another.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">in</td><td>Input apparent position on sky in the original coordinate reference system </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">transform</td><td>Pointer to a coordinate transformation matrix </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Output apparent position on sky in the new coordinate reference system. It may be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ac365a1e015ae1f875dc5a66fd5435b2f">novas_sky_pos()</a>, <a class="el" href="#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform()</a>, <a class="el" href="#aa77895c891e9eeb4b1541f03acfd154e">novas_transform_vector()</a> </dd></dl>

<p class="reference">References <a class="el" href="structsky__pos.html#ac4ae7989694321b540abb75c30eec690">sky_pos::dec</a>, <a class="el" href="structsky__pos.html#a5fd669be4d5224aa192afa368a6e3173">sky_pos::r_hat</a>, <a class="el" href="structsky__pos.html#a713a0c71a86d92fa6892fdb2cb7c9422">sky_pos::ra</a>, and <a class="el" href="util_8c.html#a84f672dc1c37e3af374198f29cbcfba9">vector2radec()</a>.</p>

</div>
</div>
<a id="aa77895c891e9eeb4b1541f03acfd154e" name="aa77895c891e9eeb4b1541f03acfd154e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa77895c891e9eeb4b1541f03acfd154e">&#9670;&#160;</a></span>novas_transform_vector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_transform_vector </td>
          <td>(</td>
          <td class="paramtype">const double *</td>          <td class="paramname"><span class="paramname"><em>in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__transform.html">novas_transform</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>transform</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transforms a position or velocity 3-vector from one coordinate reference system to another.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">in</td><td>Input 3-vector in the original coordinate reference system </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">transform</td><td>Pointer to a coordinate transformation matrix </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Output 3-vector in the new coordinate reference system. It may be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if there was an error (errno will indicate the type of error).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.1 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a4d179c8573319fc25c775ce56ba055dc">novas_make_transform()</a>, novas_transform_skypos() </dd></dl>

</div>
</div>
<a id="ad04f1ebd7b2d39e5258b152fec231001" name="ad04f1ebd7b2d39e5258b152fec231001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad04f1ebd7b2d39e5258b152fec231001">&#9670;&#160;</a></span>novas_transit_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double novas_transit_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structobject.html">object</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>source</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnovas__frame.html">novas_frame</a> *restrict</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the UTC date at which a source transits the local meridian. The calculated time will account for the (slow) motion of Solar-system bodies.</p>
<p>NOTES: </p><ol>
<li>
The current implementation is not suitable for calculating the nearest successive transit times for near-Earth objects, at or within the geostationary orbit. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>Observed source </td></tr>
    <tr><td class="paramname">frame</td><td>Observing frame, defining the observer location and astronomical time of observation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[day] UTC-based Julian date at which the object transits the local meridian next after the specified date, or NAN if either input pointer is NULL.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.3 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aaf38f64304fa0b00c9c56cead62043f3">novas_rises_above()</a>, <a class="el" href="#a23af09cd8e5ec5ef4d0b03a347a4add0">novas_sets_below()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="frames_8c.html">frames.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
