<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuperNOVAS: /github/workspace/src/itrf.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="smithsonian-logo-55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">SuperNOVAS<span id="projectnumber">&#160;v1.5</span>
   </div>
   <div id="projectbrief">The NOVAS C library, made better</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('itrf_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">itrf.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Transformations of station coordinates, velocities, and Earth orinetation parameters (EOP) between various ITRF realizations, and conversion between Cartesian (x, y, z) and geodetic (longitude, latitude, altitude) coordinates w.r.t.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7479134485c298faa858d73ee0513a11" id="r_a7479134485c298faa858d73ee0513a11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7479134485c298faa858d73ee0513a11">novas_cartesian_to_geodetic</a> (const double *restrict xyz, enum <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3">novas_reference_ellipsoid</a> ellipsoid, double *restrict lon, double *restrict lat, double *restrict alt)</td></tr>
<tr class="memdesc:a7479134485c298faa858d73ee0513a11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts geocentric Cartesian site coordinates to geodetic coordinates on the given reference ellipsoid.  <br /></td></tr>
<tr class="separator:a7479134485c298faa858d73ee0513a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab07d86d425d68a62e94e965dd36b7a32" id="r_ab07d86d425d68a62e94e965dd36b7a32"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab07d86d425d68a62e94e965dd36b7a32">novas_geodetic_to_cartesian</a> (double lon, double lat, double alt, enum <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3">novas_reference_ellipsoid</a> ellipsoid, double *xyz)</td></tr>
<tr class="memdesc:ab07d86d425d68a62e94e965dd36b7a32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts geodetic site coordinates to geocentric Cartesian coordinates, using the specified reference ellipsoid.  <br /></td></tr>
<tr class="separator:ab07d86d425d68a62e94e965dd36b7a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd71f60a1f042af1eb7103134fad8c4" id="r_adcd71f60a1f042af1eb7103134fad8c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adcd71f60a1f042af1eb7103134fad8c4">novas_geodetic_transform_site</a> (enum <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3">novas_reference_ellipsoid</a> from_ellipsoid, const <a class="el" href="structon__surface.html">on_surface</a> *in, enum <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3">novas_reference_ellipsoid</a> to_ellipsoid, <a class="el" href="structon__surface.html">on_surface</a> *out)</td></tr>
<tr class="memdesc:adcd71f60a1f042af1eb7103134fad8c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transforms a geodetic location from one reference ellipsoid to another.  <br /></td></tr>
<tr class="separator:adcd71f60a1f042af1eb7103134fad8c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd98ed01148f1291018809d77785527f" id="r_afd98ed01148f1291018809d77785527f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd98ed01148f1291018809d77785527f">novas_itrf_transform</a> (int from_year, const double *restrict from_coords, const double *restrict from_rates, int to_year, double *to_coords, double *to_rates)</td></tr>
<tr class="memdesc:afd98ed01148f1291018809d77785527f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts ITRF coordinates between different realizations of the ITRF coordinate system.  <br /></td></tr>
<tr class="separator:afd98ed01148f1291018809d77785527f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c8c9b8f709d1e5a7aa3a915f8fafcbb" id="r_a3c8c9b8f709d1e5a7aa3a915f8fafcbb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c8c9b8f709d1e5a7aa3a915f8fafcbb">novas_itrf_transform_eop</a> (int from_year, double from_xp, double from_yp, double from_dut1, int to_year, double *restrict to_xp, double *restrict to_yp, double *restrict to_dut1)</td></tr>
<tr class="memdesc:a3c8c9b8f709d1e5a7aa3a915f8fafcbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transforms Earth orientation parameters (xp, yp, dUT1) from one ITRF realization to another.  <br /></td></tr>
<tr class="separator:a3c8c9b8f709d1e5a7aa3a915f8fafcbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad252294c7d4b3e62609c21f7550e2d09" id="r_ad252294c7d4b3e62609c21f7550e2d09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad252294c7d4b3e62609c21f7550e2d09">novas_itrf_transform_site</a> (int from_year, const <a class="el" href="structon__surface.html">on_surface</a> *in, int to_year, <a class="el" href="structon__surface.html">on_surface</a> *out)</td></tr>
<tr class="memdesc:ad252294c7d4b3e62609c21f7550e2d09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transforms a geodetic location between two International Terrestrial Reference Frame (ITRF) realizations.  <br /></td></tr>
<tr class="separator:ad252294c7d4b3e62609c21f7550e2d09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Transformations of station coordinates, velocities, and Earth orinetation parameters (EOP) between various ITRF realizations, and conversion between Cartesian (x, y, z) and geodetic (longitude, latitude, altitude) coordinates w.r.t. </p>
<p>the reference ellipsoid.</p>
<p>REFERENCES: </p><ol>
<li>
ITRS Conventions Chapter 4, see <a href="https://iers-conventions.obspm.fr/content/chapter4/icc4.pdf">https://iers-conventions.obspm.fr/content/chapter4/icc4.pdf</a> </li>
</ol>
<dl class="section date"><dt>Date</dt><dd>Created on Aug 26, 2025 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="observer_8c.html" title="This module provides a set of functions that define an astronomical observer location,...">observer.c</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7479134485c298faa858d73ee0513a11" name="a7479134485c298faa858d73ee0513a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7479134485c298faa858d73ee0513a11">&#9670;&#160;</a></span>novas_cartesian_to_geodetic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_cartesian_to_geodetic </td>
          <td>(</td>
          <td class="paramtype">const double *restrict</td>          <td class="paramname"><span class="paramname"><em>xyz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3">novas_reference_ellipsoid</a></td>          <td class="paramname"><span class="paramname"><em>ellipsoid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>lon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>alt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts geocentric Cartesian site coordinates to geodetic coordinates on the given reference ellipsoid. </p>
<p>NOTES: </p><ol>
<li>
Adapted from the IERS <code>GCONV2.F</code> source code, see <a href="https://iers-conventions.obspm.fr/content/chapter4/software/GCONV2.F">https://iers-conventions.obspm.fr/content/chapter4/software/GCONV2.F</a>.  </li>
</ol>
<p>REFERENCES: </p><ol>
<li>
Fukushima, T., "Transformation from Cartesian to geodetic
    coordinates accelerated by Halley's method", J. Geodesy (2006), 79(12): 689-693  </li>
<li>
Petit, G. and Luzum, B. (eds.), IERS Conventions (2010), IERS Technical Note No. 36, BKG (2010)  </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">xyz</td><td>[m] Input geocentric Cartesian coordinates (x, y, z) 3-vector. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ellipsoid</td><td>Reference ellipsoid to use. For ITRF use <code>NOVAS_GRS80_ELLIPSOID</code>, for GPS related applications use <code>NOVAS_WGS84_ELLIPSOID</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lon</td><td>[deg] Geodetic longitude. It may be NULL if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lat</td><td>[deg] Geodetic latitude. It may be NULL if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">alt</td><td>[m] Geodetic altitude (i.e. above sea level). It may be NULL if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if the input vector is NULL (errno is set to EINVAL).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ab07d86d425d68a62e94e965dd36b7a32" title="Converts geodetic site coordinates to geocentric Cartesian coordinates, using the specified reference...">novas_geodetic_to_cartesian()</a> </dd>
<dd>
<a class="el" href="#afd98ed01148f1291018809d77785527f" title="Converts ITRF coordinates between different realizations of the ITRF coordinate system.">novas_itrf_transform()</a>, <a class="el" href="#ad252294c7d4b3e62609c21f7550e2d09" title="Transforms a geodetic location between two International Terrestrial Reference Frame (ITRF) realizati...">novas_itrf_transform_site()</a> </dd></dl>

<p class="reference">References <a class="el" href="novas_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>, <a class="el" href="novas_8h.html#ae283901f9a884acc6c5b88c6afb040b4">NOVAS_GRS80_FLATTENING</a>, and <a class="el" href="novas_8h.html#a5518e094e90ed1053aeb03c41d531452">NOVAS_GRS80_RADIUS</a>.</p>

</div>
</div>
<a id="ab07d86d425d68a62e94e965dd36b7a32" name="ab07d86d425d68a62e94e965dd36b7a32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab07d86d425d68a62e94e965dd36b7a32">&#9670;&#160;</a></span>novas_geodetic_to_cartesian()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_geodetic_to_cartesian </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>lon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>lat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>alt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3">novas_reference_ellipsoid</a></td>          <td class="paramname"><span class="paramname"><em>ellipsoid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>xyz</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts geodetic site coordinates to geocentric Cartesian coordinates, using the specified reference ellipsoid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lon</td><td>[deg] Geodetic longitude </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lat</td><td>[deg] Geodetic latitude </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">alt</td><td>[m] Geodetic altitude (i.e. above sea level). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ellipsoid</td><td>Reference ellipsoid to use. For ITRF use <code>NOVAS_GRS80_ELLIPSOID</code>, for GPS related applications use <code>NOVAS_WGS84_ELLIPSOID</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">xyz</td><td>[m] Corresponding geocentric Cartesian coordinates (x, y, z) 3-vector. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if the output vector is NULL (errno is set to EINVAL).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a7479134485c298faa858d73ee0513a11" title="Converts geocentric Cartesian site coordinates to geodetic coordinates on the given reference ellipso...">novas_cartesian_to_geodetic()</a> </dd>
<dd>
<a class="el" href="#ad252294c7d4b3e62609c21f7550e2d09" title="Transforms a geodetic location between two International Terrestrial Reference Frame (ITRF) realizati...">novas_itrf_transform_site()</a>, <a class="el" href="#afd98ed01148f1291018809d77785527f" title="Converts ITRF coordinates between different realizations of the ITRF coordinate system.">novas_itrf_transform()</a> </dd></dl>

<p class="reference">References <a class="el" href="novas_8h.html#ae283901f9a884acc6c5b88c6afb040b4">NOVAS_GRS80_FLATTENING</a>, and <a class="el" href="novas_8h.html#a5518e094e90ed1053aeb03c41d531452">NOVAS_GRS80_RADIUS</a>.</p>

</div>
</div>
<a id="adcd71f60a1f042af1eb7103134fad8c4" name="adcd71f60a1f042af1eb7103134fad8c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcd71f60a1f042af1eb7103134fad8c4">&#9670;&#160;</a></span>novas_geodetic_transform_site()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_geodetic_transform_site </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3">novas_reference_ellipsoid</a></td>          <td class="paramname"><span class="paramname"><em>from_ellipsoid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structon__surface.html">on_surface</a> *</td>          <td class="paramname"><span class="paramname"><em>in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3">novas_reference_ellipsoid</a></td>          <td class="paramname"><span class="paramname"><em>to_ellipsoid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structon__surface.html">on_surface</a> *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transforms a geodetic location from one reference ellipsoid to another. </p>
<p>For example to transform a GPS location (defined on the WGS84 ellipsoid) to an International Terrestrial Reference Frame (ITRF) location (defined on the GRS80 ellipsoid), or vice versa.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">from_ellipsoid</td><td>Reference ellipsoid of the input coordinates. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>Input site, defined on the original reference ellipsoid. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">to_ellipsoid</td><td>Reference ellipsoid for which to calculate output coordinates. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Output site, calculated for the final reference ellipsoid. It may be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if either site pointer is NULL (errno set to EINVAL).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ad252294c7d4b3e62609c21f7550e2d09" title="Transforms a geodetic location between two International Terrestrial Reference Frame (ITRF) realizati...">novas_itrf_transform_site()</a>, <a class="el" href="observer_8c.html#ab5fb62a9fb185632175ae622bce28dea" title="Initializes an observing site with the specified GPS / WGS84 location, and sets mean (annual) weather...">make_gps_site()</a>, <a class="el" href="observer_8c.html#a236750f494f3dcd943e71ba24aa2a55b" title="Initializes an observing site with the specified International Terrestrial Reference Frame (ITRF) / G...">make_itrf_site()</a> </dd></dl>

<p class="reference">References <a class="el" href="structon__surface.html#a89f6abd564014faeff7cd20c340a9c7d">on_surface::height</a>, <a class="el" href="structon__surface.html#a987616dbcfdfc936af3e5874ef5a41e7">on_surface::humidity</a>, <a class="el" href="structon__surface.html#a76714bdbc5c536fa77dfb14533ff82a9">on_surface::latitude</a>, <a class="el" href="structon__surface.html#ac155e35fdeebafc89723a51520fb9fe6">on_surface::longitude</a>, <a class="el" href="#a7479134485c298faa858d73ee0513a11">novas_cartesian_to_geodetic()</a>, <a class="el" href="#ab07d86d425d68a62e94e965dd36b7a32">novas_geodetic_to_cartesian()</a>, <a class="el" href="structon__surface.html#aee1c5d07ac79c5c036195858afe33405">on_surface::pressure</a>, and <a class="el" href="structon__surface.html#ab4b11c8d9c758430960896bc3fe82ead">on_surface::temperature</a>.</p>

</div>
</div>
<a id="afd98ed01148f1291018809d77785527f" name="afd98ed01148f1291018809d77785527f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd98ed01148f1291018809d77785527f">&#9670;&#160;</a></span>novas_itrf_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_itrf_transform </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from_year</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *restrict</td>          <td class="paramname"><span class="paramname"><em>from_coords</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *restrict</td>          <td class="paramname"><span class="paramname"><em>from_rates</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>to_year</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>to_coords</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *</td>          <td class="paramname"><span class="paramname"><em>to_rates</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts ITRF coordinates between different realizations of the ITRF coordinate system. </p>
<p>It does not account for station motions, which the user should apply separately. For example, consider the use case when input coordinates are given in ITRF88, for measurement in the epoch 1994.36, and output is expected in ITRF2000 for measurements at 2006.78. This function simply translates the input, measured in epoch 1994.36, to ITRF2000. Proper motion between the epochs (2006.78 and 1994.36) can be calculated with the input rates before conversion, e.g.:</p>
<div class="fragment"><div class="line"><span class="comment">// Apply station motion in ITRF88</span></div>
<div class="line"><span class="keywordflow">for</span>(i = 0; i &lt; 3; i++)</div>
<div class="line">  from_coords[i] += from_rates[i] * (2006.78 - 1994.36)</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Convert ITRF88 coordinates to ITRF2000</span></div>
<div class="line"><a class="code hl_function" href="#afd98ed01148f1291018809d77785527f">novas_itrf_transform</a>(1988, from_coords, from_rates, 2000, ...);</div>
<div class="ttc" id="aitrf_8c_html_afd98ed01148f1291018809d77785527f"><div class="ttname"><a href="#afd98ed01148f1291018809d77785527f">novas_itrf_transform</a></div><div class="ttdeci">int novas_itrf_transform(int from_year, const double *restrict from_coords, const double *restrict from_rates, int to_year, double *to_coords, double *to_rates)</div><div class="ttdoc">Converts ITRF coordinates between different realizations of the ITRF coordinate system.</div><div class="ttdef"><b>Definition</b> itrf.c:226</div></div>
</div><!-- fragment --><p>or equivalently, after the transformation to ITRF2000, as:</p>
<div class="fragment"><div class="line"><span class="comment">// Convert ITRF88 coordinates to ITRF2000</span></div>
<div class="line"><a class="code hl_function" href="#afd98ed01148f1291018809d77785527f">novas_itrf_transform</a>(1988, from_coords, from_rates, 2000, to_coords, to_rates);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Apply station motion in ITRF2000</span></div>
<div class="line"><span class="keywordflow">for</span>(i = 0; i &lt; 3; i++)</div>
<div class="line">  to_coords[i] += to_rates[i] * (2006.78 - 1994.36)</div>
</div><!-- fragment --><p>REFERENCES: </p><ol>
<li>
IERS Conventions, Chapter 4, Eq. 4.13 and Table 4.1. See <a href="https://iers-conventions.obspm.fr/content/chapter4/icc4.pdf">https://iers-conventions.obspm.fr/content/chapter4/icc4.pdf</a> </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">from_year</td><td>[yr] ITRF realization year of input coordinates / rates. E.g. 1992 for ITRF92. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_coords</td><td>[m] input ITRF coordinates. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_rates</td><td>[m/yr] input ITRF coordinate rates, or NULL if not known or needed. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">to_year</td><td>[yr] ITRF realization year of output coordinates / rates. E.g. 2014 for ITRF2014. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_coords</td><td>[m] ITRF coordinates at final year, or NULL if not required. It may be the same as either of the inputs. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_rates</td><td>[m/yr] ITRF coordinate rates at final year, or NULL if not known or needed. It may be the same as either of the inputs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 (errno set to EINVAL) if the input coordinates are NULL, or if input rates are NULL <em>but</em> output_rates are not NULL.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ad252294c7d4b3e62609c21f7550e2d09" title="Transforms a geodetic location between two International Terrestrial Reference Frame (ITRF) realizati...">novas_itrf_transform_site()</a>, <a class="el" href="#a3c8c9b8f709d1e5a7aa3a915f8fafcbb" title="Transforms Earth orientation parameters (xp, yp, dUT1) from one ITRF realization to another.">novas_itrf_transform_eop()</a> </dd>
<dd>
<a class="el" href="#ab07d86d425d68a62e94e965dd36b7a32" title="Converts geodetic site coordinates to geocentric Cartesian coordinates, using the specified reference...">novas_geodetic_to_cartesian()</a> </dd></dl>

</div>
</div>
<a id="a3c8c9b8f709d1e5a7aa3a915f8fafcbb" name="a3c8c9b8f709d1e5a7aa3a915f8fafcbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c8c9b8f709d1e5a7aa3a915f8fafcbb">&#9670;&#160;</a></span>novas_itrf_transform_eop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_itrf_transform_eop </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from_year</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>from_xp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>from_yp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>from_dut1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>to_year</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>to_xp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>to_yp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *restrict</td>          <td class="paramname"><span class="paramname"><em>to_dut1</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transforms Earth orientation parameters (xp, yp, dUT1) from one ITRF realization to another. </p>
<p>For the highest precision applications, observing sites should be defined in the same ITRF realization as the IERS Earth orientation parameters (EOP). To reconcile you may transform either the site location or the EOP between different realizations to match.</p>
<p>REFERENCES: </p><ol>
<li>
IERS Conventions, Chapter 4, Eq. 4.14 and Table 4.1. See <a href="https://iers-conventions.obspm.fr/content/chapter4/icc4.pdf">https://iers-conventions.obspm.fr/content/chapter4/icc4.pdf</a> </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">from_year</td><td>[yr] ITRF realization year of input coordinates / rates. E.g. 1992 for ITRF92. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_xp</td><td>[arcsec] x-pole Earth orientation parameter (angle) in the input ITRF realization. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_yp</td><td>[arcsec] y-pole Earth orientation parameter (angle) in the input ITRF realization. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_dut1</td><td>[s] UT1-UTC time difference in the input ITRF realization. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">to_year</td><td>[yr] ITRF realization year of input coordinates / rates. E.g. 2000 for ITRF2000. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_xp</td><td>[arcsec] x-pole Earth orientation parameter (angle) in the output ITRF realization, or NULL if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_yp</td><td>[arcsec] y-pole Earth orientation parameter (angle) in the output ITRF realization, or NULL if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_dut1</td><td>[s] UT1-UTC time difference in the output ITRF realization, or NULL if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#afd98ed01148f1291018809d77785527f" title="Converts ITRF coordinates between different realizations of the ITRF coordinate system.">novas_itrf_transform()</a>, <a class="el" href="#ad252294c7d4b3e62609c21f7550e2d09" title="Transforms a geodetic location between two International Terrestrial Reference Frame (ITRF) realizati...">novas_itrf_transform_site()</a> </dd>
<dd>
<a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838" title="Sets up a observing frame for a specific observer location, time of observation, and accuracy require...">novas_make_frame()</a>, <a class="el" href="structnovas__timespec.html" title="A structure, which defines a precise instant of time that can be extpressed in any of the astronomica...">novas_timespec</a>, <a class="el" href="earth_8c.html#aead87744eeb3029ce7d5ffb1801ee652" title="Corrects a vector in the ITRS (rotating Earth-fixed system) for polar motion, and also corrects the l...">wobble()</a> </dd></dl>

<p class="reference">References <a class="el" href="novas_8h.html#a0b0c2c5ccc61c8740de2e2ac277cd836">NOVAS_DAY</a>, <a class="el" href="novas_8h.html#a1830a25e886366263653167369213d8b">NOVAS_EARTH_FLATTENING</a>, and <a class="el" href="novas_8h.html#a4912c64aec0c943b7985db6cb61ff83a">TWOPI</a>.</p>

</div>
</div>
<a id="ad252294c7d4b3e62609c21f7550e2d09" name="ad252294c7d4b3e62609c21f7550e2d09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad252294c7d4b3e62609c21f7550e2d09">&#9670;&#160;</a></span>novas_itrf_transform_site()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int novas_itrf_transform_site </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from_year</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structon__surface.html">on_surface</a> *</td>          <td class="paramname"><span class="paramname"><em>in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>to_year</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structon__surface.html">on_surface</a> *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transforms a geodetic location between two International Terrestrial Reference Frame (ITRF) realizations. </p>
<p>ITRF realizations differ at the mm / &mu;as level. Thus for the highest accuracy astrometry, from e.g. VLBI sites, it may be desirable to ensure that the site coordinates are defined for the same ITRF realization, as the one in which Earth-orientation parameters (EOP) are provided for <code><a class="el" href="frames_8c.html#adc72577f99a7b076b23e0e44ddbca838" title="Sets up a observing frame for a specific observer location, time of observation, and accuracy require...">novas_make_frame()</a></code>, <code><a class="el" href="structnovas__timespec.html" title="A structure, which defines a precise instant of time that can be extpressed in any of the astronomica...">novas_timespec</a></code>, or <code><a class="el" href="earth_8c.html#aead87744eeb3029ce7d5ffb1801ee652" title="Corrects a vector in the ITRS (rotating Earth-fixed system) for polar motion, and also corrects the l...">wobble()</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">from_year</td><td>[yr] ITRF realization year of input coordinates / rates. E.g. 1992 for ITRF92. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>Input site, defined in the original ITRF realization. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">to_year</td><td>[yr] ITRF realization year of input coordinates / rates. E.g. 2000 for ITRF2000. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>Output site, calculated for the final ITRF realization. It may be the same as the input. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, or else -1 if either site pointer is NULL (errno set to EINVAL).</dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.5 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Attila Kovacs</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a3c8c9b8f709d1e5a7aa3a915f8fafcbb" title="Transforms Earth orientation parameters (xp, yp, dUT1) from one ITRF realization to another.">novas_itrf_transform_eop()</a>, <a class="el" href="#afd98ed01148f1291018809d77785527f" title="Converts ITRF coordinates between different realizations of the ITRF coordinate system.">novas_itrf_transform()</a>, <a class="el" href="observer_8c.html#a236750f494f3dcd943e71ba24aa2a55b" title="Initializes an observing site with the specified International Terrestrial Reference Frame (ITRF) / G...">make_itrf_site()</a>, <a class="el" href="observer_8c.html#ad8b2d2e6ca9570f09a0ca1f82957ed48" title="Initializes an observer data structure for a ground-based observer with the specified International T...">make_itrf_observer()</a> </dd>
<dd>
novas_transform_ellipsoid() </dd></dl>

<p class="reference">References <a class="el" href="structon__surface.html#a89f6abd564014faeff7cd20c340a9c7d">on_surface::height</a>, <a class="el" href="structon__surface.html#a987616dbcfdfc936af3e5874ef5a41e7">on_surface::humidity</a>, <a class="el" href="structon__surface.html#a76714bdbc5c536fa77dfb14533ff82a9">on_surface::latitude</a>, <a class="el" href="structon__surface.html#ac155e35fdeebafc89723a51520fb9fe6">on_surface::longitude</a>, <a class="el" href="#a7479134485c298faa858d73ee0513a11">novas_cartesian_to_geodetic()</a>, <a class="el" href="#ab07d86d425d68a62e94e965dd36b7a32">novas_geodetic_to_cartesian()</a>, <a class="el" href="novas_8h.html#a5928ca4a09c2883b58e951a4582255b3a4080d8e188d2d352b0f63c759ffee118">NOVAS_GRS80_ELLIPSOID</a>, <a class="el" href="#afd98ed01148f1291018809d77785527f">novas_itrf_transform()</a>, <a class="el" href="structon__surface.html#aee1c5d07ac79c5c036195858afe33405">on_surface::pressure</a>, and <a class="el" href="structon__surface.html#ab4b11c8d9c758430960896bc3fe82ead">on_surface::temperature</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="itrf_8c.html">itrf.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
