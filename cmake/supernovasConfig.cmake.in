@PACKAGE_INIT@

# supernovas CMake configuration file

include(CMakeFindDependencyMacro)

# Find math library if needed
if(NOT WIN32)
    find_library(MATH_LIBRARY m)
    if(NOT MATH_LIBRARY)
        message(FATAL_ERROR "Math library not found")
    endif()
endif()

# Include targets
include("${CMAKE_CURRENT_LIST_DIR}/supernovasTargets.cmake")

# Libraries to link against when using SuperNOVAS
set(supernovas_LIBRARIES supernovas::core)

# Get include directories from target properties
get_target_property(supernovas_INCLUDE_DIRS supernovas::core INTERFACE_INCLUDE_DIRECTORIES)

# Check if optional components are available
if(TARGET supernovas::solsys-calceph)
    find_library(CALCEPH_LIB calceph)
    find_dependency(Threads)
    list(APPEND supernovas_LIBRARIES supernovas::solsys-calceph ${CALCEPH_LIB} ${MATH_LIBRARY} Threads::Threads)
    set(supernovas_solsys-calceph_FOUND TRUE)
else()
    set(supernovas_solsys-calceph_FOUND FALSE)
endif()

if(TARGET supernovas::solsys-cspice)
    find_library(CSPICE_LIB cspice)
    find_dependency(Threads)
    list(APPEND supernovas_LIBRARIES supernovas::solsys-cspice ${CSPICE_LIB} ${MATH_LIBRARY} Threads::Threads)
    set(supernovas_solsys-cspice_FOUND TRUE)
else()
    set(supernovas_solsys-cspice_FOUND FALSE)
endif()

check_required_components(supernovas)


